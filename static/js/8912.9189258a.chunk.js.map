{"version":3,"file":"static/js/8912.9189258a.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/@adobecom/blocks/section-metadata/sticky-section.js"],"sourcesContent":["function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","import { createTag } from '../../utils/utils.js';\nimport { getMetadata, getDelayTime } from './section-metadata.js';\nimport { getGnavHeight } from '../global-navigation/utilities/utilities.js';\n\nfunction handleTopHeight(section) {\n  const topHeight = getGnavHeight();\n  section.style.top = `${topHeight}px`;\n}\n\nfunction promoIntersectObserve(el, stickySectionEl, options = {}) {\n  return new IntersectionObserver((entries, observer) => {\n    entries.forEach((entry) => {\n      if (el.classList.contains('close-sticky-section')) {\n        window.removeEventListener('resize', handleTopHeight);\n        observer.unobserve(entry.target);\n        return;\n      }\n\n      const { target, isIntersecting } = entry;\n\n      const abovePromoStart = (target === stickySectionEl && isIntersecting)\n        || stickySectionEl?.getBoundingClientRect().y > 0;\n\n      if (target === document.querySelector('footer')) {\n        el.classList.toggle('fill-sticky-section', isIntersecting);\n      } else if (target === document.querySelector('.hide-at-intersection')) {\n        const shouldHideSticky = isIntersecting\n        || entry.boundingClientRect.top < 0\n        || stickySectionEl?.getBoundingClientRect().y > 0;\n        el.classList.toggle('hide-sticky-section', shouldHideSticky);\n      } else el.classList.toggle('hide-sticky-section', abovePromoStart);\n    });\n  }, options);\n}\n\nfunction handleStickyPromobar(section, delay) {\n  const main = document.querySelector('main');\n  section.classList.add('promo-sticky-section', 'hide-sticky-section');\n  if (section.querySelector('.popup:is(.promobar)')) section.classList.add('popup');\n  let stickySectionEl = null;\n  let hasScrollControl;\n  if ((section.querySelector(':is(.promobar, .notification)').classList.contains('no-delay'))\n    || (delay && section.classList.contains('popup'))) {\n    hasScrollControl = true;\n    section.classList.remove('hide-sticky-section');\n  }\n  const metadata = getMetadata(section.querySelector('.section-metadata'));\n\n  if (!hasScrollControl && main.children[0] !== section) {\n    const isStickyAfterCTA = metadata?.style?.text.includes('sticky-after-cta');\n\n    if (isStickyAfterCTA) {\n      stickySectionEl = main.children[0].querySelector('.action-area');\n      stickySectionEl?.classList.add('show-sticky-section');\n    } else {\n      stickySectionEl = createTag('div', { class: 'section show-sticky-section' });\n      section.parentElement.insertBefore(stickySectionEl, section);\n    }\n  }\n  const io = promoIntersectObserve(section, stickySectionEl);\n  if (stickySectionEl) io.observe(stickySectionEl);\n  if (section.querySelector(':is(.promobar, .notification)')) {\n    io.observe(document.querySelector('footer'));\n  }\n\n  const selector = metadata?.['custom-hide']?.text?.trim();\n  const targetElement = selector ? document.querySelector(selector) : null;\n  if (targetElement) {\n    stickySectionEl = createTag('div', { class: 'hide-at-intersection' });\n    targetElement.parentElement.insertBefore(stickySectionEl, targetElement);\n    io.observe(stickySectionEl);\n  }\n}\n\nexport default async function handleStickySection(sticky, section) {\n  const main = document.querySelector('main');\n  switch (sticky) {\n    case 'sticky-top': {\n      const { debounce } = await import('../../utils/action.js');\n      window.addEventListener('resize', debounce(() => handleTopHeight(section)));\n      handleTopHeight(section);\n      main.prepend(section);\n      break;\n    }\n    case 'sticky-bottom': {\n      if (section.querySelector(':is(.promobar, .notification)')) {\n        const metadata = getMetadata(section.querySelector('.section-metadata'));\n        const delay = getDelayTime(metadata.delay?.text);\n        if (delay) setTimeout(() => { handleStickyPromobar(section, delay); }, delay);\n        else handleStickyPromobar(section, delay);\n      }\n      main.append(section);\n      break;\n    }\n    default:\n      break;\n  }\n}\n"],"names":["_taggedTemplateLiteral","e","t","slice","Object","freeze","defineProperties","raw","value","handleTopHeight","section","topHeight","getGnavHeight","style","top","concat","handleStickyPromobar","delay","_metadata$customHide","main","document","querySelector","classList","add","hasScrollControl","stickySectionEl","contains","remove","metadata","getMetadata","children","_metadata$style","_stickySectionEl","text","includes","createTag","class","parentElement","insertBefore","io","el","IntersectionObserver","entries","observer","forEach","entry","window","removeEventListener","unobserve","target","isIntersecting","abovePromoStart","getBoundingClientRect","y","toggle","shouldHideSticky","boundingClientRect","arguments","length","undefined","promoIntersectObserve","observe","selector","trim","targetElement","handleStickySection","sticky","debounce","addEventListener","prepend","_metadata$delay","getDelayTime","setTimeout","append"],"sourceRoot":""}