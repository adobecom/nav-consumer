"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[734,7528],{7528:(e,t,n)=>{function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>i})},734:(e,t,n)=>{n.r(t),n.d(t,{MerchQuantitySelect:()=>f});var i,o,s,a,r=n(7528),l=n(5389),d=(n(2560),(0,l.c)(i||(i=(0,r.A)(['\n    :host {\n        box-sizing: border-box;\n        --background-color: var(--qs-background-color, #f6f6f6);\n        --text-color: #000;\n        --radius: 5px;\n        --border-color: var(--qs-border-color, #e8e8e8);\n        --border-width: var(--qs-border-width, 1px);\n        --label-font-size: var(--qs-label-font-size, 12px);\n        --font-size: var(--qs-font-size, 12px);\n        --label-color: var(--qs-lable-color, #000);\n        --input-height: var(--qs-input-height, 30px);\n        --input-width: var(--qs-input-width, 72px);\n        --button-width: var(--qs-button-width, 30px);\n        --font-size: var(--qs-font-size, 12px);\n        --picker-fill-icon: var(\n            --chevron-down-icon,\n            url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="10" height="6" aria-hidden="true" viewBox="0 0 10 6"><path fill="%23787878" d="M9.99 1.01A1 1 0 0 0 8.283.3L5 3.586 1.717.3A1 1 0 1 0 .3 1.717L4.293 5.7a1 1 0 0 0 1.414 0L9.7 1.717a1 1 0 0 0 .29-.707z"/></svg>\')\n        );\n        --qs-transition: var(--transition);\n\n        display: block;\n        position: relative;\n        color: var(--text-color);\n        line-height: var(--qs-line-height, 2);\n    }\n\n    .text-field {\n        display: flex;\n        align-items: center;\n        width: var(--input-width);\n        position: relative;\n        margin-top: 6px;\n    }\n\n    .text-field-input {\n        font-family: inherit;\n        padding: 0;\n        font-size: var(--font-size);\n        height: var(--input-height);\n        width: calc(var(--input-width) - var(--button-width));\n        border: var(--border-width) solid var(--border-color);\n        border-top-left-radius: var(--radius);\n        border-bottom-left-radius: var(--radius);\n        border-right: none;\n        padding-inline-start: 12px;\n        box-sizing: border-box;\n        -moz-appearance: textfield;\n    }\n\n    .text-field-input::-webkit-inner-spin-button,\n    .text-field-input::-webkit-outer-spin-button {\n        margin: 0;\n        -webkit-appearance: none;\n    }\n\n    .label {\n        font-size: var(--label-font-size);\n        color: var(--label-color);\n    }\n\n    .picker-button {\n        width: var(--button-width);\n        height: var(--input-height);\n        position: absolute;\n        inset-inline-end: 0;\n        border: var(--border-width) solid var(--border-color);\n        border-top-right-radius: var(--radius);\n        border-bottom-right-radius: var(--radius);\n        background-color: var(--background-color);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        padding: 0;\n    }\n\n    .picker-button-fill {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-image: var(--picker-fill-icon);\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n\n    .popover {\n        position: absolute;\n        left: 0;\n        width: var(--input-width);\n        border-radius: var(--radius);\n        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        overflow: hidden;\n        z-index: 100;\n        transition: var(--qs-transition);\n        opacity: 0;\n        box-sizing: border-box;\n    }\n\n    .popover[placement="bottom"] {\n        top: var(--input-height);\n        margin-top: var(--popover-margin-top, 6px);\n    }\n\n    .popover[placement="top"] {\n        bottom: var(--input-height);\n        margin-bottom: var(--popover-margin-bottom, 6px);\n    }\n\n    .popover.open {\n        opacity: 1;\n        background: #ffffff;\n        border: var(--border-width) solid var(--border-color);\n    }\n\n    .popover.closed {\n        opacity: 0;\n        pointer-events: none;\n        transition: none;\n    }\n\n    ::slotted(p) {\n        margin: 0;\n    }\n\n    .item {\n        display: flex;\n        align-items: center;\n        color: var(--text-color);\n        font-size: var(--font-size);\n        padding-inline-start: 12px;\n        box-sizing: border-box;\n    }\n\n    .item.highlighted {\n        background-color: var(--background-color);\n    }\n'])))),h=(Object.freeze({MONTH:"MONTH",YEAR:"YEAR",TWO_YEARS:"TWO_YEARS",THREE_YEARS:"THREE_YEARS",PERPETUAL:"PERPETUAL",TERM_LICENSE:"TERM_LICENSE",ACCESS_PASS:"ACCESS_PASS",THREE_MONTHS:"THREE_MONTHS",SIX_MONTHS:"SIX_MONTHS"}),Object.freeze({ANNUAL:"ANNUAL",MONTHLY:"MONTHLY",TWO_YEARS:"TWO_YEARS",THREE_YEARS:"THREE_YEARS",P1D:"P1D",P1Y:"P1Y",P3Y:"P3Y",P10Y:"P10Y",P15Y:"P15Y",P3D:"P3D",P7D:"P7D",P30D:"P30D",HALF_YEARLY:"HALF_YEARLY",QUARTERLY:"QUARTERLY"}),"".concat('span[is="inline-price"][data-wcs-osi]',",").concat('a[is="checkout-link"][data-wcs-osi],button[is="checkout-button"][data-wcs-osi]'),"merch-card-quantity:change");Object.freeze({SEGMENTATION:"segmentation",BUNDLE:"bundle",COMMITMENT:"commitment",RECOMMENDATION:"recommendation",EMAIL:"email",PAYMENT:"payment",CHANGE_PLAN_TEAM_PLANS:"change-plan/team-upgrade/plans",CHANGE_PLAN_TEAM_PAYMENT:"change-plan/team-upgrade/payment"}),Object.freeze({STAGE:"STAGE",PRODUCTION:"PRODUCTION",LOCAL:"LOCAL"});function u(e,t){let n;return function(){let i=this,o=arguments;clearTimeout(n),n=setTimeout((()=>e.apply(i,o)),t)}}var[p,c,b,v,g,m]=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter","Tab"],f=class extends l.f{static get properties(){return{closed:{type:Boolean,reflect:!0},selected:{type:Number},min:{type:Number},max:{type:Number},step:{type:Number},maxInput:{type:Number,attribute:"max-input"},options:{type:Array},highlightedIndex:{type:Number},defaultValue:{type:Number,attribute:"default-value",reflect:!0},title:{type:String}}}static get styles(){return d}constructor(){super(),this.options=[],this.title="",this.closed=!0,this.min=0,this.max=0,this.step=0,this.maxInput=void 0,this.defaultValue=void 0,this.selectedValue=0,this.highlightedIndex=0,this.toggleMenu=this.toggleMenu.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.boundKeydownListener=this.handleKeydown.bind(this),this.handleKeyupDebounced=u(this.handleKeyup.bind(this),500),this.debouncedQuantityUpdate=u(this.handleQuantityUpdate.bind(this),500)}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",this.boundKeydownListener),window.addEventListener("mousedown",this.handleClickOutside),this.addEventListener(h,this.debouncedQuantityUpdate)}handleKeyup(){this.handleInput(),this.sendEvent()}handleKeydown(e){switch(e.key){case v:this.closed||(e.preventDefault(),this.highlightedIndex=(this.highlightedIndex+1)%this.options.length);break;case b:this.closed||(e.preventDefault(),this.highlightedIndex=(this.highlightedIndex-1+this.options.length)%this.options.length);break;case g:if(this.closed)this.closePopover(),this.blur();else{let e=this.options[this.highlightedIndex];if(!e)break;this.selectedValue=e,this.handleMenuOption(this.selectedValue),this.toggleMenu()}}e.composedPath().includes(this)&&e.stopPropagation()}adjustInput(e,t){this.selectedValue=t,e.value=t,this.highlightedIndex=this.options.indexOf(t)}handleInput(){let e=this.shadowRoot.querySelector(".text-field-input"),t=parseInt(e.value);if(!isNaN(t))if(t>0&&t!==this.selectedValue){let n=t;this.maxInput&&t>this.maxInput&&(n=this.maxInput),this.min&&n<this.min&&(n=this.min),this.adjustInput(e,n)}else this.adjustInput(e,this.selectedValue||this.min||1)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("mousedown",this.handleClickOutside),this.removeEventListener("keydown",this.boundKeydownListener),this.removeEventListener(h,this.debouncedQuantityUpdate)}generateOptionsArray(){let e=[];if(this.step>0)for(let t=this.min;t<=this.max;t+=this.step)e.push(t);return e}update(e){(e.has("min")||e.has("max")||e.has("step")||e.has("defaultValue"))&&(this.options=this.generateOptionsArray(),this.highlightedIndex=this.defaultValue?this.options.indexOf(this.defaultValue):0,this.handleMenuOption(this.defaultValue?this.defaultValue:this.options[0])),super.update(e)}handleClickOutside(e){e.composedPath().includes(this)||this.closePopover()}toggleMenu(){this.closed=!this.closed,this.adjustPopoverPlacement(),this.closed&&(this.highlightedIndex=this.options.indexOf(this.selectedValue))}adjustPopoverPlacement(){let e=this.shadowRoot.querySelector(".popover");this.closed||e.getBoundingClientRect().bottom<=window.innerHeight?e.setAttribute("placement","bottom"):e.setAttribute("placement","top")}handleMouseEnter(e){this.highlightedIndex=e}handleMenuOption(e){var t;e===this.max&&null!==(t=this.shadowRoot.querySelector(".text-field-input"))&&void 0!==t&&t.focus(),this.selectedValue=e,this.sendEvent(),this.closePopover()}sendEvent(){let e=new CustomEvent("merch-quantity-selector:change",{detail:{option:this.selectedValue},bubbles:!0});this.dispatchEvent(e)}closePopover(){this.closed||this.toggleMenu()}get offerSelect(){return this.querySelector("merch-offer-select")}get popover(){return(0,l.d)(o||(o=(0,r.A)([' <div class="popover ','" placement="bottom">\n            ',"\n        </div>"])),this.closed?"closed":"open",this.options.map(((e,t)=>(0,l.d)(s||(s=(0,r.A)(['\n                    <div\n                        class="item ','"\n                        @click="','"\n                        @mouseenter="','"\n                    >\n                        ',"\n                    </div>\n                "])),t===this.highlightedIndex?"highlighted":"",(()=>this.handleMenuOption(e)),(()=>this.handleMouseEnter(t)),e===this.max?"".concat(e,"+"):e))))}handleQuantityUpdate(e){let{detail:{quantity:t}}=e;if(t&&t!==this.selectedValue){this.selectedValue=t;let e=this.shadowRoot.querySelector(".text-field-input");e&&(e.value=t),this.sendEvent()}}render(){return(0,l.d)(a||(a=(0,r.A)(['\n            <div class="label" id="qsLabel">','</div>\n            <div class="text-field">\n                <input\n                    class="text-field-input"\n                    aria-labelledby="qsLabel"\n                    name="quantity"\n                    @focus="','"\n                    .value="','"\n                    type="number"\n                    @keydown="','"\n                    @keyup="','"\n                />\n                <button class="picker-button" aria-labelledby="qsLabel" @click="','">\n                    <div\n                        class="picker-button-fill ','"\n                    ></div>\n                </button>\n                ',"\n            </div>\n        "])),this.title,this.closePopover,this.selectedValue,this.handleKeydown,this.handleKeyupDebounced,this.toggleMenu,this.closed?"open":"closed",this.popover)}};customElements.define("merch-quantity-select",f)}}]);
//# sourceMappingURL=734.7bac89a0.chunk.js.map