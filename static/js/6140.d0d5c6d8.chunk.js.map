{"version":3,"file":"static/js/6140.d0d5c6d8.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/martech/helpers.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nconst AMCV_COOKIE = 'AMCV_9E1005A551ED61CA0A490D45@AdobeOrg';\nconst KNDCTR_COOKIE_KEYS = [\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_identity',\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_cluster',\n];\n\nconst KNDCTR_CONSENT_COOKIE = 'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent';\nconst OPT_ON_AND_CONSENT_COOKIE = 'OptanonConsent';\n\nconst DATA_STREAM_IDS_PROD = { default: '913eac4d-900b-45e8-9ee7-306216765cd2', business: '0fd7a243-507d-4035-9c75-e42e42f866a0' };\nconst DATA_STREAM_IDS_STAGE = { default: 'e065836d-be57-47ef-b8d1-999e1657e8fd', business: '2eedf777-b932-4f2a-a0c5-b559788929bf' };\n\nlet dataStreamId = '';\n\nfunction getDomainWithoutWWW() {\n  const domain = window?.location?.hostname;\n  return domain.replace(/^www\\./, '');\n}\n\nconst hitTypeEventTypeMap = {\n  propositionFetch: 'decisioning.propositionFetch',\n  pageView: 'web.webpagedetails.pageViews',\n  propositionDisplay: 'decisioning.propositionDisplay',\n};\n\nfunction generateUUIDv4() {\n  const randomValues = new Uint8Array(16);\n  crypto.getRandomValues(randomValues);\n  randomValues[6] = (randomValues[6] % 16) + 64;\n  randomValues[8] = (randomValues[8] % 16) + 128;\n  let uuid = '';\n  randomValues.forEach((byte, index) => {\n    const hex = byte.toString(16).padStart(2, '0');\n    if (index === 4 || index === 6 || index === 8 || index === 10) {\n      uuid += '-';\n    }\n    uuid += hex;\n  });\n\n  return uuid;\n}\n\nfunction getDeviceInfo() {\n  return {\n    screenWidth: window.screen.width,\n    screenHeight: window.screen.height,\n    screenOrientation: window.innerWidth > window.innerHeight ? 'landscape' : 'portrait',\n    viewportWidth: window.innerWidth,\n    viewportHeight: window.innerHeight,\n  };\n}\n\nfunction getCookie(key) {\n  const cookie = document.cookie.split(';')\n    .map((x) => decodeURIComponent(x.trim()).split(/=(.*)/s))\n    .find(([k]) => k === key);\n\n  return cookie ? cookie[1] : null;\n}\n\nfunction setCookie(key, value, options = {}) {\n  const expires = options.expires || 730;\n  const date = new Date();\n  date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n  const expiresString = `expires=${date.toUTCString()}`;\n\n  document.cookie = `${key}=${value}; ${expiresString}; path=/ ; domain=.${getDomainWithoutWWW()};`;\n}\n\nexport const getVisitorStatus = ({\n  expiryDays = 30,\n  cookieName = 's_nr',\n  domain = `.${(new URL(window.location.origin)).hostname}`,\n}) => {\n  const currentTime = new Date().getTime();\n  const cookieValue = getCookie(cookieName) || '';\n  const cookieAttributes = { expires: new Date(currentTime + expiryDays * 24 * 60 * 60 * 1000) };\n\n  if (domain) {\n    cookieAttributes.domain = domain;\n  }\n\n  if (!cookieValue) {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  const [storedTime, storedState] = cookieValue.split('-').map((value) => value.trim());\n\n  if (currentTime - storedTime < 30 * 60 * 1000 && storedState === 'New') {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  setCookie(cookieName, `${currentTime}-Repeat`, cookieAttributes);\n  return 'Repeat';\n};\n\nfunction getOrGenerateUserId() {\n  const amcvCookieValue = getCookie(AMCV_COOKIE);\n\n  if (!amcvCookieValue || (amcvCookieValue.indexOf('MCMID|') === -1)) {\n    const fpidValue = generateUUIDv4();\n    return {\n      FPID: [{\n        id: fpidValue,\n        authenticatedState: 'ambiguous',\n        primary: true,\n      }],\n    };\n  }\n\n  return {\n    ECID: [{\n      id: amcvCookieValue.match(/MCMID\\|([^|]+)/)?.[1],\n      authenticatedState: 'ambiguous',\n      primary: true,\n    }],\n  };\n}\n\nfunction getUpdatedVisitAttempt() {\n  const { hostname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('secondHit')) || 0;\n\n  const isAdobeDomain = hostname === 'www.adobe.com' || hostname === 'www.stage.adobe.com';\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('secondHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nfunction getUpdatedAcrobatVisitAttempt() {\n  const { hostname, pathname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('acrobatSecondHit')) || 0;\n\n  const isAdobeDomain = (hostname === 'www.adobe.com' || hostname === 'www.stage.adobe.com') && /\\/acrobat/.test(pathname);\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('acrobatSecondHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nfunction getUpdatedDxVisitAttempt() {\n  const { hostname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('dxHit')) || 0;\n\n  const isAdobeDomain = (hostname === 'business.adobe.com' || hostname === 'business.stage.adobe.com' || hostname === 'www.marketo.com' || hostname === 'engage.marketo.com');\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('dxHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nexport function getPageNameForAnalytics() {\n  const { hostname, pathname } = new URL(window.location.href);\n  const urlRegions = Object.fromEntries(['ae_ar', 'ae_en', 'africa', 'apac', 'ar', 'at', 'au', 'be', 'be_en', 'be_fr', 'be_nl',\n    'bg', 'br', 'ca', 'ca_es', 'ca_fr', 'ch', 'ch_de', 'ch_fr', 'ch_it', 'cin', 'cis_en', 'cis_ru', 'cl', 'cn', 'co', 'cr', 'cs',\n    'cs_cz', 'cy', 'cy_en', 'cz', 'da', 'da_dk', 'de', 'de_de', 'dk', 'ec', 'ee', 'eeurope', 'eg_ar', 'eg_en', 'en', 'en_gb',\n    'en_us', 'es', 'es_es', 'eu_es', 'fi', 'fi_fi', 'fr', 'fr_fr', 'gr', 'gr_el', 'gr_en', 'gt', 'hk', 'hk_en', 'hk_zh', 'hr',\n    'hr_hr', 'hu', 'hu_hu', 'id_en', 'id_id', 'ie', 'il', 'il_en', 'il_he', 'in', 'in_hi', 'it', 'it_it', 'ja', 'ja_jp', 'jp',\n    'ko', 'ko_kr', 'kr', 'kw_ar', 'kw_en', 'la', 'lt', 'lu', 'lu_de', 'lu_en', 'lu_fr', 'lv', 'mena', 'mena_ar', 'mena_en',\n    'mena_fr', 'mt', 'mx', 'my_en', 'my_ms', 'na', 'nb', 'nb_no', 'ng', 'nl', 'nl_nl', 'no', 'nz', 'pe', 'ph_en', 'ph_fil',\n    'pl', 'pl_pl', 'pr', 'pt', 'pt_br', 'qa_ar', 'qa_en', 'ro', 'ro_ro', 'rs', 'ru', 'ru_ru', 'sa_ar', 'sa_en', 'se', 'sea',\n    'sg', 'si', 'sk', 'sk_sk', 'sl_si', 'sv', 'sv_se', 'th', 'th_en', 'th_th', 'tr', 'tr_tr', 'tw', 'tw_cn', 'ua', 'uk', 'uk_ua',\n    'us', 'vn_en', 'vn_vi', 'za', 'zh-Hans', 'zh-Hant', 'zh-tw', 'zh_cn', 'zh_tw'].map((r) => [r, 1]));\n\n  const path = pathname.replace(/\\.(aspx|php|html)/g, '').split('/').filter((s) => s && !urlRegions[s.toLowerCase()]).join(':');\n  return `${hostname.replace('www.', '')}${path ? `:${path}` : ''}`;\n}\n\nexport function getProcessedPageNameForAnalytics() {\n  const pageName = getPageNameForAnalytics().toLowerCase();\n  const pageArray = pageName.split(':');\n\n  const FILTERS = {\n    lightroom: ['lightroom.adobe.com', 'embed', 'shares', 'libraries', 'gallery', 'learn', 'tutorial', 'discover', 'remix', 'api', 'feedback', 'lrdesktop', 'albums', 'shared-with-you', 'search', 'gallery', 'incomplete', 'assets', 'u', 'slideshow'],\n    stock: ['stock.adobe.com', '3d-assets', 'aaid', 'category', 'collections', 'contributor', 'download', 'downloadfiledirectly', 'id', 'images', 'Library', 'pages', 'sc', 'search', 'stock-photo', 'templates', 'urn', 'video', 'editorial', 'free', 'audio', 'premium', 'login', 'generate', 'artisthub'],\n    xd: ['xd.adobe.com', 'embed', 'grid', 'screen', 'specs', 'view', 'spec'],\n    express: ['express.adobe.com', 'aaid', 'accept-invite', 'branding', 'design', 'design-remix', 'folders', 'libraries', 'manage-access', 'page', 'post', 'remix', 'sc', 'sp', 'urn', 'video', 'new', 'projects', 'app-licensing', 'app-licensing-homepage'],\n    account: ['accounts.adobe.com', 'account.adobe.com', '30_free_days', '60_free_days', '90_free_days', 'agent_chat', 'cancel-plan', 'change-plan', 'change reason selected modal', 'complete', 'cs_help', 'edit-payment', 'modal', 'new-change-plan-offers-loaded', 'no_offershown', 'offer_search', 'plans', 'promotion', 'review', 'save_offer', 'switch', 'temp_license_prod', 'billing-history', 'cancel-reason', 'change reason selected modal', 'cs_help', 'details', 'manage plan modal', 'modal', 'offer_search', 'orders', 'other', 'plan-benefits-modal', 'plan-details', 'returns', 'save_offer', 'downloads'],\n    adminconsole: ['adminconsole.adobe.com', 'account', 'administrators', 'add-products', 'all-packages', 'billing-history', 'contract', 'contracts-and-agreements', 'enterprise', 'identity', 'packages', 'products', 'profile', 'profiles', 'overview', 'quick-assign-products', 'renew-products', 'requests', 'review-user-introductions', 'settings', 'storage', 'support', 'user-management', 'users', 'version.xml', 'all-users', 'directories', 'summary', 'user-groups'],\n    community: ['community.adobe.com', 'account-payment-plan-discussions', 'acrobat-discussions', 'acrobat-reader-discussions', 'acrobat-reader-mobile-discussions', 'acrobat-sdk-discussions', 'acrobat-services-api-discussions', 'adobe-acrobat-online-discussions', 'adobe-acrobat-sign-discussions', 'adobe-aero-bugs', 'adobe-aero-discussions', 'adobe-color-discussions', 'adobe-express-bugs', 'adobe-express-discussions', 'adobe-firefly-bugs', 'adobe-firefly-discussions', 'adobe-firefly-ideas', 'adobe-fonts-discussions', 'adobe-learning-manager-discussions', 'adobe-media-encoder-discussions', 'adobe-scan-discussions', 'adobe-xd-discussions', 'after-effects-beta-discussions', 'after-effects-bugs', 'after-effects-discussions', 'after-effects-ideas', 'air-discussions', 'animate-discussions', 'audition-discussions', 'badges', 'bridge-discussions', 'business-catalyst-discussions-read-only', 'camera-raw-discussions', 'captivate-discussions', 'character-animator-discussions', 'coldfusion-discussions', 'color-management-discussions', 'connect-discussions', 'contentarchivals', 'creative-cloud-desktop-discussions', 'creative-cloud-services-discussions', 'digital-editions-discussions', 'dimension-discussions', 'download-install-discussions', 'dreamweaver-discussions', 'enterprise-teams-discussions', 'exchange-discussions', 'fireworks-discussions', 'flash-player-discussions', 'forums', 'framemaker-discussions', 'fresco-discussions', 'illustrator-discussions', 'illustrator-draw-discussions', 'illustrator-on-the-ipad-discussions', 'incopy-discussions', 'indesign-discussions', 'kudos', 'lightroom-classic-bugs', 'lightroom-classic-discussions', 'lightroom-classic-ideas', 'lightroom-ecosystem-cloud-based-bugs', 'lightroom-ecosystem-cloud-based-discussions', 'lightroom-ecosystem-cloud-based-ideas', 'mixamo-discussions', 'muse-discussions', 'photoshop-beta-bugs', 'photoshop-beta-discussions', 'photoshop-discussions', 'photoshop-ecosystem-bugs', 'photoshop-ecosystem-discussions', 'photoshop-ecosystem-ideas', 'photoshop-elements-discussions', 'photoshop-express-discussions', 'photoshop-sketch-discussions', 'postscript-discussions', 'premiere-elements-discussions', 'premiere-pro-beta-bugs', 'premiere-pro-beta-discussions', 'premiere-pro-bugs', 'premiere-pro-discussions', 'premiere-pro-ideas', 'premiere-rush-discussions', 'robohelp-discussions', 'stock-contributors-discussions', 'stock-discussions', 'substance-3d-designer-discussions', 'substance-3d-painter-bugs', 'substance-3d-painter-discussions', 'substance-3d-plugins-discussions', 'substance-3d-sampler-discussions', 'substance-3d-stager-discussions', 't5', 'team-projects-discussions', 'the-lounge-discussions', 'type-typography-discussions', 'user', 'using-the-community-discussions', 'video', 'video-hardware-discussions', 'video-lounge-discussions', 'xd-discussions'],\n    acrobat: ['acrobat.adobe.com', 'aaid', 'documents', 'gdrive', 'id', 'link', 'onedrive', 'sc', 'urn'],\n    behance: ['behance.net', 'appreciated', 'collection', 'collections', 'dailycc', 'discover', 'drafts', 'editor', 'followers', 'following', 'font', 'gallery', 'inbox', 'info', 'insights', 'joblist', 'live', 'loggedout', 'moodboard', 'profile', 'projects', 'report', 'resume', 'search', 'talent'],\n    fonts: ['fonts.adobe.com', 'confirm', 'fonts', 'results', 'select', 'upload', 'vs'],\n    photoshop: ['photoshop.adobe.com', 'id', 'urn', 'aaid', 'sc', 'us', 'ap', 'eu', 'va6c2', 'va7'],\n    plan: ['plan.adobe.com', 'cancel', 'cancel-reason', 'change', 'entitlements', 'interest', 'learn-more', 'loss-aversion-page', 'offers', 'offers-loaded', 'quiz', 'reasons', 'review', 'select-licenses', 'switch', 'switch-plan', 'view', 'plans', 'view-offer-details', 'saved', 'results'],\n    color: ['color.adobe.com', 'cloud', 'color', 'color-accessibility', 'color-contrast-analyzer', 'color-wheel', 'color-wheel-game', 'image', 'image-gradient', 'mythemes', 'urn', 'aaid', 'sc', 'library', 'trends', 'create'],\n    creative: ['creative.adobe.com', 'code', 'redeem', 'share'],\n    portfolio: ['portfolio.adobe.com', 'account-swaps', 'admin', 'preview', 'editor', 'firsteditor', 'switch-theme', 'user'],\n    schedule: ['schedule.adobe.com', 'calendar', 'connect', 'finalise'],\n    newexpress: ['new.express.adobe.com', 'aaid', 'branding', 'brands', 'design', 'design-remix', 'id', 'libraries', 'link', 'page', 'post', 'sc', 'sp', 'template', 'urn', 'video', 'webpage', 'your-stuff'],\n  };\n\n  const SPECIAL_DOMAINS = [\n    'lightroom.adobe.com', 'stock.adobe.com', 'xd.adobe.com', 'express.adobe.com',\n    'accounts.adobe.com', 'account.adobe.com', 'adminconsole.adobe.com',\n    'community.adobe.com', 'acrobat.adobe.com', 'behance.net', 'fonts.adobe.com',\n    'photoshop.adobe.com', 'plan.adobe.com', 'color.adobe.com', 'creative.adobe.com',\n    'portfolio.adobe.com', 'schedule.adobe.com', 'new.express.adobe.com',\n  ];\n\n  const signMatch = pageName.match(/.*\\.echosign\\..*|.*\\.adobesign\\..*|.*documents\\.adobe\\.com.*/);\n  if (signMatch) {\n    return signMatch[1];\n  }\n  if (document.title && document.title.includes('404')) {\n    return 'adobe.com:404';\n  }\n  if (pageName.match(/^stock\\.adobe\\.com:..:(1|2|3[^\\d]|4|5|6|7|8|9)|^stock\\.adobe\\.com:(1|2|3[^\\d]|4|5|6|7|8|9)/)) {\n    return 'stock.adobe.com:file';\n  }\n  for (const [, filter] of Object.entries(FILTERS)) {\n    if (pageName.startsWith(filter[0])) {\n      const filtered = pageArray.filter((value) => filter.includes(value)).join(':');\n      return SPECIAL_DOMAINS.includes(filtered) ? pageName : filtered;\n    }\n  }\n\n  return pageName;\n}\n\nfunction resolveAgiCampaignAndFlag() {\n  const { hostname, pathname, href } = window.location;\n  const consentValue = getCookie('OptanonConsent');\n  const EXPIRY_TIME_IN_DAYS = 90;\n  const CAMPAIGN_PAGE_VALUE = '1';\n  const ACROBAT_DOMAIN_VALUE = '2';\n\n  if (!consentValue?.includes('C0002:1')) {\n    return { agiCampaign: false, setAgICampVal: false };\n  }\n\n  const agiCookie = getCookie('agiCamp');\n  const setAgiCookie = (value) => {\n    setCookie('agiCamp', value, {\n      expires: EXPIRY_TIME_IN_DAYS,\n      domain: getDomainWithoutWWW(),\n    });\n  };\n\n  const campaignRegex = /ttid=(all-in-one|reliable|versatile|combine-organize-e-sign|webforms-edit-e-sign)/;\n  const isGotItPage = pathname.includes('/acrobat/campaign/acrobats-got-it.html') && campaignRegex.test(href);\n  const isAcrobatDomain = hostname === 'acrobat.adobe.com' || (hostname === 'www.adobe.com' && pathname.includes('/acrobat'));\n\n  let agiCampaign = false;\n\n  if (isGotItPage && (!agiCookie || agiCookie !== ACROBAT_DOMAIN_VALUE)) {\n    setAgiCookie(CAMPAIGN_PAGE_VALUE);\n    agiCampaign = CAMPAIGN_PAGE_VALUE;\n  } else if (isAcrobatDomain && (!agiCookie || agiCookie !== CAMPAIGN_PAGE_VALUE)) {\n    if (agiCookie === ACROBAT_DOMAIN_VALUE) return { agiCampaign: false, setAgICampVal: false };\n    setAgiCookie(ACROBAT_DOMAIN_VALUE);\n    agiCampaign = ACROBAT_DOMAIN_VALUE;\n  }\n\n  const setAgICampVal = agiCampaign === CAMPAIGN_PAGE_VALUE || agiCampaign === ACROBAT_DOMAIN_VALUE;\n  return { agiCampaign, setAgICampVal };\n}\n\nfunction getGlobalPrivacyControl() {\n  if (!navigator || !navigator.globalPrivacyControl) return '';\n  return navigator.globalPrivacyControl.toString();\n}\n\nfunction getEntityId() {\n  if (window.location.href === 'https://www.adobe.com/express/') {\n    return 'a2c4e4e4-eaa9-11ed-a05b-0242ac120003';\n  }\n  const metaTag = document.querySelector('meta[name=\"entity_id\"]');\n  return metaTag ? metaTag.getAttribute('content') : null;\n}\n\nfunction getPrimaryProduct() {\n  const productNameMeta = document.querySelector('meta[name=\"primaryproductname\"]');\n  return productNameMeta?.content || null;\n}\n\nconst LOCALE_MAPPINGS = {\n  '': 'en-US', ar: 'es-AR', br: 'pt-BR', ca: 'en-CA', ca_fr: 'fr-CA', cl: 'es-CL', co: 'es-CO', la: 'es-LA', mx: 'es-MX', pe: 'es-PE', africa: 'en-AFRICA', be_fr: 'fr-BE', be_en: 'en-BE', be_nl: 'nl-BE', cy_en: 'en-CY', dk: 'da-DK', de: 'de-DE', ee: 'et-EE', es: 'es-ES', fr: 'fr-FR', gr_en: 'en-GR', ie: 'en-IE', il_en: 'en-IL', it: 'it-IT', lv: 'lv-LV', lt: 'lt-LT', lu_de: 'de-LU', lu_en: 'en-LU', lu_fr: 'fr-LU', hu: 'hu-HU', mt: 'en-MT', mena_en: 'en-MENA', nl: 'nl-NL', no: 'no-NO', pl: 'pl-PL', pt: 'pt-PT', ro: 'ro-RO', sa_en: 'en-SA', ch_de: 'de-CH', si: 'sl-SI', sk: 'sk-SK', ch_fr: 'fr-CH', fi: 'fi-FI', se: 'sv-SE', ch_it: 'it-CH', tr: 'tr-TR', ae_en: 'en-AE', uk: 'en-UK', at: 'de-AT', cz: 'cs-CZ', bg: 'bg-BG', ru: 'ru-RU', ua: 'uk-UA', il_he: 'iw-IL', ae_ar: 'ar-AE', mena_ar: 'ar-MENA', sa_ar: 'ar-SA', au: 'en-AU', hk_en: 'en-HK', in: 'en-IN', id_id: 'in-ID', id_en: 'en-ID', my_ms: 'ms-MY', my_en: 'en-MY', nz: 'en-NZ', ph_en: 'en-PH', ph_fil: 'fil-PH', sg: 'en-SG', th_en: 'en-TH', in_hi: 'hi-IN', th_th: 'th-TH', cn: 'zh-CN', hk_zh: 'zh-HK', tw: 'zh-hant-TW', jp: 'ja-JP', kr: 'ko-KR', langstore: 'en-US', za: 'en-ZA', ng: 'en-NG', cr: 'es-CR', ec: 'es-EC', pr: 'es-PR', gt: 'es-GT', eg_ar: 'ar-EG', kw_ar: 'ar-KW', qa_ar: 'ar-QA', eg_en: 'en-EG', kw_en: 'en-KW', qa_en: 'en-QA', gr_el: 'el-GR', vn_en: 'en-VN', vn_vi: 'vi-VN', cis_ru: 'ru-CIS', cis_en: 'en-CIS',\n};\n\nexport function getLanguageCode(locale) {\n  const prefix = locale?.prefix?.replace(/^\\//, '') || '';\n  return LOCALE_MAPPINGS[prefix] || LOCALE_MAPPINGS[''];\n}\n\nfunction getUpdatedContext({\n  screenWidth, screenHeight, screenOrientation,\n  viewportWidth, viewportHeight, localTime, timezoneOffset,\n}) {\n  return {\n    device: {\n      screenHeight,\n      screenWidth,\n      screenOrientation,\n    },\n    environment: {\n      type: 'browser',\n      browserDetails: {\n        viewportWidth,\n        viewportHeight,\n      },\n    },\n    placeContext: {\n      localTime,\n      localTimezoneOffset: timezoneOffset,\n    },\n  };\n}\n\nfunction isFirstVisit() {\n  const identityCookie = getCookie(KNDCTR_COOKIE_KEYS[0]);\n  if (!identityCookie) {\n    window.marketingtech = window.marketingtech || {};\n    window.marketingtech.isFirstVisit = true;\n    return true;\n  }\n  return false;\n}\n\nconst getMartechCookies = () => document.cookie.split(';')\n  .map((x) => x.trim().split('='))\n  .filter(([key]) => KNDCTR_COOKIE_KEYS.includes(key))\n  .map(([key, value]) => ({ key, value }));\n\nfunction createRequestPayload({ updatedContext, pageName, processedPageName, locale, hitType }) {\n  const prevPageName = getCookie('gpv');\n  const isCollectCall = hitType === 'propositionDisplay';\n  const isPageViewCall = hitType === 'pageView';\n  const webPageDetails = {\n    URL: window.location.href,\n    siteSection: window.location.hostname,\n    server: window.location.hostname,\n    isErrorPage: false,\n    isHomePage: false,\n    name: pageName,\n    pageViews: { value: Number(isPageViewCall) },\n  };\n  const consentCookie = getCookie(OPT_ON_AND_CONSENT_COOKIE) || '';\n\n  const consentState = (() => {\n    const hasOptOnCookie = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n    if (!hasOptOnCookie) return 'unknown';\n    return getCookie(KNDCTR_CONSENT_COOKIE) ? 'post' : 'pre';\n  })();\n\n  const eventMergeId = generateUUIDv4();\n\n  const eventObj = {\n    xdm: {\n      ...updatedContext,\n      identityMap: getOrGenerateUserId(),\n      web: {\n        webPageDetails,\n        webInteraction: isPageViewCall || isCollectCall ? undefined : {\n          name: 'Martech-API',\n          type: 'other',\n          linkClicks: { value: 1 },\n        },\n        webReferrer: { URL: document.referrer },\n      },\n      timestamp: new Date().toISOString(),\n      eventType: hitTypeEventTypeMap[hitType],\n      eventMergeId,\n      ...(getPrimaryProduct() && { productListItems: [{ SKU: getPrimaryProduct() }] }),\n    },\n    data: {\n      __adobe: {\n        target: {\n          is404: false,\n          authState: 'loggedOut',\n          hitType,\n          isMilo: true,\n          adobeLocale: getLanguageCode(locale),\n          hasGnav: true,\n          ...(getEntityId() ? { 'entity.id': getEntityId() } : {}),\n        },\n      },\n      eventMergeId,\n      _adobe_corpnew: {\n        configuration: { edgeConfigId: dataStreamId },\n        digitalData: {\n          page: { pageInfo: { language: getLanguageCode(locale) } },\n          diagnostic: { franklin: { implementation: 'milo' } },\n          previousPage: { pageInfo: { pageName: prevPageName } },\n          primaryUser: { primaryProfile: { profileInfo: { authState: 'loggedOut', returningStatus: getVisitorStatus({}) } } },\n        },\n        otherConsents: { configuration: { advertising: (!!consentCookie?.includes('C0004:1')).toString() } },\n        user: { firstVisit: isFirstVisit() },\n        cmp: { state: consentState },\n        web: {\n          location: {\n            href: window.location.href,\n            origin: window.location.origin,\n            protocol: window.location.protocol,\n            host: window.location.host,\n            hostname: window.location.hostname,\n            port: window.location.port,\n            pathname: window.location.pathname,\n            search: window.location.search,\n            hash: window.location.hash,\n          },\n        },\n      },\n      marketingtech: {\n        adobe: {\n          alloy: {\n            approach: 'martech-API',\n            personalisation: 'hybrid',\n          },\n        },\n      },\n    },\n  };\n\n  if (isPageViewCall) {\n    const {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    } = window.location;\n    const { data, xdm } = eventObj;\n    const { digitalData } = data._adobe_corpnew;\n    const { pageInfo } = digitalData.page;\n    const { agiCampaign, setAgICampVal } = resolveAgiCampaignAndFlag();\n    pageInfo.pageName = pageName;\n    pageInfo.processedPageName = processedPageName;\n    pageInfo.location = {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    };\n    pageInfo.siteSection = webPageDetails.siteSection;\n    digitalData.diagnostic.franklin.implementation = 'milo';\n    digitalData.primaryUser.primaryProfile.profileInfo = {\n      ...digitalData.primaryUser.primaryProfile.profileInfo,\n      entitlementCreativeCloud: 'unknown',\n      entitlementStatusCreativeCloud: 'unknown',\n    };\n    data.web = {\n      webPageDetails,\n      webReferrer: { URL: document.referrer },\n    };\n    data.eventType = hitTypeEventTypeMap[hitType];\n\n    if (getUpdatedVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        libraryVersions: 'alloy-api',\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          secondVisits: 'setEvent',\n        },\n      };\n    }\n    if (getUpdatedAcrobatVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          acrobatSecondVisits: 'setEvent',\n        },\n      };\n    }\n    if (getUpdatedDxVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        libraryVersions: 'alloy-api',\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          dxVisits: 'setEvent',\n        },\n      };\n    }\n    digitalData.adobe = {\n      ...digitalData.adobe,\n      experienceCloud: {\n        ...digitalData.adobe?.experienceCloud,\n        agiCampaign: setAgICampVal ? agiCampaign : '',\n      },\n      gpc: getGlobalPrivacyControl(),\n    };\n    xdm.implementationDetails = {\n      name: 'https://ns.adobe.com/experience/alloy',\n      version: '2.0',\n      environment: 'browser',\n    };\n  }\n\n  const eventValue = isCollectCall ? { events: [{ ...eventObj }] } : { event: { ...eventObj } };\n\n  return {\n    ...eventValue,\n    query: {\n      identity: { fetch: ['ECID'] },\n      personalization: isCollectCall ? undefined : {\n        schemas: [\n          'https://ns.adobe.com/personalization/default-content-item',\n          'https://ns.adobe.com/personalization/html-content-item',\n          'https://ns.adobe.com/personalization/json-content-item',\n          'https://ns.adobe.com/personalization/redirect-item',\n          'https://ns.adobe.com/personalization/ruleset-item',\n          'https://ns.adobe.com/personalization/message/in-app',\n          'https://ns.adobe.com/personalization/message/content-card',\n          'https://ns.adobe.com/personalization/dom-action',\n        ],\n        surfaces: [`web://${window.location.host + window.location.pathname}`],\n        decisionScopes: ['__view__'],\n      },\n    },\n    meta: {\n      target: { migration: true },\n      state: {\n        domain: getDomainWithoutWWW(),\n        cookiesEnabled: true,\n        entries: getMartechCookies(),\n      },\n    },\n  };\n}\n\nfunction updateMartechCookies(cookieData) {\n  cookieData?.forEach(({ key, value }) => {\n    const currentCookie = getCookie(key);\n    if (!currentCookie) {\n      setCookie(encodeURIComponent(key), value);\n    }\n  });\n}\n\nfunction updateAMCVCookie(ECID) {\n  const cookieValue = getCookie(AMCV_COOKIE);\n\n  if (!cookieValue) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `MCMID|${ECID}`);\n  } else if (cookieValue.indexOf('MCMID|') === -1) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `${cookieValue}|MCMID|${ECID}`);\n  }\n}\n\nfunction getUrl(isCollectCall) {\n  const PAGE_URL = new URL(window.location.href);\n  const { host } = window.location;\n  const query = PAGE_URL.searchParams.get('env');\n  const url = `https://edge.adobedc.net/ee/v2/${isCollectCall ? 'collect' : 'interact'}`;\n\n  /* c8 ignore start */\n  if (query || host.includes('localhost') || host.includes('.page')\n    || host.includes('.live')) {\n    return url;\n  }\n\n  /* c8 ignore start */\n  if (host.includes('stage.adobe')\n    || host.includes('corp.adobe')\n    || host.includes('graybox.adobe')) {\n    return `https://www.stage.adobe.com/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n  }\n\n  const { origin } = window.location;\n  return `${origin}/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n}\n\nexport const createRequestUrl = ({\n  env,\n  hitType,\n}) => {\n  const TARGET_API_URL = getUrl(hitType === 'propositionDisplay');\n  const { hostname } = window.location;\n  if (hostname.includes('business.adobe')) {\n    dataStreamId = DATA_STREAM_IDS_PROD.business;\n  } else if (\n    hostname.includes('business.stage.adobe')\n    || hostname.includes('bacom--adobecom.hlx')\n    || hostname.includes('bacom--adobecom.aem')\n  ) {\n    dataStreamId = DATA_STREAM_IDS_STAGE.business;\n  } else {\n    dataStreamId = env === 'prod' ? DATA_STREAM_IDS_PROD.default : DATA_STREAM_IDS_STAGE.default;\n  }\n  return `${TARGET_API_URL}?dataStreamId=${dataStreamId}&requestId=${generateUUIDv4()}`;\n};\n\nconst setGpvCookie = (pageName) => {\n  const expires = new Date();\n  expires.setTime(expires.getTime() + 1800000);\n  setCookie('gpv', pageName, { expires });\n};\n\nconst getPayloadsByType = (data, type) => data?.handle?.filter((d) => d.type === type)\n  .map((d) => d.payload)\n  .reduce((acc, curr) => [...acc, ...curr], []);\n\nconst setWindowAlloy = (alloyData) => {\n  const get = (obj, path) => path.split('.').reduce((current, segment) => (current !== undefined && current !== null ? current[segment] : undefined), obj);\n\n  const set = (obj, path, val) => {\n    path.split('.').reduce((current, segment, index, segments) => {\n      if (index === segments.length - 1) current[segment] = val;\n      else current[segment] = current[segment] || {};\n      return current[segment];\n    }, obj);\n\n    return obj;\n  };\n  window.alloy_all = window.alloy_all || { get, set };\n  if (alloyData?.destinations) {\n    const xlgValue = 'data._adobe_corpnew.digitalData.adobe.xlg';\n    const existingXlg = window.alloy_all.get(window.alloy_all, xlgValue) || '';\n    const xlgIds = existingXlg ? new Set(existingXlg.split(',')) : new Set();\n\n    for (const destination of alloyData.destinations) {\n      for (const segment of destination.segments) {\n        const segmentId = segment.id;\n        if (!xlgIds.has(segmentId)) xlgIds.add(segmentId);\n      }\n    }\n    const updatedXlg = Array.from(xlgIds).join(',');\n    window.alloy_all.set(window.alloy_all, xlgValue, updatedXlg);\n  }\n};\n\nconst setTTMetaAndAlloyTarget = (propositions) => {\n  const regex = /,|:/;\n  const isEmpty = (val) => !val || val?.length === 0;\n  const offerNames = [];\n  const activityNames = [];\n  let targetResponse = window.alloy_all.get(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response') || '';\n  const clean = (str) => (str || '').replace(regex, '');\n\n  propositions.forEach((proposition) => {\n    proposition.items?.forEach(({ meta }) => {\n      if (isEmpty(meta)) return;\n\n      const offerName = meta['option.name'];\n      const activityName = meta['activity.name'];\n      window.ttMETA = window.ttMETA || [];\n      if (offerNames.indexOf(offerName) === -1 || activityNames.indexOf(activityName) === -1) {\n        offerNames.push(offerName);\n        activityNames.push(activityName);\n        const data = {\n          CampaignName: activityName,\n          RecipeName: meta['experience.name'],\n          CampaignId: meta['activity.id'],\n          RecipeId: meta['experience.id'],\n          OfferId: meta['option.id'],\n          OfferName: offerName,\n          TrafficId: meta['experience.trafficAllocationId'],\n          TrafficType: meta['experience.trafficAllocationType'],\n        };\n\n        window.ttMETA.push(data);\n\n        const activityId = data.CampaignId;\n        if (targetResponse.indexOf(activityId) === -1) {\n          // If there is already a response string, append a comma\n          if (targetResponse) targetResponse += ',';\n\n          targetResponse += `T:${[activityId, activityName, data.OfferId, offerName, data.RecipeId, data.RecipeName, data.TrafficId, data.TrafficType].map(clean).join(':')}`;\n        }\n      }\n    });\n  });\n  window.alloy_all.set(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response', targetResponse);\n};\n\nfunction filterPropositionInJson(payloads) {\n  return payloads\n    .filter((item) => item?.items?.some((i) => i?.data?.format === 'application/json'))\n    .map(({ items, ...rest }) => ({\n      ...rest,\n      items: items.map(({ data, ...itemRest }) => itemRest),\n    }));\n}\n\nfunction sendPropositionDisplayRequest(filteredPayload, env, requestPayload) {\n  const reqUrl = createRequestUrl({ env, hitType: 'propositionDisplay' });\n  const reqBody = createRequestPayload({ ...requestPayload, hitType: 'propositionDisplay' });\n\n  const decisioning = {\n    propositions: filteredPayload,\n    propositionEventType: { display: 1 },\n  };\n\n  reqBody.events[0].xdm._experience = { decisioning };\n  reqBody.events[0].data._experience = { decisioning };\n\n  reqBody.events[0].xdm.documentUnloading = true;\n  reqBody.events[0].data.documentUnloading = true;\n\n  fetch(reqUrl, {\n    method: 'POST',\n    body: JSON.stringify(reqBody),\n  });\n}\n\nexport const loadAnalyticsAndInteractionData = async (\n  { locale, env, calculatedTimeout },\n) => {\n  const value = getCookie(KNDCTR_CONSENT_COOKIE);\n\n  if (value === 'general=out') {\n    return {};\n  }\n  const getLocalISOString = () => {\n    const date = new Date();\n    const padStart = (string, targetLength, padString) => (`${string}`).padStart(targetLength, padString);\n    const YYYY = date.getFullYear();\n    const MM = padStart(date.getMonth() + 1, 2, '0');\n    const DD = padStart(date.getDate(), 2, '0');\n    const hh = padStart(date.getHours(), 2, '0');\n    const mm = padStart(date.getMinutes(), 2, '0');\n    const ss = padStart(date.getSeconds(), 2, '0');\n    const mmm = padStart(date.getMilliseconds(), 3, '0');\n    const timezoneOffset = Number(date.getTimezoneOffset()) || 0;\n    const ts = timezoneOffset > 0 ? '-' : '+';\n    const th = padStart(Math.floor(Math.abs(timezoneOffset) / 60), 2, '0');\n    const tm = padStart(Math.abs(timezoneOffset) % 60, 2, '0');\n    return `${YYYY}-${MM}-${DD}T${hh}:${mm}:${ss}.${mmm}${ts}${th}:${tm}`;\n  };\n  const localTime = getLocalISOString();\n  const CURRENT_DATE = new Date();\n  const timezoneOffset = CURRENT_DATE.getTimezoneOffset();\n  window.hybridPers = true;\n  const hitType = 'pageView';\n  const pageName = getPageNameForAnalytics();\n  const processedPageName = getProcessedPageNameForAnalytics();\n  const updatedContext = getUpdatedContext({ ...getDeviceInfo(), localTime, timezoneOffset });\n  const requestUrl = createRequestUrl({\n    env,\n    hitType,\n  });\n  const requestPayload = {\n    updatedContext, pageName, processedPageName, locale, env, hitType,\n  };\n  const requestBody = createRequestPayload(requestPayload);\n\n  try {\n    const targetResp = await Promise.race([\n      fetch(requestUrl, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n      }),\n      new Promise((_, reject) => { setTimeout(() => reject(new Error('Request timed out')), calculatedTimeout); }),\n    ]);\n\n    if (!targetResp.ok) {\n      throw new Error('Failed to fetch interact call');\n    }\n    const targetRespJson = await targetResp.json();\n\n    const ECID = targetRespJson.handle\n      .flatMap((item) => item.payload)\n      .find((p) => p.namespace?.code === 'ECID')?.id || null;\n\n    const extractedData = [];\n\n    targetRespJson?.handle?.forEach((item) => {\n      if (item?.type === 'state:store') {\n        item?.payload?.forEach((payload) => {\n          if (payload?.key === KNDCTR_COOKIE_KEYS[0] || payload?.key === KNDCTR_COOKIE_KEYS[1]) {\n            extractedData.push({ ...payload });\n          }\n        });\n      }\n    });\n\n    const resultPayload = getPayloadsByType(targetRespJson, 'personalization:decisions');\n    const filteredPayload = filterPropositionInJson(resultPayload);\n    if (filteredPayload.length) {\n      sendPropositionDisplayRequest(filteredPayload, env, requestPayload);\n    }\n    const alloyData = {\n      destinations: getPayloadsByType(targetRespJson, 'activation:pull'),\n      propositions: resultPayload,\n      inferences: getPayloadsByType(targetRespJson, 'rtml:inferences'),\n      decisions: [],\n    };\n    window.dispatchEvent(new CustomEvent('alloy_sendEvent', { detail: alloyData }));\n    setWindowAlloy(alloyData);\n    setTTMetaAndAlloyTarget(resultPayload);\n\n    updateAMCVCookie(ECID);\n    updateMartechCookies(extractedData);\n\n    if (resultPayload?.length === 0) throw new Error('No propositions found');\n\n    setGpvCookie(pageName);\n    return {\n      type: hitType,\n      result: { propositions: resultPayload },\n    };\n  } catch (err) {\n    if (err.message !== 'No propositions found') {\n      console.log(err);\n    }\n    setGpvCookie(pageName);\n    return {};\n  }\n};\n\nexport default { loadAnalyticsAndInteractionData };\n"],"names":["AMCV_COOKIE","KNDCTR_COOKIE_KEYS","KNDCTR_CONSENT_COOKIE","OPT_ON_AND_CONSENT_COOKIE","DATA_STREAM_IDS_PROD","DATA_STREAM_IDS_STAGE","dataStreamId","getDomainWithoutWWW","_window","window","location","hostname","replace","hitTypeEventTypeMap","propositionFetch","pageView","propositionDisplay","generateUUIDv4","randomValues","Uint8Array","crypto","getRandomValues","uuid","forEach","byte","index","hex","toString","padStart","getCookie","key","cookie","document","split","map","x","decodeURIComponent","trim","find","_ref","k","setCookie","value","expires","arguments","length","undefined","date","Date","setTime","getTime","expiresString","concat","toUTCString","getVisitorStatus","_ref2","expiryDays","cookieName","domain","URL","origin","currentTime","cookieValue","cookieAttributes","storedTime","storedState","getOrGenerateUserId","_amcvCookieValue$matc","amcvCookieValue","indexOf","FPID","id","authenticatedState","primary","ECID","match","getPageNameForAnalytics","pathname","href","urlRegions","Object","fromEntries","r","path","filter","s","toLowerCase","join","getProcessedPageNameForAnalytics","pageName","pageArray","FILTERS","lightroom","stock","xd","express","account","adminconsole","community","acrobat","behance","fonts","photoshop","plan","color","creative","portfolio","schedule","newexpress","SPECIAL_DOMAINS","signMatch","title","includes","entries","startsWith","filtered","getEntityId","metaTag","querySelector","getAttribute","getPrimaryProduct","productNameMeta","content","LOCALE_MAPPINGS","ar","br","ca","ca_fr","cl","co","la","mx","pe","africa","be_fr","be_en","be_nl","cy_en","dk","de","ee","es","fr","gr_en","ie","il_en","it","lv","lt","lu_de","lu_en","lu_fr","hu","mt","mena_en","nl","no","pl","pt","ro","sa_en","ch_de","si","sk","ch_fr","fi","se","ch_it","tr","ae_en","uk","at","cz","bg","ru","ua","il_he","ae_ar","mena_ar","sa_ar","au","hk_en","in","id_id","id_en","my_ms","my_en","nz","ph_en","ph_fil","sg","th_en","in_hi","th_th","cn","hk_zh","tw","jp","kr","langstore","za","ng","cr","ec","pr","gt","eg_ar","kw_ar","qa_ar","eg_en","kw_en","qa_en","gr_el","vn_en","vn_vi","cis_ru","cis_en","getLanguageCode","locale","_locale$prefix","prefix","getMartechCookies","_ref4","_ref5","createRequestPayload","_ref6","updatedContext","processedPageName","hitType","prevPageName","isCollectCall","isPageViewCall","webPageDetails","siteSection","server","isErrorPage","isHomePage","name","pageViews","Number","consentCookie","consentState","eventMergeId","eventObj","xdm","identityMap","web","webInteraction","type","linkClicks","webReferrer","referrer","timestamp","toISOString","eventType","productListItems","SKU","data","__adobe","target","is404","authState","isMilo","adobeLocale","hasGnav","_adobe_corpnew","configuration","edgeConfigId","digitalData","page","pageInfo","language","diagnostic","franklin","implementation","previousPage","primaryUser","primaryProfile","profileInfo","returningStatus","otherConsents","advertising","user","firstVisit","marketingtech","isFirstVisit","cmp","state","protocol","host","port","search","hash","adobe","alloy","approach","personalisation","_digitalData$adobe4","agiCampaign","setAgICampVal","consentValue","CAMPAIGN_PAGE_VALUE","ACROBAT_DOMAIN_VALUE","agiCookie","setAgiCookie","isGotItPage","test","isAcrobatDomain","resolveAgiCampaignAndFlag","_digitalData$adobe","_digitalData$adobe2","_digitalData$adobe3","entitlementCreativeCloud","entitlementStatusCreativeCloud","secondVisitAttempt","localStorage","getItem","isAdobeDomain","consentCookieValue","updatedVisitAttempt","setItem","getUpdatedVisitAttempt","libraryVersions","experienceCloud","secondVisits","getUpdatedAcrobatVisitAttempt","acrobatSecondVisits","getUpdatedDxVisitAttempt","dxVisits","gpc","navigator","globalPrivacyControl","implementationDetails","version","environment","events","event","query","identity","fetch","personalization","schemas","surfaces","decisionScopes","meta","migration","cookiesEnabled","createRequestUrl","_ref8","env","TARGET_API_URL","PAGE_URL","searchParams","get","url","getUrl","setGpvCookie","getPayloadsByType","_data$handle","handle","d","payload","reduce","acc","curr","loadAnalyticsAndInteractionData","async","calculatedTimeout","_ref12","localTime","getLocalISOString","string","targetLength","padString","YYYY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","mmm","getMilliseconds","timezoneOffset2","getTimezoneOffset","ts","th","Math","floor","abs","tm","timezoneOffset","hybridPers","_ref3","screenWidth","screenHeight","screenOrientation","viewportWidth","viewportHeight","device","browserDetails","placeContext","localTimezoneOffset","getUpdatedContext","screen","width","height","innerWidth","innerHeight","requestUrl","requestPayload","requestBody","_targetRespJson$handl","_targetRespJson$handl2","targetResp","Promise","race","method","body","JSON","stringify","_","reject","setTimeout","Error","ok","targetRespJson","json","flatMap","item","p","_p$namespace","namespace","code","extractedData","_item$payload","push","resultPayload","filteredPayload","_item$items","items","some","i","_i$data","format","_ref10","rest","_ref11","itemRest","reqUrl","reqBody","decisioning","propositions","propositionEventType","display","_experience","documentUnloading","sendPropositionDisplayRequest","alloyData","destinations","inferences","decisions","dispatchEvent","CustomEvent","detail","alloy_all","obj","current","segment","set","val","segments","xlgValue","existingXlg","xlgIds","Set","destination","segmentId","has","add","updatedXlg","Array","from","setWindowAlloy","regex","offerNames","activityNames","targetResponse","clean","str","proposition","_proposition$items","_ref9","offerName","activityName","ttMETA","CampaignName","RecipeName","CampaignId","RecipeId","OfferId","OfferName","TrafficId","TrafficType","activityId","setTTMetaAndAlloyTarget","encodeURIComponent","updateAMCVCookie","cookieData","_ref7","result","err","message","console","log","helpers_default"],"sourceRoot":""}