{"version":3,"file":"static/js/9264.2726ca75.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/martech/attributes.js","../node_modules/@adobecom/features/footer-promo.js"],"sourcesContent":["import { getMetadata } from '../utils/utils.js';\n\nconst INVALID_CHARACTERS = /[^\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/g;\nconst LEAD_UNDERSCORES = /^_+|_+$/g;\n\nexport function processTrackingLabels(text, config, charLimit) {\n  let analyticsValue = text?.replace(INVALID_CHARACTERS, ' ').replace(LEAD_UNDERSCORES, '').trim();\n  if (config) {\n    const { analyticLocalization, mep } = config;\n    const mepLoc = mep?.analyticLocalization?.[analyticsValue];\n    if (mepLoc) {\n      analyticsValue = mepLoc;\n    } else {\n      const loc = analyticLocalization?.[analyticsValue];\n      if (loc) analyticsValue = loc;\n    }\n  }\n  if (charLimit) return analyticsValue.slice(0, charLimit);\n  return analyticsValue;\n}\n\nfunction getHeaderCharLimit(str) {\n  const defaultLimit = 20;\n  if (!str) return defaultLimit;\n  if (str === 'off') return false;\n  if (!Number.isNaN(Number(str))) return parseInt(str, 10);\n  return defaultLimit;\n}\nexport function decorateDefaultLinkAnalytics(block, config) {\n  if (block.classList.length\n    && !block.className.includes('metadata')\n    && !block.classList.contains('link-block')\n    && !block.classList.contains('section')\n    && block.nodeName === 'DIV') {\n    let header = '';\n    let linkCount = 1;\n\n    const headerCharLimit = getHeaderCharLimit(getMetadata('analytics-header-limit'));\n    const headerSelector = 'h1, h2, h3, h4, h5, h6';\n    let analyticsSelector = `${headerSelector}, .tracking-header`;\n    const headers = block.querySelectorAll(analyticsSelector);\n    if (!headers.length) analyticsSelector = `${analyticsSelector}, b, strong`;\n    block.querySelectorAll(`${analyticsSelector}, a:not(.video.link-block, .no-track), button:not(.no-track)`).forEach((item) => {\n      if (item.nodeName === 'A' || item.nodeName === 'BUTTON') {\n        if (item.classList.contains('tracking-header')) {\n          header = processTrackingLabels(item.textContent, config, headerCharLimit);\n        } else if (!header) {\n          const section = block.closest('.section');\n          if (section?.className.includes('-up') || section?.classList.contains('milo-card-section')) {\n            const previousHeader = section?.previousElementSibling?.querySelector(headerSelector);\n            if (previousHeader) {\n              header = processTrackingLabels(previousHeader.textContent, config, headerCharLimit);\n            }\n          }\n        }\n        if (item.hasAttribute('daa-ll')) {\n          const labelArray = item.getAttribute('daa-ll').split('-').map((part) => {\n            if (part === '') return '';\n            return processTrackingLabels(part, config, 20);\n          });\n          item.setAttribute('daa-ll', labelArray.join('-'));\n        } else {\n          let label = item.textContent?.trim();\n          if (label === '') {\n            label = item.getAttribute('title')\n                || item.getAttribute('aria-label')\n                || item.querySelector('img')?.getAttribute('alt')\n                || 'no label';\n          }\n          label = processTrackingLabels(label, config, 20);\n          item.setAttribute('daa-ll', `${label}-${linkCount}--${header}`);\n        }\n        linkCount += 1;\n      } else {\n        if (item.nodeName === 'STRONG' || item.nodeName === 'B') {\n          item.classList.add('tracking-header');\n        }\n        header = processTrackingLabels(item.textContent, config, headerCharLimit);\n      }\n    });\n  }\n}\n\nexport async function decorateSectionAnalytics(section, idx, config) {\n  const id = Number.isInteger(idx) ? `s${idx + 1}` : idx;\n  document.querySelector('main')?.setAttribute('daa-im', 'true');\n  section.setAttribute('daa-lh', id);\n  section.querySelectorAll('[data-block]:has([data-block])').forEach((block) => {\n    if (!block.classList.contains('tabs')) block.removeAttribute('data-block');\n  });\n  const mepMartech = config?.mep?.martech || '';\n  section.querySelectorAll('[data-block]').forEach((block, blockIdx) => {\n    const lhAtt = block.getAttribute('daa-lh');\n    if (lhAtt) {\n      block.setAttribute('daa-lh', `${lhAtt}${mepMartech}`);\n    } else {\n      const blockName = block.classList[0] || '';\n      let closest = block;\n      let nestedLH = '';\n      while (closest) {\n        closest = closest.parentNode?.closest('[data-nested-lh]');\n        if (closest) {\n          nestedLH = `${closest.getAttribute('data-nested-lh')}--${nestedLH}`;\n        }\n      }\n      block.setAttribute('daa-lh', `b${blockIdx + 1}|${nestedLH}${blockName.slice(0, 15)}${mepMartech}`);\n      decorateDefaultLinkAnalytics(block, config);\n    }\n    block.removeAttribute('data-block');\n  });\n}\n\n// below functions are being sunset\nexport function decorateBlockAnalytics() { return false; }\nexport function decorateLinkAnalytics() { return false; }\n\nconst RE_ALPHANUM = /[^0-9a-z]/gi;\nconst RE_TRIM_UNDERSCORE = /^_+|_+$/g;\nexport const analyticsGetLabel = (txt) => txt.replaceAll('&', 'and')\n  .replace(RE_ALPHANUM, '_')\n  .replace(RE_TRIM_UNDERSCORE, '');\n\nexport const analyticsDecorateList = (li, idx) => {\n  const link = li.firstChild?.nodeName === 'A' && li.firstChild;\n  if (!link) return;\n\n  const label = link.textContent || link.getAttribute('aria-label');\n  if (!label) return;\n\n  link.setAttribute('daa-ll', `${analyticsGetLabel(label)}-${idx + 1}`);\n};\n","import { createTag, getConfig } from '../utils/utils.js';\nimport { decorateSectionAnalytics } from '../martech/attributes.js';\n\nasync function getPromoFromTaxonomy(contentRoot, doc) {\n  const NAME_KEY = 'Name';\n  const FOOTER_PROMO_LINK_KEY = 'Footer Promo Link';\n  const taxonomyUrl = `${contentRoot}/taxonomy.json`;\n  const tags = [...doc.head.querySelectorAll('meta[property=\"article:tag\"]')].map((el) => el.content);\n\n  if (!tags.length) return undefined;\n\n  try {\n    const resp = await fetch(taxonomyUrl);\n    if (!resp.ok) return undefined;\n    const { data } = await resp.json();\n    const primaryTag = data.find((tag) => {\n      const name = tag[NAME_KEY].split('|').pop().trim();\n      return tags.includes(name) && tag[FOOTER_PROMO_LINK_KEY];\n    });\n    if (primaryTag) return primaryTag[FOOTER_PROMO_LINK_KEY];\n  } catch (error) {\n    /* c8 ignore next 2 */\n    window.lana.log(`Footer Promo - Taxonomy error: ${error}`, { tags: 'footer-promo', errorType: 'i' });\n  }\n  return undefined;\n}\n\nexport default async function initFooterPromo(footerPromoTag, footerPromoType, doc = document) {\n  const config = getConfig();\n  const { locale: { contentRoot } } = config;\n  let href = footerPromoTag && `${contentRoot}/fragments/footer-promos/${footerPromoTag}`;\n\n  if (footerPromoType === 'taxonomy') {\n    const promo = await getPromoFromTaxonomy(contentRoot, doc);\n    if (promo) href = promo;\n  }\n\n  if (!href) return;\n\n  const { default: loadFragment } = await import('../blocks/fragment/fragment.js');\n  const a = createTag('a', { href }, href);\n  const div = createTag('div', null, a);\n  const section = createTag('div', null, div);\n  doc.querySelector('main > div:last-of-type').insertAdjacentElement('afterend', section);\n  await loadFragment(a);\n  section.classList.add('section');\n  const sections = document.querySelectorAll('main > div');\n  decorateSectionAnalytics(section, sections.length - 1, config);\n}\n"],"names":["INVALID_CHARACTERS","LEAD_UNDERSCORES","processTrackingLabels","text","config","charLimit","analyticsValue","replace","trim","_mep$analyticLocaliza","analyticLocalization","mep","mepLoc","loc","slice","decorateDefaultLinkAnalytics","block","classList","length","className","includes","contains","nodeName","header","linkCount","headerCharLimit","str","getMetadata","Number","isNaN","parseInt","headerSelector","analyticsSelector","concat","querySelectorAll","forEach","item","textContent","section","closest","_section$previousElem","previousHeader","previousElementSibling","querySelector","hasAttribute","labelArray","getAttribute","split","map","part","setAttribute","join","_item$textContent","label","_item$querySelector","add","decorateSectionAnalytics","idx","_document$querySelect","_config$mep","id","isInteger","document","removeAttribute","mepMartech","martech","blockIdx","lhAtt","blockName","nestedLH","_closest$parentNode","parentNode","decorateBlockAnalytics","decorateLinkAnalytics","RE_ALPHANUM","RE_TRIM_UNDERSCORE","analyticsGetLabel","txt","replaceAll","analyticsDecorateList","li","_li$firstChild","link","firstChild","initFooterPromo","footerPromoTag","footerPromoType","doc","arguments","undefined","getConfig","locale","contentRoot","href","promo","async","FOOTER_PROMO_LINK_KEY","taxonomyUrl","tags","head","el","content","resp","fetch","ok","data","json","primaryTag","find","tag","name","pop","error","window","lana","log","errorType","getPromoFromTaxonomy","default","loadFragment","a","createTag","div","insertAdjacentElement","sections"],"sourceRoot":""}