"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8905,7528,8496,4658],{7528:(t,e,n)=>{function o(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,{A:()=>o})},8496:(t,e,n)=>{n.r(e),n.d(e,{getDelayTime:()=>a,getMetadata:()=>l,handleBackground:()=>i,handleStyle:()=>r,init:()=>d});var o=n(212),{miloLibs:s,codeRoot:c}=(0,o.getConfig)();function i(t,e){var n;const o=null===(n=t.background.content)||void 0===n?void 0:n.querySelector("picture");if(o)e.classList.add("has-background"),o.classList.add("section-background"),function(t,e,n){const o=t.querySelector("img");if(!e||!o)return;let s="";if(2===e.childElementCount){const t=e.querySelectorAll("p")[1];s=null===t||void 0===t?void 0:t.textContent,n&&(null===t||void 0===t||t.remove())}else if(e.textContent){s=e.textContent;const t=e.childNodes;n&&t.forEach((t=>t.nodeType===Node.TEXT_NODE&&t.remove()))}if(!s)return;const c=s.trim().toLowerCase().split(","),[i,r=""]=c;o.style.objectPosition="".concat(i," ").concat(r)}(o,t.background.content),e.insertAdjacentElement("afterbegin",o);else{var s;const n=null===(s=t.background.content)||void 0===s?void 0:s.textContent;n&&(e.style.background=n)}}async function r(t,e){if(!t||!e)return;const o=t.split(", ").map((t=>t.replaceAll(" ","-"))),s=o.find((t=>"sticky-top"===t||"sticky-bottom"===t));if(s){const{default:t}=await Promise.all([n.e(7797),n.e(7587),n.e(4658)]).then(n.bind(n,6775));await t(s,e)}o.includes("masonry")&&o.push("masonry-up"),e.classList.add(...o)}function a(t){return t>99?t:1e3*t}var l=t=>[...t.childNodes].reduce(((t,e)=>{if(e.children){const n=e.children[0].textContent.trim().toLowerCase(),o=e.children[1],s=o.textContent.trim().toLowerCase();n&&o&&(t[n]={content:o,text:s})}return t}),{});async function d(t){const e=t.closest(".section"),n=l(t);n.style&&await r(n.style.text,e),n.background&&i(n,e),n.layout&&function(t,e){if(!t&&!e)return;const n="grid-template-columns-".concat(t.replaceAll(" | ","-"));e.classList.add(n)}(n.layout.text,e),n.masonry&&function(t,e){e.classList.add("masonry-layout","masonry-up");const n=e.querySelectorAll(":scope > div:not([class*='metadata'])"),o=[];t.split("\n").forEach((t=>o.push(...t.trim().split(",")))),[...n].forEach(((t,e)=>{const n=o[e]?o[e]:"span 4";t.classList.add("grid-".concat(n.trim().replace(" ","-")))}))}(n.masonry.text,e),n.delay&&function(t,e){(t||e)&&(e.classList.add("hide-sticky-section"),setTimeout((()=>{e.classList.remove("hide-sticky-section")}),a(t)))}(n.delay.text,e),n.anchor&&function(t,e){t&&e&&(e.id=t.toLowerCase().trim().replaceAll(/\s+/g,"-"),e.classList.add("section-anchor"))}(n.anchor.text,e)}},6775:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});var o=n(8496),s=n(7587),c=(n(7797),n(5897),n(212));n(6850);function i(t){const e=(0,s.getGnavHeight)();t.style.top="".concat(e,"px")}function r(t,e){const n=document.querySelector("main");t.classList.add("promo-sticky-section","hide-sticky-section"),t.querySelector(".popup:is(.promobar)")&&t.classList.add("popup");let o,s=null;(t.querySelector(":is(.promobar, .notification)").classList.contains("no-delay")||e&&t.classList.contains("popup"))&&(o=!0,t.classList.remove("hide-sticky-section")),o||n.children[0]===t||(s=(0,c.createTag)("div",{class:"section show-sticky-section"}),t.parentElement.insertBefore(s,t));const r=function(t,e){return new IntersectionObserver(((n,o)=>{n.forEach((n=>{if(t.classList.contains("close-sticky-section"))return window.removeEventListener("resize",i),void o.unobserve(n.target);const s=n.target===e&&n.isIntersecting||(null===e||void 0===e?void 0:e.getBoundingClientRect().y)>0;n.target===document.querySelector("footer")?t.classList.toggle("fill-sticky-section",n.isIntersecting):t.classList.toggle("hide-sticky-section",s)}))}),arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}(t,s);s&&r.observe(s),t.querySelector(":is(.promobar, .notification)")&&r.observe(document.querySelector("footer"))}async function a(t,e){const s=document.querySelector("main");switch(t){case"sticky-top":{const{debounce:t}=await n.e(159).then(n.bind(n,159));window.addEventListener("resize",t((()=>i(e)))),i(e),s.prepend(e);break}case"sticky-bottom":if(e.querySelector(":is(.promobar, .notification)")){var c;const t=(0,o.getMetadata)(e.querySelector(".section-metadata")),n=(0,o.getDelayTime)(null===(c=t.delay)||void 0===c?void 0:c.text);n?setTimeout((()=>{r(e,n)}),n):r(e,n)}s.append(e)}}}}]);
//# sourceMappingURL=8905.dfc23e98.chunk.js.map