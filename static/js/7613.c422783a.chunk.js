"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[7613],{7613:(e,t,n)=>{n.r(t),n.d(t,{createRequestUrl:()=>y,default:()=>T,getTargetPropertyBasedOnPageRegion:()=>u,getVisitorStatus:()=>h,loadAnalyticsAndInteractionData:()=>I});n(5769);var o="AMCV_9E1005A551ED61CA0A490D45@AdobeOrg",i=["kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_identity","kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_cluster"],a="57c20bab-94c3-425e-95cb-0b9948b1fdd4",r="913eac4d-900b-45e8-9ee7-306216765cd2",c="a44f0037-2ada-441f-a012-243832ce5ff9",d="e065836d-be57-47ef-b8d1-999e1657e8fd",l="";function s(){var e;return(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.hostname).replace(/^www\./,"")}var p={propositionFetch:"decisioning.propositionFetch",pageView:"web.webpagedetails.pageViews",propositionDisplay:"decisioning.propositionDisplay"};function m(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]%16+64,e[8]=e[8]%16+128;let t="";return e.forEach(((e,n)=>{const o=e.toString(16).padStart(2,"0");4!==n&&6!==n&&8!==n&&10!==n||(t+="-"),t+=o})),t}function u(e){let{env:t,pathname:n}=e;return"prod"!==t?"bc8dfa27-29cc-625c-22ea-f7ccebfc6231":-1!==n.search(/(\/africa\/|\/be_en\/|\/be_fr\/|\/be_nl\/|\/cis_en\/|\/cy_en\/|\/dk\/|\/de\/|\/ee\/|\/es\/|\/fr\/|\/gr_en\/|\/ie\/|\/il_en\/|\/it\/|\/lv\/|\/lu_de\/|\/lu_en\/|\/lu_fr\/|\/hu\/|\/mt\/|\/mena_en\/|\/nl\/|\/no\/|\/pl\/|\/pt\/|\/ro\/|\/ch_de\/|\/si\/|\/sk\/|\/ch_fr\/|\/fi\/|\/se\/|\/ch_it\/|\/tr\/|\/uk\/|\/at\/|\/cz\/|\/bg\/|\/ru\/|\/cis_ru\/|\/ua\/|\/il_he\/|\/mena_ar\/|\/lt\/|\/sa_en\/|\/ae_en\/|\/ae_ar\/|\/sa_ar\/|\/ng\/|\/za\/|\/qa_ar\/|\/eg_en\/|\/eg_ar\/|\/kw_ar\/|\/eg_ar\/|\/qa_en\/|\/kw_en\/|\/gr_el\/|\/br\/|\/cl\/|\/la\/|\/mx\/|\/co\/|\/ar\/|\/pe\/|\/gt\/|\/pr\/|\/ec\/|\/cr\/)/)?"488edf5f-3cbe-f410-0953-8c0c5c323772":-1!==n.search(/(\/au\/|\/hk_en\/|\/in\/|\/nz\/|\/sea\/|\/cn\/|\/hk_zh\/|\/tw\/|\/kr\/|\/sg\/|\/th_en\/|\/th_th\/|\/my_en\/|\/my_ms\/|\/ph_en\/|\/ph_fil\/|\/vn_en\/|\/vn_vi\/|\/in_hi\/|\/id_id\/|\/id_en\/)/)?"3de509ee-bbc7-58a3-0851-600d1c2e2918":-1!==n.indexOf("/jp/")?"ba5bc9e8-8fb4-037a-12c8-682384720007":"4db35ee5-63ad-59f6-cec6-82ef8863b22d"}function f(e){const t=document.cookie.split(";").map((e=>decodeURIComponent(e.trim()).split(/=(.*)/s))).find((t=>{let[n]=t;return n===e}));return t?t[1]:null}function w(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).expires||730,o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const i="expires=".concat(o.toUTCString());document.cookie="".concat(e,"=").concat(t,"; ").concat(i,"; path=/ ; domain=.").concat(s(),";")}var h=e=>{let{expiryDays:t=30,cookieName:n="s_nr",domain:o=".".concat(new URL(window.location.origin).hostname)}=e;const i=(new Date).getTime(),a=f(n)||"",r={expires:new Date(i+24*t*60*60*1e3)};if(o&&(r.domain=o),!a)return w(n,"".concat(i,"-New"),r),"New";const[c,d]=a.split("-").map((e=>e.trim()));return i-c<18e5&&"New"===d?(w(n,"".concat(i,"-New"),r),"New"):(w(n,"".concat(i,"-Repeat"),r),"Repeat")};function g(){var e;const t=f(o);if(!t||-1===t.indexOf("MCMID|")){return{FPID:[{id:m(),authenticatedState:"ambiguous",primary:!0}]}}return{ECID:[{id:null===(e=t.match(/MCMID\|([^|]+)/))||void 0===e?void 0:e[1],authenticatedState:"ambiguous",primary:!0}]}}var v=()=>document.cookie.split(";").map((e=>e.trim().split("="))).filter((e=>{let[t]=e;return i.includes(t)})).map((e=>{let[t,n]=e;return{key:t,value:n}}));function _(e){var t;let{updatedContext:n,pageName:o,locale:i,env:a,hitType:r}=e;const c=f("gpv"),d="propositionDisplay"===r,m="pageView"===r,w="prod"===a?["adbadobenonacdcprod","adbadobeprototype"]:["adbadobenonacdcqa"],_=u({env:a,pathname:null===(t=window.location)||void 0===t?void 0:t.pathname}),y={URL:window.location.href,siteSection:window.location.hostname,server:window.location.hostname,isErrorPage:!1,isHomePage:!1,name:o,pageViews:{value:m?1:0}},b={xdm:{...n,identityMap:g(),web:{webPageDetails:y,webInteraction:m||d?void 0:{name:"Martech-API",type:"other",linkClicks:{value:1}},webReferrer:{URL:document.referrer}},timestamp:(new Date).toISOString(),eventType:p[r]},data:{__adobe:{target:{is404:!1,authState:"loggedOut",hitType:r,isMilo:!0,adobeLocale:i.ietf,hasGnav:!0}},_adobe_corpnew:{digitalData:{page:{pageInfo:{language:i.ietf}},diagnostic:{franklin:{implementation:"milo"}},previousPage:{pageInfo:{pageName:c}},primaryUser:{primaryProfile:{profileInfo:{authState:"loggedOut",returningStatus:h({})}}}}},marketingtech:{adobe:{alloy:{approach:"martech-API",edgeConfigIdLaunch:l,edgeConfigId:l}}}}};if(m){const{href:e,origin:t,protocol:n,host:i,hostname:a,port:c,pathname:d,search:l,hash:s}=window.location,{data:m,xdm:u}=b,{digitalData:f}=m._adobe_corpnew,{pageInfo:w}=f.page;w.pageName=o,w.processedPageName=o,w.location={href:e,origin:t,protocol:n,host:i,hostname:a,port:c,pathname:d,search:l,hash:s},w.siteSection=y.siteSection,f.diagnostic.franklin.implementation="milo",f.primaryUser.primaryProfile.profileInfo={...f.primaryUser.primaryProfile.profileInfo,entitlementCreativeCloud:"unknown",entitlementStatusCreativeCloud:"unknown"},f.target={at_property_val:_},m.web={webPageDetails:y},m.eventType=p[r],u.implementationDetails={name:"https://ns.adobe.com/experience/alloy/reactor",version:"1.0",environment:"serverapi"}}return{...d?{events:[{...b}]}:{event:{...b}},query:{identity:{fetch:["ECID"]},personalization:d?void 0:{schemas:["https://ns.adobe.com/personalization/default-content-item","https://ns.adobe.com/personalization/html-content-item","https://ns.adobe.com/personalization/json-content-item","https://ns.adobe.com/personalization/redirect-item","https://ns.adobe.com/personalization/ruleset-item","https://ns.adobe.com/personalization/message/in-app","https://ns.adobe.com/personalization/message/content-card","https://ns.adobe.com/personalization/dom-action"],surfaces:["web://".concat(window.location.host+window.location.pathname)],decisionScopes:["__view__"]}},meta:{target:{migration:!0},configOverrides:{com_adobe_analytics:{reportSuites:w},com_adobe_target:{propertyToken:_}},state:{domain:s(),cookiesEnabled:!0,entries:v()}}}}var y=e=>{let{env:t,hitType:n}=e;const i=function(e){const t=new URL(window.location.href),{host:n}=window.location,o=t.searchParams.get("env"),i="https://edge.adobedc.net/ee/v2/".concat(e?"collect":"interact");if(o||n.includes("localhost")||n.includes(".page")||n.includes(".live"))return i;if(n.includes("stage.adobe")||n.includes("corp.adobe")||n.includes("graybox.adobe"))return"https://www.stage.adobe.com/experienceedge/v2/".concat(e?"collect":"interact");const{origin:a}=window.location;return"".concat(a,"/experienceedge/v2/").concat(e?"collect":"interact")}("propositionDisplay"===n);if(l="prod"===t?r:d,"pageView"===n||"propositionDisplay"===n){const e=!f(o),n=f("OptanonConsent")||"";return(e||!n||n.includes("C0004:0"))&&(l="prod"===t?a:c),"".concat(i,"?dataStreamId=").concat(l,"&requestId=").concat(m())}return"".concat(i,"?dataStreamId=").concat(l,"&requestId=").concat(m())},b=e=>{const t=new Date;t.setTime(t.getTime()+18e5),w("gpv",e,{expires:t})},D=(e,t)=>{var n;return null===e||void 0===e||null===(n=e.handle)||void 0===n?void 0:n.filter((e=>e.type===t)).map((e=>e.payload)).reduce(((e,t)=>[...e,...t]),[])};var I=async e=>{let{locale:t,env:n,calculatedTimeout:a,hybridPersEnabled:r}=e;if("general=out"===f("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent"))return{};const c=new Date,d=c.toISOString(),l=c.getTimezoneOffset();r&&(window.hybridPers=!0);const s=r?"pageView":"propositionFetch",p=function(e){let{locale:t}=e;const{host:n,pathname:o}=new URL(window.location.href),[i]=o.split("/").filter((e=>e!==t.prefix)).join(":").split(".");return"".concat(n.replace("www.",""),":").concat(i)}({locale:t}),m=function(e){let{screenWidth:t,screenHeight:n,screenOrientation:o,viewportWidth:i,viewportHeight:a,localTime:r,timezoneOffset:c}=e;return{device:{screenHeight:n,screenWidth:t,screenOrientation:o},environment:{type:"browser",browserDetails:{viewportWidth:i,viewportHeight:a}},placeContext:{localTime:r,localTimezoneOffset:c}}}({screenWidth:window.screen.width,screenHeight:window.screen.height,screenOrientation:window.innerWidth>window.innerHeight?"landscape":"portrait",viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,localTime:d,timezoneOffset:l}),u=y({env:n,hitType:s}),h={updatedContext:m,pageName:p,locale:t,env:n,hitType:s},g=_(h);try{var v,I;const e=await Promise.race([fetch(u,{method:"POST",body:JSON.stringify(g)}),new Promise(((e,t)=>{setTimeout((()=>t(new Error("Request timed out"))),a)}))]);if(!e.ok)throw new Error("Failed to fetch interact call");const t=await e.json(),c=(null===(v=t.handle.flatMap((e=>e.payload)).find((e=>{var t;return"ECID"===(null===(t=e.namespace)||void 0===t?void 0:t.code)})))||void 0===v?void 0:v.id)||null,d=[];null===t||void 0===t||null===(I=t.handle)||void 0===I||I.forEach((e=>{var t;"state:store"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e||null===(t=e.payload)||void 0===t||t.forEach((e=>{(null===e||void 0===e?void 0:e.key)!==i[0]&&(null===e||void 0===e?void 0:e.key)!==i[1]||d.push({...e})})))}));const l=D(t,"personalization:decisions");if(r){const e=l.filter((e=>{var t;return null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.some((e=>{var t;return"application/json"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.format)}))})).map((e=>{let{items:t,...n}=e;return{...n,items:t.map((e=>{let{data:t,...n}=e;return n}))}}));e.length&&function(e,t,n){const o=y({env:t,hitType:"propositionDisplay"}),i=_({...n,hitType:"propositionDisplay"}),a={propositions:e,propositionEventType:{display:1}};i.events[0].xdm._experience={decisioning:a},i.events[0].data._experience={decisioning:a},i.events[0].xdm.documentUnloading=!0,i.events[0].data.documentUnloading=!0,fetch(o,{method:"POST",body:JSON.stringify(i)})}(e,n,h);const o={destinations:D(t,"activation:pull"),propositions:l,inferences:D(t,"rtml:inferences"),decisions:[]};window.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:o})),(e=>{if(window.alloy_all=window.alloy_all||{get:(e,t)=>t.split(".").reduce(((e,t)=>void 0!==e&&null!==e?e[t]:void 0),e),set:(e,t,n)=>(t.split(".").reduce(((e,t,o,i)=>(o===i.length-1?e[t]=n:e[t]=e[t]||{},e[t])),e),e)},null!==e&&void 0!==e&&e.destinations){const t="data._adobe_corpnew.digitalData.adobe.xlg",n=window.alloy_all.get(window.alloy_all,t)||"",o=n?new Set(n.split(",")):new Set;for(const a of e.destinations)for(const e of a.segments){const t=e.id;o.has(t)||o.add(t)}const i=Array.from(o).join(",");window.alloy_all.set(window.alloy_all,t,i)}})(o),(e=>{const t=/,|:/,n=[],o=[];let i=window.alloy_all.get(window.alloy_all,"data._adobe_corpnew.digitalData.adobe.target.response")||"";const a=e=>(e||"").replace(t,"");e.forEach((e=>{var t;null===(t=e.items)||void 0===t||t.forEach((e=>{let{meta:t}=e;if(!(r=t)||0===(null===r||void 0===r?void 0:r.length))return;var r;const c=t["option.name"],d=t["activity.name"];if(window.ttMETA=window.ttMETA||[],-1===n.indexOf(c)||-1===o.indexOf(d)){n.push(c),o.push(d);const e={CampaignName:d,RecipeName:t["experience.name"],CampaignId:t["activity.id"],RecipeId:t["experience.id"],OfferId:t["option.id"],OfferName:c,TrafficId:t["experience.trafficAllocationId"],TrafficType:t["experience.trafficAllocationType"]};window.ttMETA.push(e);const r=e.CampaignId;-1===i.indexOf(r)&&(i&&(i+=","),i+="T:".concat([r,d,e.OfferId,c,e.RecipeId,e.RecipeName,e.TrafficId,e.TrafficType].map(a).join(":")))}}))})),window.alloy_all.set(window.alloy_all,"data._adobe_corpnew.digitalData.adobe.target.response",i)})(l)}if(function(e){const t=f(o);t?-1===t.indexOf("MCMID|")&&w(encodeURIComponent(o),"".concat(t,"|MCMID|").concat(e)):w(encodeURIComponent(o),"MCMID|".concat(e))}(c),null===(T=d)||void 0===T||T.forEach((e=>{let{key:t,value:n}=e;f(t)||w(encodeURIComponent(t),n)})),0===(null===l||void 0===l?void 0:l.length))throw new Error("No propositions found");return b(p),{type:s,result:{propositions:l}}}catch(C){return"No propositions found"!==C.message&&console.log(C),b(p),{}}var T},T={loadAnalyticsAndInteractionData:I}}}]);
//# sourceMappingURL=7613.c422783a.chunk.js.map