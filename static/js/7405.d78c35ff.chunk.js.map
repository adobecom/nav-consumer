{"version":3,"file":"static/js/7405.d78c35ff.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@adobecom/blocks/global-footer/global-footer.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","/* eslint-disable no-async-promise-executor */\nimport {\n  loadBlock,\n  decorateAutoBlock,\n  decorateLinks,\n  getMetadata,\n  getConfig,\n  localizeLink,\n  loadStyle,\n  getFederatedUrl,\n  getFedsPlaceholderConfig,\n} from '../../utils/utils.js';\n\nimport {\n  getExperienceName,\n  getAnalyticsValue,\n  loadDecorateMenu,\n  fetchAndProcessPlainHtml,\n  loadBaseStyles,\n  yieldToMain,\n  lanaLog,\n  logErrorFor,\n  toFragment,\n  federatePictureSources,\n  isDarkMode,\n} from '../global-navigation/utilities/utilities.js';\n\nimport { replaceKey } from '../../features/placeholders.js';\n\nconst { miloLibs, codeRoot, locale, mep } = getConfig();\nconst base = miloLibs || codeRoot;\n\nconst CONFIG = {\n  socialPlatforms: ['facebook', 'instagram', 'twitter', 'linkedin', 'pinterest', 'discord', 'behance', 'youtube', 'weibo', 'social-media'],\n  delays: { decoration: 3000 },\n};\n\nclass Footer {\n  constructor({ block } = {}) {\n    this.block = block;\n    this.elements = {};\n    this.init();\n  }\n\n  init = () => logErrorFor(async () => {\n    // We initialize the footer decoration logic when either 3s have passed\n    // OR when the footer element is close to coming into view\n    let decorationTimeout;\n\n    // Set up intersection observer\n    const intersectionOptions = { rootMargin: '300px 0px' };\n\n    const observer = new window.IntersectionObserver((entries) => {\n      const isIntersecting = entries.find((entry) => entry.isIntersecting === true);\n\n      if (isIntersecting) {\n        clearTimeout(decorationTimeout);\n        observer.disconnect();\n        this.decorateContent();\n      }\n    }, intersectionOptions);\n\n    observer.observe(this.block);\n\n    // Set timeout after which we load the footer automatically\n    decorationTimeout = setTimeout(() => {\n      observer.disconnect();\n      this.decorateContent();\n    }, CONFIG.delays.decoration);\n  }, 'Error in global footer init', 'global-footer', 'error');\n\n  decorateContent = () => logErrorFor(async () => {\n    // Fetch footer content\n    const url = getMetadata('footer-source') || `${locale.contentRoot}/footer`;\n    this.body = await fetchAndProcessPlainHtml({\n      url,\n      shouldDecorateLinks: false,\n    });\n\n    if (!this.body) {\n      const error = new Error('Could not create global footer. Content not found!');\n      error.tags = 'global-footer';\n      error.url = url;\n      error.errorType = 'error';\n      lanaLog({ message: error.message, ...error });\n      const { onFooterError } = getConfig();\n      onFooterError?.(error);\n      return;\n    }\n\n    const [region, social] = ['.region-selector', '.social'].map((selector) => this.body.querySelector(selector));\n    const [regionParent, socialParent] = [region?.parentElement, social?.parentElement];\n    // We remove and add again the region and social elements from the body to make sure\n    // they don't get decorated twice\n    [regionParent, socialParent].forEach((parent) => parent?.replaceChildren());\n\n    decorateLinks(this.body);\n\n    regionParent?.appendChild(region);\n    socialParent?.appendChild(social);\n\n    // Support auto populated modal\n    await Promise.all([...this.body.querySelectorAll('.modal')].map(loadBlock));\n\n    const path = getFederatedUrl(url);\n    federatePictureSources({ section: this.body, forceFederate: path.includes('/federal/') });\n\n    // Order is important, decorateFooter makes use of elements\n    // which have already been created in previous steps\n    const tasks = [\n      loadBaseStyles,\n      this.decorateGrid,\n      this.decorateProducts,\n      this.loadIcons,\n      this.decorateRegionPicker,\n      this.decorateSocial,\n      this.decoratePrivacy,\n      this.decorateFooter,\n    ];\n\n    for await (const task of tasks) {\n      await yieldToMain();\n      await task();\n    }\n\n    const mepMartech = mep?.martech || '';\n    this.block.setAttribute('daa-lh', `gnav|${getExperienceName()}|footer${mepMartech}`);\n    this.block.append(this.elements.footer);\n    const { onFooterReady } = getConfig();\n    onFooterReady?.();\n  }, 'Failed to decorate footer content', 'global-footer', 'error');\n\n  loadMenuLogic = async () => {\n    this.menuLogic = this.menuLogic || new Promise(async (resolve) => {\n      const menuLogic = await loadDecorateMenu();\n      this.decorateMenu = menuLogic.decorateMenu;\n      this.decorateLinkGroup = menuLogic.decorateLinkGroup;\n      resolve();\n    });\n\n    return this.menuLogic;\n  };\n\n  decorateGrid = async () => {\n    this.elements.footerMenu = '';\n    const columns = this.body.querySelectorAll(':scope > div > h2:first-child');\n\n    if (!columns || !columns.length) return this.elements.footerMenu;\n\n    this.elements.footerMenu = toFragment`<div class=\"feds-menu-content\"></div>`;\n    columns.forEach((column) => this.elements.footerMenu.appendChild(column.parentElement));\n\n    await this.loadMenuLogic();\n\n    await this.decorateMenu({\n      item: this.elements.footerMenu,\n      type: 'footerMenu',\n    });\n\n    this.elements.headlines = this.elements.footerMenu.querySelectorAll('.feds-menu-headline');\n\n    return this.elements.footerMenu;\n  };\n\n  loadIcons = async () => {\n    const file = await fetch(`${base}/blocks/global-footer/icons.svg`);\n    if (!file.ok) {\n      lanaLog({\n        message: 'Issue with loadIcons',\n        e: `${file.statusText} url: ${file.url}`,\n        tags: 'global-footer',\n        errorType: 'info',\n      });\n    }\n    const content = await file.text();\n    const elem = toFragment`<div class=\"feds-footer-icons\">${content}</div>`;\n    this.block.append(elem);\n  };\n\n  decorateProducts = async () => {\n    this.elements.featuredProducts = '';\n\n    // Get the featured products wrapper by looking for a link group's parent\n    const featuredProductElem = this.body.querySelector('.link-group');\n    if (!featuredProductElem) return this.elements.featuredProducts;\n\n    const featuredProductsContent = featuredProductElem.parentElement;\n    this.elements.featuredProducts = toFragment`<div class=\"feds-featuredProducts\"></div>`;\n\n    const [placeholder] = await Promise.all([\n      replaceKey('featured-products', getFedsPlaceholderConfig()),\n      this.loadMenuLogic(),\n    ]);\n\n    if (placeholder && placeholder.length) {\n      this.elements.featuredProducts\n        .append(toFragment`<span class=\"feds-featuredProducts-label\" role=\"heading\" aria-level=\"2\">${placeholder}</span>`);\n    }\n\n    featuredProductsContent.querySelectorAll('.link-group').forEach((linkGroup) => {\n      this.elements.featuredProducts.append(this.decorateLinkGroup(linkGroup));\n    });\n\n    return this.elements.featuredProducts;\n  };\n\n  decorateRegionPicker = async () => {\n    this.elements.regionPicker = '';\n    const regionSelector = this.body.querySelector('.region-selector a');\n    if (!regionSelector) return this.elements.regionPicker;\n\n    let url;\n\n    try {\n      url = new URL(regionSelector.href);\n    } catch (e) {\n      lanaLog({ message: `Could not create URL for region picker; href: ${regionSelector.href}`, tags: 'global-footer', errorType: 'error' });\n      return this.elements.regionPicker;\n    }\n\n    const regionPickerClass = 'feds-regionPicker';\n    const regionPickerTextElem = toFragment`<span class=\"feds-regionPicker-text\">${regionSelector.textContent}</span>`;\n    const regionPickerElem = toFragment`\n      <a\n        href=\"${regionSelector.href}\"\n        class=\"${regionPickerClass}\"\n        role=\"button\">\n        <svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" class=\"feds-regionPicker-globe\" focusable=\"false\">\n          <use href=\"#footer-icon-globe\" />\n        </svg>\n        ${regionPickerTextElem}\n      </a>`;\n    regionPickerElem.dataset.modalPath = `${url.pathname}#_inline`;\n    regionPickerElem.dataset.modalHash = url.hash;\n    const regionPickerWrapperClass = 'feds-regionPicker-wrapper';\n    this.elements.regionPicker = toFragment`<div class=\"${regionPickerWrapperClass}\">\n        ${regionPickerElem}\n      </div>`;\n\n    const isRegionPickerExpanded = () => regionPickerElem.getAttribute('aria-expanded') === 'true';\n\n    // Note: the region picker currently works only with Milo modals/fragments;\n    // in the future we'll need to update this for non-Milo consumers\n    if (url.hash !== '') {\n      // Hash -> region selector opens a modal\n      decorateAutoBlock(regionPickerElem); // add modal-specific attributes\n      regionPickerElem.href = url.hash;\n      loadStyle(`${base}/blocks/modal/modal.css`);\n      const { default: initModal } = await import('../modal/modal.js');\n      const modal = await initModal(regionPickerElem);\n\n      const loadRegionNav = async () => {\n        const block = document.querySelector('.region-nav');\n        if (block && getConfig().standaloneGnav) {\n          // on standalone the region-nav will fail to load automatically through\n          // the modal calling fragment.js. In that case we will have data-failed=true\n          // and we should manually load region nav\n          // If that's not the case then we're not a standalone gnav\n          // and we mustn't load region-nav twice.\n          if (block.getAttribute('data-failed') !== 'true') return;\n          block.classList.add('hide');\n          loadStyle(`${base}/blocks/region-nav/region-nav.css`);\n          const { default: initRegionNav } = await import('../region-nav/region-nav.js');\n          initRegionNav(block);\n          // decoratePlaceholders(block, getConfig());\n          block.classList.remove('hide');\n        }\n      };\n\n      if (modal) await loadRegionNav(); // just in case the modal is already open\n\n      regionPickerElem.addEventListener('click', () => {\n        if (!isRegionPickerExpanded()) {\n          regionPickerElem.setAttribute('aria-expanded', 'true');\n          // wait for the modal to load before we load the region nav\n          window.addEventListener('milo:modal:loaded', loadRegionNav, { once: true });\n        }\n      });\n      // Set aria-expanded to false when region modal is closed\n      window.addEventListener('milo:modal:closed', () => {\n        if (isRegionPickerExpanded()) {\n          regionPickerElem.setAttribute('aria-expanded', 'false');\n        }\n      });\n    } else {\n      // No hash -> region selector expands a dropdown\n      regionPickerElem.setAttribute('aria-haspopup', 'true');\n      regionPickerElem.href = '#'; // reset href value to not get treated as a fragment\n      regionSelector.href = localizeLink(regionSelector.href);\n      decorateAutoBlock(regionSelector); // add fragment-specific class(es)\n      this.elements.regionPicker.append(regionSelector); // add fragment after regionPickerElem\n      const { default: initFragment } = await import('../fragment/fragment.js');\n      await initFragment(regionSelector); // load fragment and replace original link\n      // Update aria-expanded on click\n      regionPickerElem.addEventListener('click', (e) => {\n        e.preventDefault();\n        const isDialogActive = regionPickerElem.getAttribute('aria-expanded') === 'true';\n        regionPickerElem.setAttribute('aria-expanded', !isDialogActive);\n      });\n      // Close region picker dropdown on outside click\n      document.addEventListener('click', (e) => {\n        if (isRegionPickerExpanded()\n          && !e.target.closest(`.${regionPickerWrapperClass}`)) {\n          regionPickerElem.setAttribute('aria-expanded', false);\n        }\n      });\n    }\n\n    return this.elements.regionPicker;\n  };\n\n  decorateSocial = () => {\n    this.elements.social = '';\n    const socialBlock = this.body.querySelector('.social');\n    if (!socialBlock) return this.elements.social;\n\n    const socialElem = toFragment`<ul class=\"feds-social\" daa-lh=\"Social\"></ul>`;\n\n    const sanitizeLink = (link) => link.replace('#_blank', '').replace('#_dnb', '');\n\n    CONFIG.socialPlatforms.forEach((platform, index) => {\n      const link = socialBlock.querySelector(`a[href*=\"${platform}\"]`);\n      if (!link) return;\n\n      const iconElem = toFragment`<li class=\"feds-social-item\">\n          <a\n            href=\"${sanitizeLink(link.href)}\"\n            class=\"feds-social-link\"\n            aria-label=\"${platform}\"\n            daa-ll=\"${getAnalyticsValue(platform, index + 1)}\"\n            target=\"_blank\">\n            <svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" class=\"feds-social-icon\">\n              <use href=\"#footer-icon-${platform}\" />\n            </svg>\n          </a>\n        </li>`;\n\n      socialElem.append(iconElem);\n    });\n\n    this.elements.social = socialElem.childElementCount !== 0 ? socialElem : '';\n\n    return this.elements.social;\n  };\n\n  decoratePrivacy = () => {\n    this.elements.legal = '';\n    // Get the legal links wrapper by looking for the copyright text's parent\n    const copyrightElem = this.body.querySelector('div > p > em');\n    if (!copyrightElem) return this.elements.legal;\n\n    const privacyContent = copyrightElem.closest('div');\n\n    // Decorate copyright element\n    const currentYear = new Date().getFullYear();\n    copyrightElem.remove();\n\n    // Add Ad Choices icon\n    const adChoicesElem = privacyContent.querySelector('a[href*=\"#interest-based-ads\"]');\n    adChoicesElem?.prepend(toFragment`<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" class=\"feds-adChoices-icon\" focusable=\"false\">\n        <use href=\"#footer-icon-adchoices\" />\n      </svg>`);\n\n    this.elements.legal = toFragment`<div class=\"feds-footer-legalWrapper\" daa-lh=\"Legal\"></div>`;\n    const linkDivider = '<span class=\"feds-footer-privacyLink-divider\" aria-hidden=\"true\">/</span>';\n\n    let privacyContentIndex = 0;\n    while (privacyContent.children.length) {\n      const privacySection = privacyContent.firstElementChild;\n      privacySection.classList.add('feds-footer-privacySection');\n      privacySection.querySelectorAll('a').forEach((link, index) => {\n        link.classList.add('feds-footer-privacyLink');\n        link.setAttribute('daa-ll', getAnalyticsValue(link.textContent, index + 1));\n        const privacySectionListItem = document.createElement('li');\n        privacySectionListItem.classList.add('feds-footer-privacy-listitem');\n        link.parentNode.insertBefore(privacySectionListItem, link);\n        privacySectionListItem.appendChild(link);\n        if (index !== privacySection.querySelectorAll('a').length - 1) {\n          privacySectionListItem.innerHTML += linkDivider;\n        }\n      });\n      this.elements.legal.append(privacySection);\n\n      if (privacyContentIndex === 0) {\n        const privacySectionList = document.createElement('ul');\n        [...privacySection.attributes].forEach((attr) => {\n          privacySectionList.setAttribute(attr.name, attr.value);\n        });\n        const copyrightListItem = document.createElement('li');\n        copyrightListItem.classList.add('feds-footer-privacy-listitem');\n        copyrightListItem.innerHTML = linkDivider;\n        copyrightListItem.prepend(copyrightElem);\n        copyrightElem.replaceWith(toFragment`<span class=\"feds-footer-copyright\">Copyright Â© ${currentYear} ${copyrightElem.textContent}</span>`);\n        privacySectionList.prepend(copyrightListItem);\n        privacySectionList.innerHTML += privacySection.innerHTML.replace(/( \\/ )/g, '');\n        privacySection.parentNode.replaceChild(privacySectionList, privacySection);\n      }\n      privacyContentIndex += 1;\n    }\n\n    return this.elements.legal;\n  };\n\n  decorateFooter = () => {\n    this.elements.footer = toFragment`<div class=\"feds-footer-wrapper\">\n        ${this.elements.footerMenu}\n        ${this.elements.featuredProducts}\n        <div class=\"feds-footer-options\">\n          <div class=\"feds-footer-miscLinks\">\n            ${this.elements.regionPicker}\n            ${this.elements.social}\n          </div>\n          ${this.elements.legal}\n        </div>\n      </div>`;\n\n    return this.elements.footer;\n  };\n}\n\nexport default function init(block) {\n  try {\n    const footer = new Footer({ block });\n    if (isDarkMode()) block.classList.add('feds--dark');\n    return footer;\n  } catch (e) {\n    lanaLog({ message: 'Could not create footer', e });\n    return null;\n  }\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","miloLibs","codeRoot","locale","mep","getConfig","base","CONFIG","socialPlatforms","delays","decoration","Footer","block","arguments","length","undefined","logErrorFor","async","decorationTimeout","observer","window","IntersectionObserver","entries","find","entry","isIntersecting","clearTimeout","disconnect","this","decorateContent","rootMargin","observe","setTimeout","url","getMetadata","concat","contentRoot","body","fetchAndProcessPlainHtml","shouldDecorateLinks","error","Error","tags","errorType","lanaLog","message","onFooterError","region","social","map","selector","querySelector","regionParent","socialParent","parentElement","forEach","parent","replaceChildren","decorateLinks","appendChild","Promise","all","querySelectorAll","loadBlock","path","getFederatedUrl","federatePictureSources","section","forceFederate","includes","tasks","loadBaseStyles","decorateGrid","decorateProducts","loadIcons","decorateRegionPicker","decorateSocial","decoratePrivacy","decorateFooter","task","yieldToMain","mepMartech","martech","setAttribute","getExperienceName","append","elements","footer","onFooterReady","menuLogic","loadDecorateMenu","decorateMenu","decorateLinkGroup","resolve","footerMenu","columns","toFragment","_templateObject","_taggedTemplateLiteral","column","loadMenuLogic","item","type","headlines","file","fetch","ok","statusText","content","text","elem","_templateObject2","featuredProducts","featuredProductElem","featuredProductsContent","_templateObject3","placeholder","replaceKey","getFedsPlaceholderConfig","_templateObject4","linkGroup","regionPicker","regionSelector","URL","href","regionPickerTextElem","_templateObject5","textContent","regionPickerElem","_templateObject6","dataset","modalPath","pathname","modalHash","hash","regionPickerWrapperClass","_templateObject7","isRegionPickerExpanded","getAttribute","decorateAutoBlock","loadStyle","default","initModal","modal","loadRegionNav","document","standaloneGnav","classList","add","initRegionNav","remove","addEventListener","once","localizeLink","initFragment","preventDefault","isDialogActive","target","closest","socialBlock","socialElem","_templateObject8","platform","index","link","iconElem","_templateObject9","replace","sanitizeLink","getAnalyticsValue","childElementCount","legal","copyrightElem","privacyContent","currentYear","Date","getFullYear","adChoicesElem","prepend","_templateObject10","_templateObject11","linkDivider","privacyContentIndex","children","privacySection","firstElementChild","privacySectionListItem","createElement","parentNode","insertBefore","innerHTML","privacySectionList","attributes","attr","name","copyrightListItem","replaceWith","_templateObject12","replaceChild","_templateObject13","init","isDarkMode"],"sourceRoot":""}