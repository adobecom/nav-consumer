"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[3078,1857,5897,1926],{3078:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(1857),r=n(5897),l=n(212);n(6850);function o(e,t,n,a,r,o){var i;let c,s=!1;const d=6e4,u=null===(i=new URL(window.location.href))||void 0===i||null===(i=i.searchParams)||void 0===i?void 0:i.get("instant");let f=u?Date.parse(u):Date.now();function h(e,t,n){const a=(0,l.createTag)("div",{class:"timer-fragment"},null,{parent:e}),r=(0,l.createTag)("div",{class:"timer-unit-container"},null,{parent:a});(0,l.createTag)("div",{class:"timer-unit-label"},n,{parent:a}),(0,l.createTag)("div",{class:"timer-box"},Math.floor(t/10).toString(),{parent:r}),(0,l.createTag)("div",{class:"timer-box"},(t%10).toString(),{parent:r})}function p(e){(0,l.createTag)("div",{class:"timer-separator"},":",{parent:e})}function m(){e.replaceChildren()}function v(o,i,c){var d,u;s&&(m(),d=e,u=t,(0,l.createTag)("div",{class:"timer-label"},u,{parent:d}),function(e,t,o,i){const c=(0,l.createTag)("div",{class:"timer-block"},null,{parent:e});h(c,t,n),p(c),h(c,o,a),p(c),h(c,i,r)}(e,o,i,c))}function g(){for(let e=0;e<o.length;e+=2){const t=o[e],n=o[e+1];if(f>=t&&f<=n){s=!0;const e=n-f;return v(Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4)),void(f+=d)}}s=!1,clearInterval(c),m()}g(),c=setInterval(g,d)}async function i(e,t){const[n,i,c,s]=await Promise.all(["cdt-ends-in","cdt-days","cdt-hours","cdt-mins"].map((e=>(0,r.replaceKey)(e,(0,l.getConfig)())))),d=function(){const e=(0,l.getMepEnablement)("manifestnames","promo"),t=new URL(window.location.href),n=(0,a.getPromoManifests)(e,t.searchParams);let r=null;if(null===n||void 0===n||n.forEach((e=>{e.disabled||e.event.cdtStart&&e.event.cdtEnd&&(r="".concat(e.event.cdtStart,",").concat(e.event.cdtEnd))})),!r&&(r=(0,l.getMetadata)("countdown-timer"),null===r))throw new Error("Metadata for countdown-timer is not available");const o=r.split(",");if(o.length%2!==0)throw new Error("Invalid countdown timer range");const i=o.map((e=>{const t=Date.parse(null===e||void 0===e?void 0:e.trim());return Number.isNaN(t)?null:t}));if(i.includes(null))throw new Error("Invalid format for countdown timer range");return i}(),u=(0,l.createTag)("div",{class:"countdown-timer"},null,{parent:e});u.classList.add(window.matchMedia("(max-width: 767px)").matches?"vertical":"horizontal"),t.contains("dark")&&u.classList.add("dark"),t.contains("center")&&u.classList.add("center"),o(u,n,i,c,s,d)}},1857:(e,t,n)=>{n.r(t),n.d(t,{getPromoManifests:()=>f,isDisabled:()=>d});var a,r,l=n(212),o=e=>new Date("".concat(e,"+00:00")),i={APAC:["au","cn","hk_en","hk_zh","id_en","id_id","in","in_hi","kr","my_en","my_ms","nz","ph_en","ph_fil","sg","th_en","th_th","tw","vn_en","vn_vi"],EMEA:["ae_en","ae_ar","africa","at","be_en","be_fr","be_nl","bg","ch_de","ch_fr","ch_it","cis_en","cis_ru","cz","de","dk","ee","eg_ar","eg_en","es","fi","fr","gr_el","gr_en","hu","ie","il_en","il_he","iq","is","it","kw_ar","kw_en","lt","lu_de","lu_en","lu_fr","lv","mena_ar","mena_en","ng","nl","no","pl","pt","qa_ar","qa_en","ro","ru","sa_en","sa_ar","se","si","sk","tr","ua","uk","za"],AMERICAS:["us","ar","br","ca","ca_fr","cl","co","cr","ec","gt","la","mx","pe","pr"],JP:["jp"]},c=(null===(a=(0,l.getConfig)())||void 0===a||null===(a=a.locale)||void 0===a||null===(a=a.prefix)||void 0===a?void 0:a.substring(1))||"us",s=(null===(r=Object.keys(i).find((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.includes(c)})))||void 0===r?void 0:r.toLowerCase())||null,d=(e,t)=>{if(!e)return!1;if(e.locales&&!e.locales.includes(c))return!0;const n=null!==t&&void 0!==t&&t.get("instant")?new Date(t.get("instant")):new Date;return!!(!e.start&&e.end||!e.end&&e.start)||Boolean(e.start&&e.end&&(n<e.start||n>e.end))},u=(e,t,n)=>{var a;const r=e?null===(a=e.split(","))||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.trim())):[],i=(0,l.getMetadata)(t?"".concat(t,"_schedule"):"schedule");return i?i.split(",").map((e=>{const[t,a,l,i,s,u,f]=e.trim().split("|").map((e=>e.trim()));if(r.includes(t)&&(e=>!e||e.split(";").map((e=>e.trim())).includes(c))(s)){const e={name:t,start:o(a),end:o(l),cdtStart:u,cdtEnd:f};return{manifestPath:i,disabled:d(e,n),event:e,source:["promo"]}}return null})).filter((e=>null!=e)):[]};function f(e,t){return[...null!=s?u(e["".concat(s,"_manifestnames")],s,t):[],...u(e.manifestnames,null,t)]}},5897:(e,t,n)=>{n.r(t),n.d(t,{decoratePlaceholderArea:()=>u,replaceKey:()=>c,replaceKeyArray:()=>s,replaceText:()=>d});var a=n(212),r={};window.mph={};var l=async(e,t)=>{try{var n;null===(n=(e.ok?await e.json():{data:[]}).data)||void 0===n||n.forEach((e=>{window.mph[e.key]=e.value,t[e.key]=e.value}))}catch(a){window.lana.log("Error parsing placeholder json: ".concat(a.message),{tags:"placeholders",errorType:"e"})}},o=async e=>{let{config:t,sheet:n,placeholderRequest:o,placeholderPath:i}=e;const c=i||((e,t)=>{const n="".concat(e.locale.contentRoot,"/placeholders.json"),a="default"!==t&&"string"===typeof t&&t.length?"?sheet=".concat(t):"";return"".concat(n).concat(a)})(t,n);return r[c]||(r[c]=((e,t)=>new Promise((async n=>{const r=await t||await(0,a.customFetch)({resource:e,withCacheRules:!0}).catch((()=>({}))),o={};if(Array.isArray(r))for(const e of r)await l(e,o);else await l(r,o);n(o)})))(c,o)),r[c]};async function i(e,t,n){var r,l;let i=!1;const c="en-US",s=(0,a.getMetadata)("disable-geo-placeholders")||"off",d=()=>{const e=t.locale.contentRoot,n=t.locale.prefix;return n.length?e.endsWith(n)?e.replace(n,""):e.replace("".concat(n,"/"),"/"):e},u=async()=>{const e={locale:{ietf:c,contentRoot:d()}},t=await o({config:e,sheet:n}).catch((()=>({})));return i=!0,t};if(null!==(r=t.placeholders)&&void 0!==r&&r[e])return t.placeholders[e];let f;if(f="on"===s?await u():await o({config:t,sheet:n}),"string"===typeof(null===(l=f)||void 0===l?void 0:l[e]))return f[e];if(!i&&t.locale.ietf!==c){const t=await u();if(null!==t&&void 0!==t&&t[e])return t[e]}return function(e){return e.replaceAll("-"," ")}(e)}async function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("string"!==typeof e||!e.length)return"";return await i(e,t,n)}async function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(!Array.isArray(e)||!e.length)return[];const a=[];e.forEach((e=>{a.push(i(e,t,n))}));return await Promise.all(a)}async function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";if("string"!==typeof e||!e.length)return"";const r=[...e.matchAll(new RegExp(n))];if(!r.length)return e;const l=Array.from(r,(e=>e[1]||e[2])),o=await s(l,t,a);let i=0,c=e.replaceAll(n,(()=>o[i++]));return c=c.replace(/&nbsp;/g,"\xa0"),c}async function u(e){let{placeholderPath:t,placeholderRequest:n,nodes:r}=e;if(!r.length)return;const l=(0,a.getConfig)();await o({placeholderPath:t,config:l,placeholderRequest:n});const i=r.map((async e=>{if(e.nodeType===Node.TEXT_NODE)e.nodeValue=await d(e.nodeValue,l);else if(e.nodeType===Node.ELEMENT_NODE){const t=[...e.attributes].map((async e=>{const t=await d(e.value,l);return{name:e.name,value:t}}));(await Promise.all(t)).forEach((t=>{let{name:n,value:a}=t;e.setAttribute(n,a)}))}}));await Promise.all(i)}}}]);
//# sourceMappingURL=3078.91daca23.chunk.js.map