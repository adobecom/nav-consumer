"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[869,5853,8234],{5853:(e,a,t)=>{t.r(a),t.d(a,{decoratePlaceholderArea:()=>u,fetchPlaceholders:()=>o,replaceKey:()=>s,replaceKeyArray:()=>i,replaceText:()=>h});var r=t(1608),n={};window.mph={};var l=async(e,a)=>{try{var t;null===(t=(e.ok?await e.json():{data:[]}).data)||void 0===t||t.forEach((e=>{window.mph[e.key]=e.value,a[e.key]=e.value}))}catch(r){window.lana.log("Error parsing placeholder json: ".concat(r.message),{tags:"placeholders",errorType:"e"})}},o=async e=>{let{config:a,sheet:t,placeholderRequest:o,placeholderPath:c}=e;const s=c||((e,a)=>{const t="".concat(e.locale.contentRoot,"/placeholders.json"),r="default"!==a&&"string"===typeof a&&a.length?"?sheet=".concat(a):"";return"".concat(t).concat(r)})(a,t);return n[s]||(n[s]=((e,a)=>new Promise((async t=>{const n=await a||await(0,r.customFetch)({resource:e,withCacheRules:!0}).catch((()=>({}))),o={};if(Array.isArray(n))for(const e of n)await l(e,o);else await l(n,o);t(o)})))(s,o)),n[s]};async function c(e,a,t){var n,l;let c=!1;const s="en-US",i=(0,r.getMetadata)("disable-geo-placeholders")||"off",h=()=>{const e=a.locale.contentRoot,t=a.locale.prefix;return t.length?e.endsWith(t)?e.replace(t,""):e.replace("".concat(t,"/"),"/"):e},u=async()=>{const e={locale:{ietf:s,contentRoot:h()}},a=await o({config:e,sheet:t}).catch((()=>({})));return c=!0,a};if(null!==(n=a.placeholders)&&void 0!==n&&n[e])return a.placeholders[e];let d;if(d="on"===i?await u():await o({config:a,sheet:t}),"string"===typeof(null===(l=d)||void 0===l?void 0:l[e]))return d[e];if(!c&&a.locale.ietf!==s){const a=await u();if(null!==a&&void 0!==a&&a[e])return a[e]}return function(e){return e.replaceAll("-"," ")}(e)}async function s(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("string"!==typeof e||!e.length)return"";return await c(e,a,t)}async function i(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(!Array.isArray(e)||!e.length)return[];const r=[];e.forEach((e=>{r.push(c(e,a,t))}));return await Promise.all(r)}async function h(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";if("string"!==typeof e||!e.length)return"";const n=[...e.matchAll(new RegExp(t))];if(!n.length)return e;const l=Array.from(n,(e=>e[1]||e[2])),o=await i(l,a,r);let c=0,s=e.replaceAll(t,(()=>o[c++]));return s=s.replace(/&nbsp;/g,"\xa0"),s}async function u(e){let{placeholderPath:a,placeholderRequest:t,nodes:n}=e;if(!n.length)return;const l=(0,r.getConfig)();await o({placeholderPath:a,config:l,placeholderRequest:t});const c=n.map((async e=>{if(e.nodeType===Node.TEXT_NODE)e.nodeValue=await h(e.nodeValue,l);else if(e.nodeType===Node.ELEMENT_NODE){const a=[...e.attributes].map((async e=>{const a=await h(e.value,l);return{name:e.name,value:a}}));(await Promise.all(a)).forEach((a=>{let{name:t,value:r}=a;e.setAttribute(t,r)}))}}));await Promise.all(c)}},869:(e,a,t)=>{t.r(a),t.d(a,{decoratePlaceholderArea:()=>r.decoratePlaceholderArea,fetchPlaceholders:()=>r.fetchPlaceholders,replaceKey:()=>r.replaceKey,replaceKeyArray:()=>r.replaceKeyArray,replaceText:()=>r.replaceText});var r=t(5853);t(1608),t(3658)}}]);
//# sourceMappingURL=869.5622a9dd.chunk.js.map