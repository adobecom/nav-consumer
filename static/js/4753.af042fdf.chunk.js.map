{"version":3,"file":"static/js/4753.af042fdf.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/utils/samplerum.js"],"sourcesContent":["// code from https://github.com/adobe/helix-rum-js/blob/main/src/index.js\n// eslint-disable-next-line import/prefer-default-export\nexport function sampleRUM(checkpoint, data) {\n  // eslint-disable-next-line max-len\n  const timeShift = () => (window.performance ? window.performance.now() : Date.now() - window.hlx.rum.firstReadTime);\n  try {\n    window.hlx = window.hlx || {};\n    sampleRUM.enhance = () => {};\n    if (!window.hlx.rum) {\n      const param = new URLSearchParams(window.location.search).get('rum');\n      const weight = (window.SAMPLE_PAGEVIEWS_AT_RATE === 'high' && 10)\n        || (window.SAMPLE_PAGEVIEWS_AT_RATE === 'low' && 1000)\n        || (param === 'on' && 1)\n        || 100;\n      const id = Math.random().toString(36).slice(-4);\n      const isSelected = (param !== 'off') && (Math.random() * weight < 1);\n      // eslint-disable-next-line object-curly-newline, max-len\n      window.hlx.rum = { weight, id, isSelected, firstReadTime: window.performance ? window.performance.timeOrigin : Date.now(), sampleRUM, queue: [], collector: (...args) => window.hlx.rum.queue.push(args) };\n      if (isSelected) {\n        const dataFromErrorObj = (error) => {\n          const errData = { source: 'undefined error' };\n          try {\n            errData.target = error.toString();\n            errData.source = error.stack.split('\\n')\n              .filter((line) => line.match(/https?:\\/\\//)).shift()\n              .replace(/at ([^ ]+) \\((.+)\\)/, '$1@$2')\n              .replace(/ at /, '@')\n              .trim();\n          } catch (err) { /* error structure was not as expected */ }\n          return errData;\n        };\n\n        window.addEventListener('error', ({ error }) => {\n          const errData = dataFromErrorObj(error);\n          sampleRUM('error', errData);\n        });\n\n        window.addEventListener('unhandledrejection', ({ reason }) => {\n          let errData = {\n            source: 'Unhandled Rejection',\n            target: reason || 'Unknown',\n          };\n          if (reason instanceof Error) {\n            errData = dataFromErrorObj(reason);\n          }\n          sampleRUM('error', errData);\n        });\n\n        sampleRUM.baseURL = sampleRUM.baseURL || new URL(window.RUM_BASE || '/', new URL('https://rum.hlx.page'));\n        sampleRUM.collectBaseURL = sampleRUM.collectBaseURL || sampleRUM.baseURL;\n        sampleRUM.sendPing = (ck, time, pingData = {}) => {\n          // eslint-disable-next-line max-len, object-curly-newline\n          const rumData = JSON.stringify({ weight, id, referer: window.location.href, checkpoint: ck, t: time, ...pingData });\n          const urlParams = window.RUM_PARAMS ? `?${new URLSearchParams(window.RUM_PARAMS).toString()}` : '';\n          const { href: url, origin } = new URL(`.rum/${weight}${urlParams}`, sampleRUM.collectBaseURL);\n          const body = origin === window.location.origin ? new Blob([rumData], { type: 'application/json' }) : rumData;\n          navigator.sendBeacon(url, body);\n          // eslint-disable-next-line no-console\n          console.debug(`ping:${ck}`, pingData);\n        };\n        sampleRUM.sendPing('top', timeShift());\n\n        sampleRUM.enhance = () => {\n          // only enhance once\n          if (document.querySelector('script[src*=\"rum-enhancer\"]')) return;\n\n          const script = document.createElement('script');\n          script.src = new URL('.rum/@adobe/helix-rum-enhancer@^2/src/index.js', sampleRUM.baseURL).href;\n          document.head.appendChild(script);\n        };\n        if (!window.hlx.RUM_MANUAL_ENHANCE) {\n          sampleRUM.enhance();\n        }\n      }\n    }\n    if (window.hlx.rum && window.hlx.rum.isSelected && checkpoint) {\n      window.hlx.rum.collector(checkpoint, data, timeShift());\n    }\n    document.dispatchEvent(new CustomEvent('rum', { detail: { checkpoint, data } }));\n  } catch (error) {\n    // something went awry\n  }\n}\n"],"names":["sampleRUM","checkpoint","data","timeShift","window","performance","now","Date","hlx","rum","firstReadTime","enhance","param","URLSearchParams","location","search","get","weight","SAMPLE_PAGEVIEWS_AT_RATE","id","Math","random","toString","slice","isSelected","timeOrigin","queue","collector","_len","arguments","length","args","Array","_key","push","dataFromErrorObj","error","errData","source","target","stack","split","filter","line","match","shift","replace","trim","err","addEventListener","_ref","_ref2","reason","Error","baseURL","URL","RUM_BASE","collectBaseURL","sendPing","ck","time","pingData","undefined","rumData","JSON","stringify","referer","href","t","urlParams","RUM_PARAMS","concat","url","origin","body","Blob","type","navigator","sendBeacon","console","debug","document","querySelector","script","createElement","src","head","appendChild","RUM_MANUAL_ENHANCE","dispatchEvent","CustomEvent","detail"],"sourceRoot":""}