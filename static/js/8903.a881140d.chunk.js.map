{"version":3,"file":"static/js/8903.a881140d.chunk.js","mappings":"iHAAA,SAASA,EAAuBC,EAAGC,GACjC,OAAOA,IAAMA,EAAID,EAAEE,MAAM,IAAKC,OAAOC,OAAOD,OAAOE,iBAAiBL,EAAG,CACrEM,IAAK,CACHC,MAAOJ,OAAOC,OAAOH,MAG3B,C,2HCFA,SAASO,EAAgBR,GACvB,IAAMC,GAAYQ,EAAAA,EAAAA,KAClBT,EAAQU,MAAMC,IAAA,GAAAC,OAASX,EAAS,KAClC,CAsBA,SAASY,EAAqBb,EAASC,GACrC,IAAMa,EAAOC,SAASC,cAAc,QACpChB,EAAQiB,UAAUC,IAAI,uBAAwB,uBAC1ClB,EAAQgB,cAAc,yBAAyBhB,EAAQiB,UAAUC,IAAI,SACzE,IACIC,EADAC,EAAkB,MAEjBpB,EAAQgB,cAAc,iCAAiCC,UAAUI,SAAS,aACzEpB,GAASD,EAAQiB,UAAUI,SAAS,YACxCF,GAAmB,EACnBnB,EAAQiB,UAAUK,OAAO,yBAEtBH,GAAoBL,EAAKS,SAAS,KAAOvB,IAC5CoB,GAAkBI,EAAAA,EAAAA,GAAU,MAAO,CAAEC,MAAO,gCAC5CzB,EAAQ0B,cAAcC,aAAaP,EAAiBpB,IAEtD,IAAM4B,EAnCR,SAA+B5B,EAAIC,GAiBjC,OAhBW,IAAI4B,sBAAqB,CAACV,EAASS,KAC5CT,EAAQW,SAASC,IACf,GAAI/B,EAAGiB,UAAUI,SAAS,wBAGxB,OAFAW,OAAOC,oBAAoB,SAAUzB,QACrCoB,EAASM,UAAUH,EAAMI,QAI3B,IAAMC,EAAmBL,EAAMI,SAAWlC,GAAmB8B,EAAMM,iBAC9D,OAAApC,QAAA,IAAAA,OAAA,EAAAA,EAAiBqC,wBAAwBC,GAAI,EAE9CR,EAAMI,SAAWpB,SAASC,cAAc,UAC1ChB,EAAGiB,UAAUuB,OAAO,sBAAuBT,EAAMM,gBAC5CrC,EAAGiB,UAAUuB,OAAO,sBAAuBJ,EACpD,GACF,GAhBkDK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAU,CAAC,EAkB/D,CAiBaG,CAAsB5C,EAASoB,GACtCA,GAAiBQ,EAAGiB,QAAQzB,GAC5BpB,EAAQgB,cAAc,kCACxBY,EAAGiB,QAAQ9B,SAASC,cAAc,UAEtC,CAEA,eAAOuB,EAA2CvC,EAAQC,GACxD,IAAMa,EAAOC,SAASC,cAAc,QACpC,OAAQhB,GACN,IAAK,aAAc,CACjB,IAAQ8C,SAAA1B,SAAmB,+BAC3BY,OAAOe,iBAAiB,SAAU3B,GAAS,IAAMZ,EAAgBP,MACjEO,EAAgBP,GAChBa,EAAKkC,QAAQ/C,GACb,KACF,CACA,IAAK,gBACH,GAAIA,EAAQe,cAAc,iCAAkC,KAAAiC,EAC1D,IAAM7B,GAAW8B,EAAAA,EAAAA,GAAYjD,EAAQe,cAAc,sBAC7CG,GAAQgC,EAAAA,EAAAA,GAAsB,QAAtBF,EAAa7B,EAASgC,aAAA,IAAAH,OAAA,EAATA,EAAgBI,MACvClC,EAAOmC,YAAW,KAAQzC,EAAqBZ,EAASkB,EAAQ,GAAGA,GAClEN,EAAqBZ,EAASkB,EACrC,CACAL,EAAKyC,OAAOtD,GAMlB,C","sources":["../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../../milo/libs/blocks/section-metadata/sticky-section.js"],"sourcesContent":["function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","import { createTag } from '../../utils/utils.js';\nimport { getMetadata, getDelayTime } from './section-metadata.js';\nimport { getGnavHeight } from '../global-navigation/utilities/utilities.js';\n\nfunction handleTopHeight(section) {\n  const topHeight = getGnavHeight();\n  section.style.top = `${topHeight}px`;\n}\n\nfunction promoIntersectObserve(el, stickySectionEl, options = {}) {\n  const io = new IntersectionObserver((entries, observer) => {\n    entries.forEach((entry) => {\n      if (el.classList.contains('close-sticky-section')) {\n        window.removeEventListener('resize', handleTopHeight);\n        observer.unobserve(entry.target);\n        return;\n      }\n\n      const abovePromoStart = (entry.target === stickySectionEl && entry.isIntersecting)\n        || stickySectionEl?.getBoundingClientRect().y > 0;\n\n      if (entry.target === document.querySelector('footer')) {\n        el.classList.toggle('fill-sticky-section', entry.isIntersecting);\n      } else el.classList.toggle('hide-sticky-section', abovePromoStart);\n    });\n  }, options);\n  return io;\n}\n\nfunction handleStickyPromobar(section, delay) {\n  const main = document.querySelector('main');\n  section.classList.add('promo-sticky-section', 'hide-sticky-section');\n  if (section.querySelector('.popup:is(.promobar)')) section.classList.add('popup');\n  let stickySectionEl = null;\n  let hasScrollControl;\n  if ((section.querySelector(':is(.promobar, .notification)').classList.contains('no-delay'))\n    || (delay && section.classList.contains('popup'))) {\n    hasScrollControl = true;\n    section.classList.remove('hide-sticky-section');\n  }\n  if (!hasScrollControl && main.children[0] !== section) {\n    stickySectionEl = createTag('div', { class: 'section show-sticky-section' });\n    section.parentElement.insertBefore(stickySectionEl, section);\n  }\n  const io = promoIntersectObserve(section, stickySectionEl);\n  if (stickySectionEl) io.observe(stickySectionEl);\n  if (section.querySelector(':is(.promobar, .notification)')) {\n    io.observe(document.querySelector('footer'));\n  }\n}\n\nexport default async function handleStickySection(sticky, section) {\n  const main = document.querySelector('main');\n  switch (sticky) {\n    case 'sticky-top': {\n      const { debounce } = await import('../../utils/action.js');\n      window.addEventListener('resize', debounce(() => handleTopHeight(section)));\n      handleTopHeight(section);\n      main.prepend(section);\n      break;\n    }\n    case 'sticky-bottom': {\n      if (section.querySelector(':is(.promobar, .notification)')) {\n        const metadata = getMetadata(section.querySelector('.section-metadata'));\n        const delay = getDelayTime(metadata.delay?.text);\n        if (delay) setTimeout(() => { handleStickyPromobar(section, delay); }, delay);\n        else handleStickyPromobar(section, delay);\n      }\n      main.append(section);\n      break;\n    }\n    default:\n      break;\n  }\n}\n"],"names":["_taggedTemplateLiteral","e","t","slice","Object","freeze","defineProperties","raw","value","n","c","style","top","concat","p","r","document","querySelector","classList","add","i","o","contains","remove","children","l","class","parentElement","insertBefore","a","IntersectionObserver","forEach","s","window","removeEventListener","unobserve","target","u","isIntersecting","getBoundingClientRect","y","toggle","arguments","length","undefined","f","observe","debounce","addEventListener","prepend","_o$delay","m","d","delay","text","setTimeout","append"],"sourceRoot":""}