{"version":3,"file":"static/js/6127.77b28b43.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/utils/federated.js","../node_modules/@adobecom/features/georoutingv2/georoutingv2.js"],"sourcesContent":["import { getConfig, SLD } from './utils.js';\n\nlet federatedContentRoot;\n/* eslint-disable import/prefer-default-export */\nexport const getFederatedContentRoot = () => {\n  const cdnWhitelistedOrigins = [\n    'https://www.adobe.com',\n    'https://business.adobe.com',\n    'https://blog.adobe.com',\n    'https://milo.adobe.com',\n    'https://news.adobe.com',\n  ];\n  const { allowedOrigins = [], origin: configOrigin } = getConfig();\n  if (federatedContentRoot) return federatedContentRoot;\n  // Non milo consumers will have its origin from config\n  const origin = configOrigin || window.location.origin;\n\n  federatedContentRoot = [...allowedOrigins, ...cdnWhitelistedOrigins].some((o) => origin.replace('.stage', '') === o)\n    ? origin\n    : 'https://www.adobe.com';\n\n  if (origin.includes('localhost') || origin.includes(`.${SLD}.`)) {\n    federatedContentRoot = `https://main--federal--adobecom.aem.${origin.endsWith('.live') ? 'live' : 'page'}`;\n  }\n\n  return federatedContentRoot;\n};\n\n// TODO we should match the akamai patterns /locale/federal/ at the start of the url\n// and make the check more strict.\nexport const getFederatedUrl = (url = '') => {\n  if (typeof url !== 'string' || !url.includes('/federal/')) return url;\n  if (url.startsWith('/')) return `${getFederatedContentRoot()}${url}`;\n  try {\n    const { pathname, search, hash } = new URL(url);\n    return `${getFederatedContentRoot()}${pathname}${search}${hash}`;\n  } catch (e) {\n    window.lana?.log(`getFederatedUrl errored parsing the URL: ${url}: ${e.toString()}`);\n  }\n  return url;\n};\n\nlet fedsPlaceholderConfig;\nexport const getFedsPlaceholderConfig = ({ useCache = true } = {}) => {\n  if (useCache && fedsPlaceholderConfig) return fedsPlaceholderConfig;\n\n  const { locale, placeholders } = getConfig();\n  const libOrigin = getFederatedContentRoot();\n\n  fedsPlaceholderConfig = {\n    locale: {\n      ...locale,\n      contentRoot: `${libOrigin}${locale.prefix}/federal/globalnav`,\n    },\n    placeholders,\n  };\n\n  return fedsPlaceholderConfig;\n};\n","import { getFederatedContentRoot } from '../../utils/federated.js';\n\nlet config;\nlet createTag;\nlet getMetadata;\nlet loadBlock;\nlet loadStyle;\nlet sendAnalyticsFunc;\n\nconst createTabsContainer = (tabNames) => {\n  const ol = createTag('ol');\n  tabNames.forEach((name) => {\n    const li = createTag('li', null, name);\n    ol.appendChild(li);\n  });\n  const olDiv = createTag('div', null, ol);\n  const outerDiv = createTag('div', null, olDiv);\n  const divTabs = createTag('div', { class: 'tabs quiet' }, outerDiv);\n  return createTag('div', { class: 'section tabs-background-transparent' }, divTabs);\n};\n\nconst createTab = (content, tabName) => {\n  const divTab = createTag('div', null, 'tab');\n  const divTagName = createTag('div', null, tabName);\n  const tab = createTag('div');\n  tab.appendChild(divTab);\n  tab.appendChild(divTagName);\n  const sectionMeta = createTag('div', { class: 'section-metadata' }, tab);\n  const topDiv = createTag('div', { class: 'section' });\n  topDiv.append(content);\n  topDiv.append(sectionMeta);\n  return topDiv;\n};\n\nexport const getCookie = (name) => document.cookie\n  .split('; ')\n  .find((row) => row.startsWith(`${name}=`))\n  ?.split('=')[1];\n\nconst getAkamaiCode = () => new Promise((resolve, reject) => {\n  const urlParams = new URLSearchParams(window.location.search);\n  const akamaiLocale = urlParams.get('akamaiLocale') || sessionStorage.getItem('akamai');\n  if (akamaiLocale !== null) {\n    resolve(akamaiLocale.toLowerCase());\n  } else {\n    /* c8 ignore next 5 */\n    fetch('https://geo2.adobe.com/json/', { cache: 'no-cache' }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          const code = data.country.toLowerCase();\n          sessionStorage.setItem('akamai', code);\n          resolve(code);\n        });\n      } else {\n        reject(new Error(`Something went wrong getting the akamai Code. Response status text: ${resp.statusText}`));\n      }\n    }).catch((error) => {\n      reject(new Error(`Something went wrong getting the akamai Code. ${error.message}`));\n    });\n  }\n});\n\n// Determine if any of the locales can be linked to.\nasync function getAvailableLocales(locales) {\n  const fallback = getMetadata('fallbackrouting') || config.fallbackRouting;\n\n  const { prefix } = config.locale;\n  let path = window.location.href.replace(`${window.location.origin}`, '');\n  if (path.startsWith(prefix)) path = path.replace(prefix, '');\n\n  const availableLocales = [];\n  const pagesExist = [];\n  locales.forEach((locale, index) => {\n    const locPrefix = locale.prefix ? `/${locale.prefix}` : '';\n    const localePath = `${locPrefix}${path}`;\n\n    const pageExistsRequest = fetch(localePath, { method: 'HEAD' }).then((resp) => {\n      if (resp.ok) {\n        locale.url = localePath;\n        availableLocales[index] = locale;\n      } else if (fallback !== 'off') {\n        locale.url = `${locPrefix}`;\n        availableLocales[index] = locale;\n      }\n    });\n    pagesExist.push(pageExistsRequest);\n  });\n  if (pagesExist.length > 0) await Promise.all(pagesExist);\n\n  return availableLocales.filter((a) => !!a);\n}\n\nfunction getGeoroutingOverride() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const param = urlParams.get('georouting');\n  const georouting = param || getCookie('georouting');\n  if (param === 'off') {\n    const domain = window.location.host.endsWith('.adobe.com') ? 'domain=adobe.com' : '';\n    const d = new Date();\n    d.setTime(d.getTime() + (365 * 24 * 60 * 60 * 1000));\n    const expires = `expires=${d.toUTCString()}`;\n    document.cookie = `georouting=${georouting};${expires};path=/;${domain}`;\n  } else if (param === 'on') document.cookie = 'georouting=; expires= Thu, 01 Jan 1970 00:00:00 GMT';\n  return georouting === 'off';\n}\n\nfunction decorateForOnLinkClick(link, urlPrefix, localePrefix, eventType = 'Switch') {\n  const modCurrPrefix = localePrefix || 'us';\n  const modPrefix = urlPrefix || 'us';\n  const eventName = `${eventType}:${modPrefix.split('_')[0]}-${modCurrPrefix.split('_')[0]}|Geo_Routing_Modal`;\n  link.setAttribute('daa-ll', eventName);\n  link.addEventListener('click', () => {\n    // set cookie so legacy code on adobecom still works properly.\n    const domain = window.location.host === 'adobe.com'\n      || window.location.host.endsWith('.adobe.com') ? 'domain=adobe.com' : '';\n    document.cookie = `international=${modPrefix};path=/;${domain}`;\n    link.closest('.dialog-modal').dispatchEvent(new Event('closeModal'));\n  });\n}\n\nfunction getCodes(data) {\n  return data.akamaiCodes.split(',').map((a) => a.toLowerCase().trim());\n}\n\nfunction getMatches(data, suppliedCode) {\n  return data.reduce((rdx, locale) => {\n    const localeCodes = getCodes(locale);\n    if (localeCodes.some((code) => code === suppliedCode)) rdx.push(locale);\n    return rdx;\n  }, []);\n}\n\nfunction removeOnClickOutsideElement(element, event, button) {\n  const func = (evt) => {\n    if (event === evt) return; // ignore initial click event\n    let targetEl = evt.target;\n    while (targetEl) {\n      if (targetEl === element) {\n        // click inside\n        return;\n      }\n      // Go up the DOM\n      targetEl = targetEl.parentNode;\n    }\n    // This is a click outside.\n    element.remove();\n    button.setAttribute('aria-expanded', false);\n    document.removeEventListener('click', func);\n  };\n  document.addEventListener('click', func);\n}\n\nfunction openPicker(button, locales, country, event, dir, currentPage) {\n  if (document.querySelector('.locale-modal-v2 .picker')) {\n    return;\n  }\n  const list = createTag('ul', { class: 'picker', dir });\n  locales.forEach((l) => {\n    const lang = config.locales[l.prefix]?.ietf ?? '';\n    const a = createTag('a', { lang, href: l.url }, `${country} - ${l.language}`);\n    decorateForOnLinkClick(a, l.prefix, currentPage.prefix);\n    const li = createTag('li', {}, a);\n    list.appendChild(li);\n  });\n  button.parentNode.insertBefore(list, button.nextSibling);\n  const buttonRect = button.getBoundingClientRect();\n  const spaceBelowButton = window.innerHeight - buttonRect.bottom;\n  if (spaceBelowButton <= list.offsetHeight) {\n    list.classList.add('top');\n  }\n\n  button.setAttribute('aria-expanded', true);\n  removeOnClickOutsideElement(list, event, button);\n}\n\nfunction buildContent(currentPage, locale, geoData, locales) {\n  const fragment = new DocumentFragment();\n  const lang = config.locales[locale.prefix]?.ietf ?? '';\n  const dir = config.locales[locale.prefix]?.dir ?? 'ltr';\n  const geo = geoData.filter((c) => c.prefix === locale.prefix);\n  const titleText = geo.length ? geo[0][currentPage.geo] : '';\n  const title = createTag('h3', { lang, dir }, locale.title.replace('{{geo}}', titleText));\n  const text = createTag('p', { class: 'locale-text', lang, dir }, locale.text);\n  const flagFile = locale.globeGrid?.toLowerCase().trim() === 'on' ? 'globe-grid.png' : `flag-${locale.geo.replace('_', '-')}.svg`;\n  const img = createTag('img', {\n    class: 'icon-milo',\n    width: 15,\n    height: 15,\n    alt: locale.button,\n  });\n  img.addEventListener(\n    'error',\n    () => (img.src = `${config.miloLibs || config.codeRoot}/features/georoutingv2/img/globe-grid.png`),\n    { once: true },\n  );\n  img.src = `${config.miloLibs || config.codeRoot}/img/georouting/${flagFile}`;\n  const span = createTag('span', { class: 'icon margin-inline-end' }, img);\n  const mainAction = createTag('a', {\n    class: 'con-button blue button-l', lang, role: 'button', 'aria-haspopup': !!locales, 'aria-expanded': false, href: '#',\n  }, span);\n  mainAction.append(locale.button);\n  if (locales) {\n    const downArrow = createTag('img', {\n      class: 'icon-milo down-arrow',\n      src: `${config.miloLibs || config.codeRoot}/ui/img/chevron.svg`,\n      role: 'presentation',\n      width: 15,\n      height: 15,\n    });\n    span.appendChild(downArrow);\n    mainAction.addEventListener('click', (e) => {\n      e.preventDefault();\n      openPicker(mainAction, locales, locale.button, e, dir, currentPage);\n    });\n  } else {\n    mainAction.href = locale.url;\n    decorateForOnLinkClick(mainAction, locale.prefix, currentPage.prefix);\n  }\n\n  const altAction = createTag('a', { lang, href: currentPage.url }, currentPage.button);\n  decorateForOnLinkClick(altAction, currentPage.prefix, locale.prefix, 'Stay');\n  const linkWrapper = createTag('div', { class: 'link-wrapper' }, mainAction);\n  linkWrapper.appendChild(altAction);\n  fragment.append(title, text, linkWrapper);\n  return fragment;\n}\n\nasync function getDetails(currentPage, localeMatches, geoData) {\n  const availableLocales = await getAvailableLocales(localeMatches);\n  if (!availableLocales.length) return null;\n  const georoutingWrapper = createTag('div', { class: 'georouting-wrapper fragment' });\n  currentPage.url = window.location.hash ? document.location.href : '#';\n  if (availableLocales.length === 1) {\n    const content = buildContent(currentPage, availableLocales[0], geoData);\n    georoutingWrapper.appendChild(content);\n    return georoutingWrapper;\n  }\n  const sortedLocales = availableLocales.sort((a, b) => a.languageOrder - b.languageOrder);\n  const tabsContainer = createTabsContainer(sortedLocales.map((l) => l.language));\n  georoutingWrapper.appendChild(tabsContainer);\n\n  sortedLocales.forEach((locale) => {\n    const content = buildContent(currentPage, locale, geoData, sortedLocales);\n    const tab = createTab(content, locale.language);\n    georoutingWrapper.appendChild(tab);\n  });\n  return georoutingWrapper;\n}\n\nasync function showModal(details) {\n  const { miloLibs, codeRoot } = config;\n\n  const tabs = details.querySelector('.tabs');\n  const sectionMetaPath = `${miloLibs || codeRoot}/blocks/section-metadata/section-metadata.css`;\n  const georoutingPath = `${miloLibs || codeRoot}/features/georoutingv2/georoutingv2.css`;\n  const promises = [\n    tabs ? loadBlock(tabs) : null,\n    tabs ? new Promise((resolve) => { loadStyle(sectionMetaPath, resolve); }) : null,\n    new Promise((resolve) => { loadStyle(georoutingPath, resolve); }),\n    import('../../blocks/modal/modal.js'),\n  ];\n  const result = await Promise.all(promises);\n  const { getModal, sendAnalytics } = result[3];\n  sendAnalyticsFunc = sendAnalytics;\n  return getModal(null, { class: 'locale-modal-v2', id: 'locale-modal-v2', content: details, closeEvent: 'closeModal' });\n}\n\nexport default async function loadGeoRouting(\n  conf,\n  createTagFunc,\n  getMetadataFunc,\n  loadBlockFunc,\n  loadStyleFunc,\n) {\n  if (getGeoroutingOverride()) return;\n  config = conf;\n  createTag = createTagFunc;\n  getMetadata = getMetadataFunc;\n  loadBlock = loadBlockFunc;\n  loadStyle = loadStyleFunc;\n\n  const urls = [\n    `${config.contentRoot ?? ''}/georoutingv2.json`,\n    `${config.contentRoot ?? ''}/georouting.json`,\n    `${getFederatedContentRoot()}/federal/georouting/georoutingv2.json`,\n  ];\n  let resp;\n  for (const url of urls) {\n    resp = await fetch(url);\n    if (resp.ok) {\n      if (url.includes('georouting.json')) {\n        const json = await resp.json();\n        // eslint-disable-next-line import/no-cycle\n        const { default: loadGeoRoutingOld } = await import('../georouting/georouting.js');\n        loadGeoRoutingOld(config, createTag, getMetadata, json);\n      }\n      break;\n    }\n  }\n  const json = await resp.json();\n  const { locale } = config;\n\n  const urlLocale = locale.prefix.replace('/', '');\n  const storedInter = getCookie('international');\n  const storedLocale = storedInter === 'us' ? '' : storedInter;\n\n  const urlGeoData = json.georouting.data.find((d) => d.prefix === urlLocale);\n  if (!urlGeoData) return;\n\n  if (storedLocale || storedLocale === '') {\n    const urlLocaleGeo = urlLocale.split('_')[0];\n    const storedLocaleGeo = storedLocale.split('_')[0];\n    // Show modal when url and cookie disagree\n    if (urlLocaleGeo !== storedLocaleGeo) {\n      const localeMatches = json.georouting.data.filter(\n        (d) => d.prefix === storedLocale,\n      );\n      const details = await getDetails(urlGeoData, localeMatches, json.geos.data);\n      if (details) {\n        await showModal(details);\n        sendAnalyticsFunc(\n          new Event(`Load:${storedLocaleGeo || 'us'}-${urlLocaleGeo || 'us'}|Geo_Routing_Modal`),\n        );\n      }\n    }\n    return;\n  }\n\n  // Show modal when derived countries from url locale and akamai disagree\n  try {\n    let akamaiCode = await getAkamaiCode();\n    if (akamaiCode && !getCodes(urlGeoData).includes(akamaiCode)) {\n      const localeMatches = getMatches(json.georouting.data, akamaiCode);\n      const details = await getDetails(urlGeoData, localeMatches, json.geos.data);\n      if (details) {\n        await showModal(details);\n        if (akamaiCode === 'gb') akamaiCode = 'uk';\n        sendAnalyticsFunc(\n          new Event(`Load:${urlLocale || 'us'}-${akamaiCode || 'us'}|Geo_Routing_Modal`),\n        );\n      }\n    }\n  } catch (e) {\n    window.lana?.log(e.message);\n  }\n}\n"],"names":["federatedContentRoot","fedsPlaceholderConfig","getFederatedContentRoot","allowedOrigins","origin","configOrigin","getConfig","window","location","some","o","replace","includes","concat","SLD","endsWith","getFederatedUrl","url","arguments","length","undefined","startsWith","pathname","search","hash","URL","e","_window$lana","lana","log","toString","getFedsPlaceholderConfig","useCache","locale","placeholders","libOrigin","contentRoot","prefix","config","createTag","getMetadata","loadBlock","loadStyle","sendAnalyticsFunc","createTabsContainer","tabNames","ol","forEach","name","li","appendChild","olDiv","outerDiv","divTabs","class","createTab","content","tabName","divTab","divTagName","tab","sectionMeta","topDiv","append","getCookie","_document$cookie$spli","document","cookie","split","find","row","getAkamaiCode","Promise","resolve","reject","akamaiLocale","URLSearchParams","get","sessionStorage","getItem","toLowerCase","fetch","cache","then","resp","ok","json","data","code","country","setItem","Error","statusText","catch","error","message","decorateForOnLinkClick","link","urlPrefix","localePrefix","modCurrPrefix","modPrefix","eventName","setAttribute","addEventListener","domain","host","closest","dispatchEvent","Event","getCodes","akamaiCodes","map","a","trim","openPicker","button","locales","event","dir","currentPage","querySelector","list","l","_config$locales$l$pre","_config$locales$l$pre2","lang","ietf","href","language","parentNode","insertBefore","nextSibling","buttonRect","getBoundingClientRect","innerHeight","bottom","offsetHeight","classList","add","element","func","evt","targetEl","target","remove","removeEventListener","removeOnClickOutsideElement","buildContent","geoData","_config$locales$local","_config$locales$local2","_config$locales$local3","_config$locales$local4","_locale$globeGrid","fragment","DocumentFragment","geo","filter","c","titleText","title","text","flagFile","globeGrid","img","width","height","alt","src","miloLibs","codeRoot","once","span","mainAction","role","downArrow","preventDefault","altAction","linkWrapper","async","getDetails","localeMatches","availableLocales","fallback","fallbackRouting","path","pagesExist","index","locPrefix","localePath","pageExistsRequest","method","push","all","getAvailableLocales","georoutingWrapper","sortedLocales","sort","b","languageOrder","tabsContainer","showModal","details","tabs","sectionMetaPath","georoutingPath","promises","result","getModal","sendAnalytics","id","closeEvent","loadGeoRouting","conf","createTagFunc","getMetadataFunc","loadBlockFunc","loadStyleFunc","_config$contentRoot","_config$contentRoot2","param","georouting","d","Date","setTime","getTime","expires","toUTCString","getGeoroutingOverride","urls","json2","default","loadGeoRoutingOld","urlLocale","storedInter","storedLocale","urlGeoData","urlLocaleGeo","storedLocaleGeo","geos","akamaiCode","suppliedCode","reduce","rdx"],"sourceRoot":""}