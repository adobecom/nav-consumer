{"version":3,"file":"static/js/3511.34267134.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/martech/helpers.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nconst AMCV_COOKIE = 'AMCV_9E1005A551ED61CA0A490D45@AdobeOrg';\nconst KNDCTR_COOKIE_KEYS = [\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_identity',\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_cluster',\n];\n\nconst DATA_STREAM_IDS_PROD = {\n  excludeDS: '57c20bab-94c3-425e-95cb-0b9948b1fdd4',\n  default: '913eac4d-900b-45e8-9ee7-306216765cd2',\n};\nconst DATA_STREAM_IDS_STAGE = {\n  excludeDS: 'a44f0037-2ada-441f-a012-243832ce5ff9',\n  default: 'e065836d-be57-47ef-b8d1-999e1657e8fd',\n};\n\nlet dataStreamId = '';\n\nfunction getDomainWithoutWWW() {\n  const domain = window?.location?.hostname;\n  return domain.replace(/^www\\./, '');\n}\n\nconst hitTypeEventTypeMap = {\n  propositionFetch: 'decisioning.propositionFetch',\n  pageView: 'web.webpagedetails.pageViews',\n  propositionDisplay: 'decisioning.propositionDisplay',\n};\n\nfunction generateUUIDv4() {\n  const randomValues = new Uint8Array(16);\n  crypto.getRandomValues(randomValues);\n  randomValues[6] = (randomValues[6] % 16) + 64;\n  randomValues[8] = (randomValues[8] % 16) + 128;\n  let uuid = '';\n  randomValues.forEach((byte, index) => {\n    const hex = byte.toString(16).padStart(2, '0');\n    if (index === 4 || index === 6 || index === 8 || index === 10) {\n      uuid += '-';\n    }\n    uuid += hex;\n  });\n\n  return uuid;\n}\n\nexport function getTargetPropertyBasedOnPageRegion({ env, pathname }) {\n  if (env !== 'prod') return 'bc8dfa27-29cc-625c-22ea-f7ccebfc6231';\n\n  // EMEA & LATAM\n  if (\n    pathname.search(\n      /(\\/africa\\/|\\/be_en\\/|\\/be_fr\\/|\\/be_nl\\/|\\/cis_en\\/|\\/cy_en\\/|\\/dk\\/|\\/de\\/|\\/ee\\/|\\/es\\/|\\/fr\\/|\\/gr_en\\/|\\/ie\\/|\\/il_en\\/|\\/it\\/|\\/lv\\/|\\/lu_de\\/|\\/lu_en\\/|\\/lu_fr\\/|\\/hu\\/|\\/mt\\/|\\/mena_en\\/|\\/nl\\/|\\/no\\/|\\/pl\\/|\\/pt\\/|\\/ro\\/|\\/ch_de\\/|\\/si\\/|\\/sk\\/|\\/ch_fr\\/|\\/fi\\/|\\/se\\/|\\/ch_it\\/|\\/tr\\/|\\/uk\\/|\\/at\\/|\\/cz\\/|\\/bg\\/|\\/ru\\/|\\/cis_ru\\/|\\/ua\\/|\\/il_he\\/|\\/mena_ar\\/|\\/lt\\/|\\/sa_en\\/|\\/ae_en\\/|\\/ae_ar\\/|\\/sa_ar\\/|\\/ng\\/|\\/za\\/|\\/qa_ar\\/|\\/eg_en\\/|\\/eg_ar\\/|\\/kw_ar\\/|\\/eg_ar\\/|\\/qa_en\\/|\\/kw_en\\/|\\/gr_el\\/|\\/br\\/|\\/cl\\/|\\/la\\/|\\/mx\\/|\\/co\\/|\\/ar\\/|\\/pe\\/|\\/gt\\/|\\/pr\\/|\\/ec\\/|\\/cr\\/)/,\n    ) !== -1\n  ) {\n    return '488edf5f-3cbe-f410-0953-8c0c5c323772';\n  }\n  if ( // APAC\n    pathname.search(\n      /(\\/au\\/|\\/hk_en\\/|\\/in\\/|\\/nz\\/|\\/sea\\/|\\/cn\\/|\\/hk_zh\\/|\\/tw\\/|\\/kr\\/|\\/sg\\/|\\/th_en\\/|\\/th_th\\/|\\/my_en\\/|\\/my_ms\\/|\\/ph_en\\/|\\/ph_fil\\/|\\/vn_en\\/|\\/vn_vi\\/|\\/in_hi\\/|\\/id_id\\/|\\/id_en\\/)/,\n    ) !== -1\n  ) {\n    return '3de509ee-bbc7-58a3-0851-600d1c2e2918';\n  }\n  // JP\n  if (pathname.indexOf('/jp/') !== -1) {\n    return 'ba5bc9e8-8fb4-037a-12c8-682384720007';\n  }\n\n  return '4db35ee5-63ad-59f6-cec6-82ef8863b22d'; // Default\n}\n\nfunction getDeviceInfo() {\n  return {\n    screenWidth: window.screen.width,\n    screenHeight: window.screen.height,\n    screenOrientation: window.innerWidth > window.innerHeight ? 'landscape' : 'portrait',\n    viewportWidth: window.innerWidth,\n    viewportHeight: window.innerHeight,\n  };\n}\n\nfunction getCookie(key) {\n  const cookie = document.cookie.split(';')\n    .map((x) => decodeURIComponent(x.trim()).split(/=(.*)/s))\n    .find(([k]) => k === key);\n\n  return cookie ? cookie[1] : null;\n}\n\nfunction setCookie(key, value, options = {}) {\n  const expires = options.expires || 730;\n  const date = new Date();\n  date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n  const expiresString = `expires=${date.toUTCString()}`;\n\n  document.cookie = `${key}=${value}; ${expiresString}; path=/ ; domain=.${getDomainWithoutWWW()};`;\n}\n\nexport const getVisitorStatus = ({\n  expiryDays = 30,\n  cookieName = 's_nr',\n  domain = `.${(new URL(window.location.origin)).hostname}`,\n}) => {\n  const currentTime = new Date().getTime();\n  const cookieValue = getCookie(cookieName) || '';\n  const cookieAttributes = { expires: new Date(currentTime + expiryDays * 24 * 60 * 60 * 1000) };\n\n  if (domain) {\n    cookieAttributes.domain = domain;\n  }\n\n  if (!cookieValue) {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  const [storedTime, storedState] = cookieValue.split('-').map((value) => value.trim());\n\n  if (currentTime - storedTime < 30 * 60 * 1000 && storedState === 'New') {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  setCookie(cookieName, `${currentTime}-Repeat`, cookieAttributes);\n  return 'Repeat';\n};\n\nfunction getOrGenerateUserId() {\n  const amcvCookieValue = getCookie(AMCV_COOKIE);\n\n  if (!amcvCookieValue || (amcvCookieValue.indexOf('MCMID|') === -1)) {\n    const fpidValue = generateUUIDv4();\n    return {\n      FPID: [{\n        id: fpidValue,\n        authenticatedState: 'ambiguous',\n        primary: true,\n      }],\n    };\n  }\n\n  return {\n    ECID: [{\n      id: amcvCookieValue.match(/MCMID\\|([^|]+)/)?.[1],\n      authenticatedState: 'ambiguous',\n      primary: true,\n    }],\n  };\n}\n\nfunction getUpdatedVisitAttempt() {\n  const { hostname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('secondHit')) || 0;\n\n  const isAdobeDomain = hostname === 'www.adobe.com' || hostname === 'www.stage.adobe.com';\n  const consentCookieValue = getCookie('OptanonConsent');\n\n  if (consentCookieValue?.includes('C0002:1') && isAdobeDomain) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('secondHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nfunction getPageNameForAnalytics({ locale }) {\n  const { host, pathname } = new URL(window.location.href);\n  const [modifiedPath] = pathname.split('/').filter((x) => x !== locale.prefix).join(':').split('.');\n  return `${host.replace('www.', '')}:${modifiedPath}`;\n}\n\nfunction getUpdatedContext({\n  screenWidth, screenHeight, screenOrientation,\n  viewportWidth, viewportHeight, localTime, timezoneOffset,\n}) {\n  return {\n    device: {\n      screenHeight,\n      screenWidth,\n      screenOrientation,\n    },\n    environment: {\n      type: 'browser',\n      browserDetails: {\n        viewportWidth,\n        viewportHeight,\n      },\n    },\n    placeContext: {\n      localTime,\n      localTimezoneOffset: timezoneOffset,\n    },\n  };\n}\n\nconst getMartechCookies = () => document.cookie.split(';')\n  .map((x) => x.trim().split('='))\n  .filter(([key]) => KNDCTR_COOKIE_KEYS.includes(key))\n  .map(([key, value]) => ({ key, value }));\n\nfunction createRequestPayload({ updatedContext, pageName, locale, env, hitType }) {\n  const prevPageName = getCookie('gpv');\n  const isCollectCall = hitType === 'propositionDisplay';\n  const isPageViewCall = hitType === 'pageView';\n\n  const REPORT_SUITES_ID = env === 'prod' ? ['adbadobenonacdcprod', 'adbadobeprototype'] : ['adbadobenonacdcqa'];\n  const AT_PROPERTY_VAL = getTargetPropertyBasedOnPageRegion(\n    { env, pathname: window.location?.pathname },\n  );\n\n  const webPageDetails = {\n    URL: window.location.href,\n    siteSection: window.location.hostname,\n    server: window.location.hostname,\n    isErrorPage: false,\n    isHomePage: false,\n    name: pageName,\n    pageViews: { value: isPageViewCall ? 1 : 0 },\n  };\n\n  const eventObj = {\n    xdm: {\n      ...updatedContext,\n      identityMap: getOrGenerateUserId(),\n      web: {\n        webPageDetails,\n        webInteraction: isPageViewCall || isCollectCall ? undefined : {\n          name: 'Martech-API',\n          type: 'other',\n          linkClicks: { value: 1 },\n        },\n        webReferrer: { URL: document.referrer },\n      },\n      timestamp: new Date().toISOString(),\n      eventType: hitTypeEventTypeMap[hitType],\n    },\n    data: {\n      __adobe: {\n        target: {\n          is404: false, authState: 'loggedOut', hitType, isMilo: true, adobeLocale: locale.ietf, hasGnav: true,\n        },\n      },\n      _adobe_corpnew: {\n        digitalData: {\n          page: { pageInfo: { language: locale.ietf } },\n          diagnostic: { franklin: { implementation: 'milo' } },\n          previousPage: { pageInfo: { pageName: prevPageName } },\n          primaryUser: { primaryProfile: { profileInfo: { authState: 'loggedOut', returningStatus: getVisitorStatus({}) } } },\n        },\n      },\n      marketingtech: {\n        adobe: {\n          alloy: {\n            approach: 'martech-API',\n            edgeConfigIdLaunch: dataStreamId,\n            edgeConfigId: dataStreamId,\n            personalisation: 'hybrid',\n          },\n        },\n      },\n    },\n  };\n\n  if (isPageViewCall) {\n    const {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    } = window.location;\n    const { data, xdm } = eventObj;\n    const { digitalData } = data._adobe_corpnew;\n    const { pageInfo } = digitalData.page;\n    pageInfo.pageName = pageName;\n    pageInfo.processedPageName = pageName;\n    pageInfo.location = {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    };\n    pageInfo.siteSection = webPageDetails.siteSection;\n    digitalData.diagnostic.franklin.implementation = 'milo';\n    digitalData.primaryUser.primaryProfile.profileInfo = {\n      ...digitalData.primaryUser.primaryProfile.profileInfo,\n      entitlementCreativeCloud: 'unknown',\n      entitlementStatusCreativeCloud: 'unknown',\n    };\n    digitalData.target = { at_property_val: AT_PROPERTY_VAL };\n    data.web = { webPageDetails };\n    data.eventType = hitTypeEventTypeMap[hitType];\n\n    if (getUpdatedVisitAttempt() === 2) {\n      digitalData.adobe = {\n        libraryVersions: 'alloy-api',\n        experienceCloud: { secondVisits: 'setEvent' },\n      };\n    }\n    xdm.implementationDetails = {\n      name: 'https://ns.adobe.com/experience/alloy/reactor',\n      version: '1.0',\n      environment: 'serverapi',\n    };\n  }\n\n  const eventValue = isCollectCall ? { events: [{ ...eventObj }] } : { event: { ...eventObj } };\n\n  return {\n    ...eventValue,\n    query: {\n      identity: { fetch: ['ECID'] },\n      personalization: isCollectCall ? undefined : {\n        schemas: [\n          'https://ns.adobe.com/personalization/default-content-item',\n          'https://ns.adobe.com/personalization/html-content-item',\n          'https://ns.adobe.com/personalization/json-content-item',\n          'https://ns.adobe.com/personalization/redirect-item',\n          'https://ns.adobe.com/personalization/ruleset-item',\n          'https://ns.adobe.com/personalization/message/in-app',\n          'https://ns.adobe.com/personalization/message/content-card',\n          'https://ns.adobe.com/personalization/dom-action',\n        ],\n        surfaces: [`web://${window.location.host + window.location.pathname}`],\n        decisionScopes: ['__view__'],\n      },\n    },\n    meta: {\n      target: { migration: true },\n      configOverrides: {\n        com_adobe_analytics: { reportSuites: REPORT_SUITES_ID },\n        com_adobe_target: { propertyToken: AT_PROPERTY_VAL },\n      },\n      state: {\n        domain: getDomainWithoutWWW(),\n        cookiesEnabled: true,\n        entries: getMartechCookies(),\n      },\n    },\n  };\n}\n\nfunction updateMartechCookies(cookieData) {\n  cookieData?.forEach(({ key, value }) => {\n    const currentCookie = getCookie(key);\n    if (!currentCookie) {\n      setCookie(encodeURIComponent(key), value);\n    }\n  });\n}\n\nfunction updateAMCVCookie(ECID) {\n  const cookieValue = getCookie(AMCV_COOKIE);\n\n  if (!cookieValue) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `MCMID|${ECID}`);\n  } else if (cookieValue.indexOf('MCMID|') === -1) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `${cookieValue}|MCMID|${ECID}`);\n  }\n}\n\nfunction getUrl(isCollectCall) {\n  const PAGE_URL = new URL(window.location.href);\n  const { host } = window.location;\n  const query = PAGE_URL.searchParams.get('env');\n  const url = `https://edge.adobedc.net/ee/v2/${isCollectCall ? 'collect' : 'interact'}`;\n\n  /* c8 ignore start */\n  if (query || host.includes('localhost') || host.includes('.page')\n    || host.includes('.live')) {\n    return url;\n  }\n\n  /* c8 ignore start */\n  if (host.includes('stage.adobe')\n    || host.includes('corp.adobe')\n    || host.includes('graybox.adobe')) {\n    return `https://www.stage.adobe.com/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n  }\n\n  const { origin } = window.location;\n  return `${origin}/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n}\n\nexport const createRequestUrl = ({\n  env,\n  hitType,\n}) => {\n  const TARGET_API_URL = getUrl(hitType === 'propositionDisplay');\n  dataStreamId = env === 'prod' ? DATA_STREAM_IDS_PROD.default : DATA_STREAM_IDS_STAGE.default;\n  if (hitType === 'pageView' || hitType === 'propositionDisplay') {\n    const isFirstVisit = !getCookie(AMCV_COOKIE);\n    const consentCookie = getCookie('OptanonConsent') || '';\n    if (isFirstVisit || !consentCookie || consentCookie.includes('C0004:0')) {\n      dataStreamId = env === 'prod' ? DATA_STREAM_IDS_PROD.excludeDS : DATA_STREAM_IDS_STAGE.excludeDS;\n    }\n    return `${TARGET_API_URL}?dataStreamId=${dataStreamId}&requestId=${generateUUIDv4()}`;\n  }\n\n  return `${TARGET_API_URL}?dataStreamId=${dataStreamId}&requestId=${generateUUIDv4()}`;\n};\n\nconst setGpvCookie = (pageName) => {\n  const expires = new Date();\n  expires.setTime(expires.getTime() + 1800000);\n  setCookie('gpv', pageName, { expires });\n};\n\nconst getPayloadsByType = (data, type) => data?.handle?.filter((d) => d.type === type)\n  .map((d) => d.payload)\n  .reduce((acc, curr) => [...acc, ...curr], []);\n\nconst setWindowAlloy = (alloyData) => {\n  const get = (obj, path) => path.split('.').reduce((current, segment) => (current !== undefined && current !== null ? current[segment] : undefined), obj);\n\n  const set = (obj, path, val) => {\n    path.split('.').reduce((current, segment, index, segments) => {\n      if (index === segments.length - 1) current[segment] = val;\n      else current[segment] = current[segment] || {};\n      return current[segment];\n    }, obj);\n\n    return obj;\n  };\n  window.alloy_all = window.alloy_all || { get, set };\n  if (alloyData?.destinations) {\n    const xlgValue = 'data._adobe_corpnew.digitalData.adobe.xlg';\n    const existingXlg = window.alloy_all.get(window.alloy_all, xlgValue) || '';\n    const xlgIds = existingXlg ? new Set(existingXlg.split(',')) : new Set();\n\n    for (const destination of alloyData.destinations) {\n      for (const segment of destination.segments) {\n        const segmentId = segment.id;\n        if (!xlgIds.has(segmentId)) xlgIds.add(segmentId);\n      }\n    }\n    const updatedXlg = Array.from(xlgIds).join(',');\n    window.alloy_all.set(window.alloy_all, xlgValue, updatedXlg);\n  }\n};\n\nconst setTTMetaAndAlloyTarget = (propositions) => {\n  const regex = /,|:/;\n  const isEmpty = (val) => !val || val?.length === 0;\n  const offerNames = [];\n  const activityNames = [];\n  let targetResponse = window.alloy_all.get(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response') || '';\n  const clean = (str) => (str || '').replace(regex, '');\n\n  propositions.forEach((proposition) => {\n    proposition.items?.forEach(({ meta }) => {\n      if (isEmpty(meta)) return;\n\n      const offerName = meta['option.name'];\n      const activityName = meta['activity.name'];\n      window.ttMETA = window.ttMETA || [];\n      if (offerNames.indexOf(offerName) === -1 || activityNames.indexOf(activityName) === -1) {\n        offerNames.push(offerName);\n        activityNames.push(activityName);\n        const data = {\n          CampaignName: activityName,\n          RecipeName: meta['experience.name'],\n          CampaignId: meta['activity.id'],\n          RecipeId: meta['experience.id'],\n          OfferId: meta['option.id'],\n          OfferName: offerName,\n          TrafficId: meta['experience.trafficAllocationId'],\n          TrafficType: meta['experience.trafficAllocationType'],\n        };\n\n        window.ttMETA.push(data);\n\n        const activityId = data.CampaignId;\n        if (targetResponse.indexOf(activityId) === -1) {\n          // If there is already a response string, append a comma\n          if (targetResponse) targetResponse += ',';\n\n          targetResponse += `T:${[activityId, activityName, data.OfferId, offerName, data.RecipeId, data.RecipeName, data.TrafficId, data.TrafficType].map(clean).join(':')}`;\n        }\n      }\n    });\n  });\n  window.alloy_all.set(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response', targetResponse);\n};\n\nfunction filterPropositionInJson(payloads) {\n  return payloads\n    .filter((item) => item?.items?.some((i) => i?.data?.format === 'application/json'))\n    .map(({ items, ...rest }) => ({\n      ...rest,\n      items: items.map(({ data, ...itemRest }) => itemRest),\n    }));\n}\n\nfunction sendPropositionDisplayRequest(filteredPayload, env, requestPayload) {\n  const reqUrl = createRequestUrl({ env, hitType: 'propositionDisplay' });\n  const reqBody = createRequestPayload({ ...requestPayload, hitType: 'propositionDisplay' });\n\n  const decisioning = {\n    propositions: filteredPayload,\n    propositionEventType: { display: 1 },\n  };\n\n  reqBody.events[0].xdm._experience = { decisioning };\n  reqBody.events[0].data._experience = { decisioning };\n\n  reqBody.events[0].xdm.documentUnloading = true;\n  reqBody.events[0].data.documentUnloading = true;\n\n  fetch(reqUrl, {\n    method: 'POST',\n    body: JSON.stringify(reqBody),\n  });\n}\n\nexport const loadAnalyticsAndInteractionData = async (\n  { locale, env, calculatedTimeout, hybridPersEnabled },\n) => {\n  const value = getCookie('kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent');\n\n  if (value === 'general=out') {\n    return {};\n  }\n\n  const CURRENT_DATE = new Date();\n  const localTime = CURRENT_DATE.toISOString();\n  const timezoneOffset = CURRENT_DATE.getTimezoneOffset();\n  if (hybridPersEnabled) {\n    window.hybridPers = true;\n  }\n  const hitType = hybridPersEnabled ? 'pageView' : 'propositionFetch';\n  const pageName = getPageNameForAnalytics({ locale });\n  const updatedContext = getUpdatedContext({ ...getDeviceInfo(), localTime, timezoneOffset });\n  const requestUrl = createRequestUrl({\n    env,\n    hitType,\n  });\n  const requestPayload = { updatedContext, pageName, locale, env, hitType };\n  const requestBody = createRequestPayload(requestPayload);\n\n  try {\n    const targetResp = await Promise.race([\n      fetch(requestUrl, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n      }),\n      new Promise((_, reject) => { setTimeout(() => reject(new Error('Request timed out')), calculatedTimeout); }),\n    ]);\n\n    if (!targetResp.ok) {\n      throw new Error('Failed to fetch interact call');\n    }\n    const targetRespJson = await targetResp.json();\n\n    const ECID = targetRespJson.handle\n      .flatMap((item) => item.payload)\n      .find((p) => p.namespace?.code === 'ECID')?.id || null;\n\n    const extractedData = [];\n\n    targetRespJson?.handle?.forEach((item) => {\n      if (item?.type === 'state:store') {\n        item?.payload?.forEach((payload) => {\n          if (payload?.key === KNDCTR_COOKIE_KEYS[0] || payload?.key === KNDCTR_COOKIE_KEYS[1]) {\n            extractedData.push({ ...payload });\n          }\n        });\n      }\n    });\n\n    const resultPayload = getPayloadsByType(targetRespJson, 'personalization:decisions');\n    if (hybridPersEnabled) {\n      const filteredPayload = filterPropositionInJson(resultPayload);\n      if (filteredPayload.length) {\n        sendPropositionDisplayRequest(filteredPayload, env, requestPayload);\n      }\n      const alloyData = {\n        destinations: getPayloadsByType(targetRespJson, 'activation:pull'),\n        propositions: resultPayload,\n        inferences: getPayloadsByType(targetRespJson, 'rtml:inferences'),\n        decisions: [],\n      };\n      window.dispatchEvent(new CustomEvent('alloy_sendEvent', { detail: alloyData }));\n      setWindowAlloy(alloyData);\n      setTTMetaAndAlloyTarget(resultPayload);\n    }\n\n    updateAMCVCookie(ECID);\n    updateMartechCookies(extractedData);\n\n    if (resultPayload?.length === 0) throw new Error('No propositions found');\n\n    setGpvCookie(pageName);\n    return {\n      type: hitType,\n      result: { propositions: resultPayload },\n    };\n  } catch (err) {\n    if (err.message !== 'No propositions found') {\n      console.log(err);\n    }\n    setGpvCookie(pageName);\n    return {};\n  }\n};\n\nexport default { loadAnalyticsAndInteractionData };\n"],"names":["AMCV_COOKIE","KNDCTR_COOKIE_KEYS","DATA_STREAM_IDS_PROD","DATA_STREAM_IDS_STAGE","dataStreamId","getDomainWithoutWWW","_window","window","location","hostname","replace","hitTypeEventTypeMap","propositionFetch","pageView","propositionDisplay","generateUUIDv4","randomValues","Uint8Array","crypto","getRandomValues","uuid","forEach","byte","index","hex","toString","padStart","getTargetPropertyBasedOnPageRegion","_ref","env","pathname","search","indexOf","getCookie","key","cookie","document","split","map","x","decodeURIComponent","trim","find","_ref2","k","setCookie","value","expires","arguments","length","undefined","date","Date","setTime","getTime","expiresString","concat","toUTCString","getVisitorStatus","_ref3","expiryDays","cookieName","domain","URL","origin","currentTime","cookieValue","cookieAttributes","storedTime","storedState","getOrGenerateUserId","_amcvCookieValue$matc","amcvCookieValue","FPID","id","authenticatedState","primary","ECID","match","getMartechCookies","filter","_ref6","includes","_ref7","createRequestPayload","_ref8","_window$location","updatedContext","pageName","locale","hitType","prevPageName","isCollectCall","isPageViewCall","REPORT_SUITES_ID","AT_PROPERTY_VAL","webPageDetails","href","siteSection","server","isErrorPage","isHomePage","name","pageViews","eventObj","xdm","identityMap","web","webInteraction","type","linkClicks","webReferrer","referrer","timestamp","toISOString","eventType","data","__adobe","target","is404","authState","isMilo","adobeLocale","ietf","hasGnav","_adobe_corpnew","digitalData","page","pageInfo","language","diagnostic","franklin","implementation","previousPage","primaryUser","primaryProfile","profileInfo","returningStatus","marketingtech","adobe","alloy","approach","edgeConfigIdLaunch","edgeConfigId","personalisation","protocol","host","port","hash","processedPageName","entitlementCreativeCloud","entitlementStatusCreativeCloud","at_property_val","secondVisitAttempt","Number","localStorage","getItem","isAdobeDomain","consentCookieValue","updatedVisitAttempt","setItem","getUpdatedVisitAttempt","libraryVersions","experienceCloud","secondVisits","implementationDetails","version","environment","events","event","query","identity","fetch","personalization","schemas","surfaces","decisionScopes","meta","migration","configOverrides","com_adobe_analytics","reportSuites","com_adobe_target","propertyToken","state","cookiesEnabled","entries","createRequestUrl","_ref10","TARGET_API_URL","PAGE_URL","searchParams","get","url","getUrl","isFirstVisit","consentCookie","setGpvCookie","getPayloadsByType","_data$handle","handle","d","payload","reduce","acc","curr","loadAnalyticsAndInteractionData","async","calculatedTimeout","hybridPersEnabled","_ref14","CURRENT_DATE","localTime","timezoneOffset","getTimezoneOffset","hybridPers","_ref4","modifiedPath","prefix","join","getPageNameForAnalytics","_ref5","screenWidth","screenHeight","screenOrientation","viewportWidth","viewportHeight","device","browserDetails","placeContext","localTimezoneOffset","getUpdatedContext","screen","width","height","innerWidth","innerHeight","requestUrl","requestPayload","requestBody","_targetRespJson$handl","_targetRespJson$handl2","targetResp","Promise","race","method","body","JSON","stringify","_","reject","setTimeout","Error","ok","targetRespJson","json","flatMap","item","p","_p$namespace","namespace","code","extractedData","_item$payload","push","resultPayload","filteredPayload","_item$items","items","some","i","_i$data","format","_ref12","rest","_ref13","itemRest","reqUrl","reqBody","decisioning","propositions","propositionEventType","display","_experience","documentUnloading","sendPropositionDisplayRequest","alloyData","destinations","inferences","decisions","dispatchEvent","CustomEvent","detail","alloy_all","obj","path","current","segment","set","val","segments","xlgValue","existingXlg","xlgIds","Set","destination","segmentId","has","add","updatedXlg","Array","from","setWindowAlloy","regex","offerNames","activityNames","targetResponse","clean","str","proposition","_proposition$items","_ref11","offerName","activityName","ttMETA","CampaignName","RecipeName","CampaignId","RecipeId","OfferId","OfferName","TrafficId","TrafficType","activityId","setTTMetaAndAlloyTarget","encodeURIComponent","updateAMCVCookie","cookieData","_ref9","result","err","message","console","log","helpers_default"],"sourceRoot":""}