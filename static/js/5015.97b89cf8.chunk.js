"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[5015],{5015:(e,t,n)=>{n.r(t),n.d(t,{Tree:()=>h,default:()=>s});var r=n(1608),a=(n(3658),{}),i=e=>{const t=e.split("#")[0];return e.includes("#_dnt")?"".concat(t,"#_dnt"):t},l=e=>[...Object.values(a)].some((t=>{const n=t.find(e);return null===n||void 0===n?void 0:n.isRecursive})),o=(e,t,n)=>{var l;const o=[...e.querySelectorAll("a")].filter((e=>(0,r.localizeLink)(e.href).includes("/fragments/")));o.length&&(!document.body.contains(t)||null!==(l=t.parentElement)&&void 0!==l&&l.closest(".fragment")?Object.values(a).forEach((e=>{const t=e.find(n);t&&o.forEach((e=>{const n=(0,r.localizeLink)(i(e.href)),a=t.findParent(n);a?a.isRecursive=!0:t.addChild(n)}))})):(a[n]=new h(n),o.forEach((e=>a[n].insert(n,(0,r.localizeLink)(i(e.href)))))))},c=async(e,t,n)=>{const a=[...e[0].children];"DIV"!==t.parentElement.nodeName||t.parentElement.attributes.length?t.replaceWith(...a):t.parentElement.replaceWith(...a);const i=[];a.forEach((e=>{e.setAttribute("data-path",n),e.querySelector('a[href*="/fragments/"]')&&i.push((0,r.loadArea)(e))})),await Promise.all(i)};async function s(e){var t,a;const{decorateArea:i,mep:s,placeholders:d,locale:h}=(0,r.getConfig)();let u,f=(0,r.localizeLink)(e.href),v=!1;if("P"===(null===(t=e.parentElement)||void 0===t?void 0:t.nodeName)){const t=e.parentElement.childNodes,n=(0,r.createTag)("div");for(const r of e.parentElement.attributes)n.setAttribute(r.name,r.value);e.parentElement.replaceWith(n),n.append(...t)}try{var m,p;const t=e.href.includes("/federal/")?e.href.replace("#_inline",""):new URL(e.href).pathname;u=(null===s||void 0===s||null===(m=s.fragments)||void 0===m?void 0:m[t])||(null===s||void 0===s||null===(p=s.fragments)||void 0===p?void 0:p[t.replace(h.prefix,"")])}catch(A){}if(u){const{handleFragmentCommand:t}=await Promise.all([n.e(6715),n.e(5771),n.e(4562)]).then(n.bind(n,4562));if(f=t(u,e),!f)return}var g;if(e.href.includes("#_inline")&&(v=!0,e.href=e.href.replace("#_inline",""),f=f.replace("#_inline","")),l(f))return void(null===(g=window.lana)||void 0===g||g.log("ERROR: Fragment Circular Reference loading ".concat(e.href)));let w=e.href;if(e.href.includes("/federal/")){const{getFederatedUrl:t}=await n.e(2717).then(n.bind(n,2717));w=t(e.href)}const k=await(0,r.customFetch)({resource:"".concat(w,".plain.html"),withCacheRules:!0}).catch((()=>({})));var y;if(null===k||void 0===k||!k.ok)return void(null===(y=window.lana)||void 0===y||y.log("Could not get fragment: ".concat(w,".plain.html")));const b=await k.text(),E=(new DOMParser).parseFromString(b,"text/html");!function(e,t){const n=(n,r)=>{t.querySelectorAll("".concat(n,"[").concat(r,'^="./media_"]')).forEach((t=>{t[r]=new URL(t.getAttribute(r),new URL(e,window.location)).href}))};n("img","src"),n("source","srcset")}(e.href,E),i&&i(E,{fragmentLink:e});const C=E.querySelectorAll("body > div");var R;if(!C.length)return void(null===(R=window.lana)||void 0===R||R.log("Could not make fragment: ".concat(w,".plain.html")));const L=(0,r.createTag)("div",{class:"fragment","data-path":f});if(L.append(...C),o(L,e,f),e.dataset.manifestId||e.dataset.adobeTargetTestid||null!==s&&void 0!==s&&null!==(a=s.commands)&&void 0!==a&&a.length||d){var P;const{updateFragDataProps:t,handleCommands:r,replacePlaceholders:a}=await Promise.all([n.e(6715),n.e(5771),n.e(4562)]).then(n.bind(n,4562));(e.dataset.manifestId||e.dataset.adobeTargetTestid)&&t(e,v,C,L),null!==s&&void 0!==s&&null!==(P=s.commands)&&void 0!==P&&P.length&&r(null===s||void 0===s?void 0:s.commands,L,!1,!0),d&&(L.innerHTML=a(L.innerHTML,d))}v?await c(C,e,f,s):(e.parentElement.replaceChild(L,e),await(0,r.loadArea)(L))}var d=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.key=e,this.value=t,this.parent=n,this.children=[],this.isRecursive=!1}addChild(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.children.some((e=>e.key===t))||this.children.push(new e(t,n,this))}findParent(e){var t,n;return(null===(t=this.parent)||void 0===t?void 0:t.key)===e?this.parent:null===(n=this.parent)||void 0===n?void 0:n.findParent(e)}},h=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.root=new d(e,t)}traverse(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;return function*(){if(yield t,t.children.length)for(const n of t.children)yield*e.traverse(n)}()}insert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;for(const r of this.traverse())if(r.key===e)return e===t?r.isRecursive=!0:r.children.push(new d(t,n,r)),!0;return!1}remove(e){for(const t of this.traverse()){const n=t.children.filter((t=>t.key!==e));if(n.length!==t.children.length)return t.children=n,!0}return!1}find(e){for(const t of this.traverse())if(t.key===e)return t}}}}]);
//# sourceMappingURL=5015.97b89cf8.chunk.js.map