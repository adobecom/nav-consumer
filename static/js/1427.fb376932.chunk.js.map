{"version":3,"file":"static/js/1427.fb376932.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/standalone-feds/dist|lazy|groupOptions: {}|strict namespace object","../node_modules/@adobecom/features/placeholders.js"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 5311;\nmodule.exports = webpackEmptyAsyncContext;","import { customFetch, getConfig, getMetadata } from '../utils/utils.js';\n\nconst fetchedPlaceholders = {};\nwindow.mph = {};\n\nconst getPlaceholdersPath = (config, sheet) => {\n  const path = `${config.locale.contentRoot}/placeholders.json`;\n  const query = sheet !== 'default' && typeof sheet === 'string' && sheet.length ? `?sheet=${sheet}` : '';\n  return `${path}${query}`;\n};\n\nconst parsePlaceholderJson = async (resp, placeholders) => {\n  try {\n    const json = resp.ok ? await resp.json() : { data: [] };\n    json.data?.forEach((item) => {\n      window.mph[item.key] = item.value;\n      placeholders[item.key] = item.value;\n    });\n  } catch (e) {\n    window.lana.log(`Error parsing placeholder json: ${e.message}`, { tags: 'placeholders', errorType: 'e' });\n  }\n};\n\nconst fetchPlaceholder = (path, placeholderRequest) => new Promise(\n  // eslint-disable-next-line no-async-promise-executor\n  async (resolve) => {\n    const resp = await placeholderRequest || await customFetch(\n      { resource: path, withCacheRules: true },\n    ).catch(() => ({}));\n    const placeholders = {};\n\n    if (Array.isArray(resp)) {\n      // Overlay placeholders\n      for (const r of resp) await parsePlaceholderJson(r, placeholders);\n    } else {\n      await parsePlaceholderJson(resp, placeholders);\n    }\n\n    resolve(placeholders);\n  },\n);\n\nexport const fetchPlaceholders = async ({\n  config,\n  sheet,\n  placeholderRequest,\n  placeholderPath,\n}) => {\n  const path = placeholderPath || getPlaceholdersPath(config, sheet);\n\n  fetchedPlaceholders[path] ||= fetchPlaceholder(path, placeholderRequest);\n\n  return fetchedPlaceholders[path];\n};\n\nfunction keyToStr(key) {\n  return key.replaceAll('-', ' ');\n}\n\nasync function getPlaceholder(key, config, sheet) {\n  let defaultFetched = false;\n  const defaultLocale = 'en-US';\n  const geoLocDisabled = getMetadata('disable-geo-placeholders') || 'off';\n\n  const getDefaultContentRoot = () => {\n    const defaultContentRoot = config.locale.contentRoot;\n    const localePrefix = config.locale.prefix;\n\n    if (!localePrefix.length) return defaultContentRoot;\n\n    // Certain locale prefixes are common beginnings of words, such as /es\n    // This could also be part of a page path, such as '/esign'\n    if (defaultContentRoot.endsWith(localePrefix)) {\n      return defaultContentRoot.replace(localePrefix, '');\n    }\n\n    return defaultContentRoot.replace(`${localePrefix}/`, '/');\n  };\n\n  const getDefaultPlaceholders = async () => {\n    const defaultConfig = {\n      locale: {\n        ietf: defaultLocale,\n        contentRoot: getDefaultContentRoot(),\n      },\n    };\n\n    const defaultPlaceholders = await fetchPlaceholders({ config: defaultConfig, sheet })\n      .catch(() => ({}));\n    defaultFetched = true;\n    return defaultPlaceholders;\n  };\n\n  if (config.placeholders?.[key]) return config.placeholders[key];\n  let placeholders;\n\n  if (geoLocDisabled === 'on') {\n    placeholders = await getDefaultPlaceholders();\n  } else {\n    placeholders = await fetchPlaceholders({ config, sheet });\n  }\n\n  if (typeof placeholders?.[key] === 'string') return placeholders[key];\n\n  if (!defaultFetched && config.locale.ietf !== defaultLocale) {\n    const defaultPlaceholders = await getDefaultPlaceholders();\n    if (defaultPlaceholders?.[key]) return defaultPlaceholders[key];\n  }\n\n  return keyToStr(key);\n}\n\nexport async function replaceKey(key, config, sheet = 'default') {\n  if (typeof key !== 'string' || !key.length) return '';\n\n  const label = await getPlaceholder(key, config, sheet);\n  return label;\n}\n\nexport async function replaceKeyArray(keys, config, sheet = 'default') {\n  if (!Array.isArray(keys) || !keys.length) return [];\n\n  const promiseArr = [];\n  keys.forEach((key) => {\n    promiseArr.push(getPlaceholder(key, config, sheet));\n  });\n\n  const placeholders = await Promise.all(promiseArr);\n  return placeholders;\n}\n\nexport async function replaceText(\n  text,\n  config,\n  regex = /{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,\n  sheet = 'default',\n) {\n  if (typeof text !== 'string' || !text.length) return '';\n\n  const matches = [...text.matchAll(new RegExp(regex))];\n  if (!matches.length) {\n    return text;\n  }\n  const keys = Array.from(matches, (match) => match[1] || match[2]);\n  const placeholders = await replaceKeyArray(keys, config, sheet);\n  // The .shift method is very slow, thus using normal iterator\n  let i = 0;\n  // eslint-disable-next-line no-plusplus\n  let finalText = text.replaceAll(regex, () => placeholders[i++]);\n  finalText = finalText.replace(/&nbsp;/g, '\\u00A0');\n  return finalText;\n}\n\nexport async function decoratePlaceholderArea({\n  placeholderPath,\n  placeholderRequest,\n  nodes,\n}) {\n  if (!nodes.length) return;\n  const config = getConfig();\n  await fetchPlaceholders({ placeholderPath, config, placeholderRequest });\n  const replaceNodes = nodes.map(async (nodeEl) => {\n    if (nodeEl.nodeType === Node.TEXT_NODE) {\n      nodeEl.nodeValue = await replaceText(nodeEl.nodeValue, config);\n    } else if (nodeEl.nodeType === Node.ELEMENT_NODE) {\n      const attrPromises = [...nodeEl.attributes].map(async (attr) => {\n        const attrVal = await replaceText(attr.value, config);\n        return { name: attr.name, value: attrVal };\n      });\n      const results = await Promise.all(attrPromises);\n      results.forEach(({ name, value }) => {\n        nodeEl.setAttribute(name, value);\n      });\n    }\n  });\n  await Promise.all(replaceNodes);\n}\n"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","fetchedPlaceholders","window","mph","parsePlaceholderJson","async","resp","placeholders","_json$data","ok","json","data","forEach","item","key","value","lana","log","concat","message","tags","errorType","fetchPlaceholders","config","sheet","placeholderRequest","placeholderPath","_ref","path","getPlaceholdersPath","locale","contentRoot","query","length","fetchPlaceholder","customFetch","resource","withCacheRules","catch","Array","isArray","r","getPlaceholder","_config$placeholders","_placeholders","defaultFetched","defaultLocale","geoLocDisabled","getMetadata","getDefaultContentRoot","defaultContentRoot","localePrefix","prefix","endsWith","replace","getDefaultPlaceholders","defaultConfig","ietf","defaultPlaceholders","replaceAll","keyToStr","replaceKey","arguments","undefined","replaceKeyArray","promiseArr","push","all","replaceText","text","regex","matches","matchAll","RegExp","from","match","i","finalText","decoratePlaceholderArea","_ref2","nodes","getConfig","replaceNodes","map","nodeEl","nodeType","Node","TEXT_NODE","nodeValue","ELEMENT_NODE","attrPromises","attributes","attrVal","attr","name","_ref3","setAttribute"],"sourceRoot":""}