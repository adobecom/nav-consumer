{"version":3,"file":"static/js/907.5fec8a0c.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/utils/lana.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\n/* eslint-disable no-console */\n(function iife() {\n  const MSG_LIMIT = 2000;\n\n  const defaultOptions = {\n    clientId: '',\n    endpoint: 'https://www.adobe.com/lana/ll',\n    endpointStage: 'https://www.stage.adobe.com/lana/ll',\n    errorType: 'e',\n    sampleRate: 1,\n    tags: '',\n    implicitSampleRate: 1,\n    useProd: true,\n    isProdDomain: false,\n  };\n\n  const VALID_SEVERITIES = new Set(['d', 'debug', 'i', 'info', 'w', 'warn', 'e', 'error', 'c', 'critical']);\n\n  const w = window;\n\n  function isProd() {\n    const { host } = window.location;\n\n    if (host.endsWith('.adobe.com')\n      && !host.endsWith('.corp.adobe.com')\n      && !host.endsWith('.stage.adobe.com')) {\n      return true;\n    }\n\n    return ['sign.ing', 'edit.ing'].includes(host);\n  }\n\n  function mergeOptions(op1, op2) {\n    if (!op1) {\n      op1 = {};\n    }\n\n    if (!op2) {\n      op2 = {};\n    }\n\n    function getOpt(key) {\n      if (op1[key] !== undefined) {\n        return op1[key];\n      }\n      if (op2[key] !== undefined) {\n        return op2[key];\n      }\n      return defaultOptions[key];\n    }\n\n    return Object.keys(defaultOptions).reduce((options, key) => {\n      options[key] = getOpt(key);\n      return options;\n    }, {});\n  }\n\n  function hasDebugParam() {\n    return w.location.search.toLowerCase().indexOf('lanadebug') !== -1;\n  }\n\n  function isLocalhost() {\n    return w.location.host.toLowerCase().indexOf('localhost') !== -1;\n  }\n\n  function log(msg, options) {\n    msg = msg && msg.stack ? msg.stack : (msg || '');\n    if (msg.length > MSG_LIMIT) {\n      msg = `${msg.slice(0, MSG_LIMIT)}<trunc>`;\n    }\n\n    const o = mergeOptions(options, w.lana.options);\n    if (!o.clientId) {\n      console.warn('LANA ClientID is not set in options.');\n      return;\n    }\n\n    let severity;\n    if (options && options.severity !== undefined) {\n      if (VALID_SEVERITIES.has(options.severity)) {\n        severity = options.severity;\n      } else {\n        const isDebugMode = hasDebugParam() || w.lana.debug;\n        const defaultSeverity = isDebugMode ? 'd' : 'i';\n        console.warn(`LANA: Invalid severity '${options.severity}'. Defaulting to '${defaultSeverity}'.`);\n        severity = defaultSeverity;\n      }\n    } else if (w.lana.debug) {\n      severity = 'd';\n    }\n\n    const sampleRateParam = parseInt(new URL(window.location).searchParams.get('lana-sample'), 10);\n    const sampleRate = sampleRateParam || (o.errorType === 'i' ? o.implicitSampleRate : o.sampleRate);\n\n    if (!w.lana.debug && !w.lana.localhost && sampleRate <= Math.random() * 100) return;\n\n    const isProdDomain = isProd() || o.isProdDomain;\n\n    const endpoint = (!isProdDomain || !o.useProd) ? o.endpointStage : o.endpoint;\n    const queryParams = [\n      `m=${encodeURIComponent(msg)}`,\n      `c=${encodeURI(o.clientId)}`,\n      `s=${sampleRate}`,\n      `t=${encodeURI(o.errorType)}`,\n    ];\n\n    if (severity) {\n      queryParams.push(`r=${encodeURI(severity)}`);\n    }\n\n    if (o.tags) {\n      queryParams.push(`tags=${encodeURI(o.tags)}`);\n    }\n\n    if (!isProdDomain || w.lana.debug || w.lana.localhost) console.log('LANA Msg: ', msg, '\\nOpts:', o);\n\n    if (!w.lana.localhost || w.lana.debug) {\n      const xhr = new XMLHttpRequest();\n      if (w.lana.debug) {\n        queryParams.push('d');\n        xhr.addEventListener('load', () => {\n          console.log('LANA response:', xhr.responseText);\n        });\n      }\n      xhr.open('GET', `${endpoint}?${queryParams.join('&')}`);\n      xhr.send();\n      // eslint-disable-next-line consistent-return\n      return xhr;\n    }\n  }\n\n  function sendUnhandledError(e) {\n    log(e.reason || e.error || e.message, { errorType: 'i' });\n  }\n\n  w.lana = {\n    debug: false,\n    log,\n    options: mergeOptions(w.lana && w.lana.options),\n  };\n\n  /* c8 ignore next */\n  if (hasDebugParam()) w.lana.debug = true;\n  if (isLocalhost()) w.lana.localhost = true;\n\n  w.addEventListener('error', sendUnhandledError);\n  w.addEventListener('unhandledrejection', sendUnhandledError);\n}());\n"],"names":["MSG_LIMIT","defaultOptions","clientId","endpoint","endpointStage","errorType","sampleRate","tags","implicitSampleRate","useProd","isProdDomain","VALID_SEVERITIES","Set","w","window","mergeOptions","op1","op2","Object","keys","reduce","options","key","getOpt","hasDebugParam","location","search","toLowerCase","indexOf","log","msg","stack","length","concat","slice","o","lana","console","warn","severity","has","defaultSeverity","debug","parseInt","URL","searchParams","get","localhost","Math","random","host","endsWith","includes","isProd","queryParams","encodeURIComponent","encodeURI","push","xhr","XMLHttpRequest","addEventListener","responseText","open","join","send","sendUnhandledError","e","reason","error","message"],"sourceRoot":""}