(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8471],{8703:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=8703,e.exports=t},5397:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=5397,e.exports=t},8471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyJapaneseLineBreaks:()=>u,default:()=>p,isBalancedWordWrapApplied:()=>i,isWordWrapApplied:()=>c});var n=r(212),a=(r(6850),e=>[...e.childNodes].some((e=>{let{nodeType:t,textContent:r}=e;return t===Node.TEXT_NODE&&""!==r.trim()})));function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;const t=e.tagName.toLowerCase();return"header"===t||"footer"===t||e.classList.contains("jpwordwrap-disabled")?[]:Array.from(e.children).reduce(((e,t)=>a(t)?[...e,t]:[...e,...o(t)]),[])}function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";const a=t.indexOf(n);if(-1===a)return void console.warn("No marker symbol found in the line break pattern string");a!==t.lastIndexOf("#")&&console.warn("Two or more marker symbols cannot be specified. Only the first marker is applied");const o=t.slice(Math.max(a-3,0),a),l=t.slice(a+1,Math.min(a+4,t.length));o.length<2||l.length<2?console.warn("At least two characters must be specified before and after the marker symbol"):(3===o.length?e.model.set("TW1:".concat(o),r):2===o.length&&e.model.set("BW1:".concat(o),r),3===l.length?e.model.set("TW4:".concat(l),r):2===l.length&&e.model.set("BW3:".concat(l),r))}function d(e){const t=getComputedStyle(e);return"flex"===t.display||"grid"===t.display}function s(){return navigator.userAgent.includes("Firefox")}function c(e){return!!e.querySelector("wbr")}function i(e){return!!e.querySelector("wbr[class^=jpn-balanced-wbr]")}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{miloLibs:n,codeRoot:a}=e,{scopeArea:u=document,budouxThres:p=2e3,bwEnabled:w=!1,budouxExcludeSelector:h=null,bwExcludeSelector:b="p",lineBreakOkPatterns:f=[],lineBreakNgPatterns:m=[]}=t,g=n||a,{loadDefaultJapaneseParser:x}=await r(8703)("".concat(g,"/deps/budoux-index-ja.min.js")),y=x(),k=o(u instanceof Document?u.body:u),E=new Set,v=new Set;h&&u.querySelectorAll(h).forEach((e=>{E.add(e)})),w&&b&&u.querySelectorAll(b).forEach((e=>{v.add(e)}));const j=Number.MAX_VALUE;if(f.forEach((e=>{l(y,e,j)})),m.forEach((e=>{l(y,e,-j)})),k.forEach((e=>{E.has(e)||c(e)||s()&&d(e)||e.lang&&"ja"!==e.lang||y.applyElement(e,{threshold:p})})),w){const e=new(0,(await r(5397)("".concat(g,"/deps/bw2.min.js"))).default);k.forEach((t=>{v.has(t)||i(t)||s()&&d(t)||e.applyElement(t)}))}}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const r="true"===(0,n.getMetadata)("jpwordwrap:disabled")||!1,a=Number((0,n.getMetadata)("jpwordwrap:budoux-thres"))||2e3,o=(0,n.getMetadata)("jpwordwrap:budoux-exclude-selector"),l="true"===(0,n.getMetadata)("jpwordwrap:bw-enabled")||!1,d=(0,n.getMetadata)("jpwordwrap:bw-exclude-selector")||"p",s=((0,n.getMetadata)("jpwordwrap:line-break-ok")||"").split(","),c=((0,n.getMetadata)("jpwordwrap:line-break-ng")||"").split(",");r||await u(e,{scopeArea:t,budouxThres:a,budouxExcludeSelector:o,bwEnabled:l,bwExcludeSelector:d,lineBreakOkPatterns:s,lineBreakNgPatterns:c})}}}]);
//# sourceMappingURL=8471.65d14ffc.chunk.js.map