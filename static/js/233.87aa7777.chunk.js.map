{"version":3,"file":"static/js/233.87aa7777.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/utils/federated.js","../node_modules/@adobecom/features/personalization/personalization.js"],"sourcesContent":["import { getConfig, SLD } from './utils.js';\n\nlet federatedContentRoot;\n/* eslint-disable import/prefer-default-export */\nexport const getFederatedContentRoot = () => {\n  const cdnWhitelistedOrigins = [\n    'https://www.adobe.com',\n    'https://business.adobe.com',\n    'https://blog.adobe.com',\n    'https://milo.adobe.com',\n    'https://news.adobe.com',\n  ];\n  const { allowedOrigins = [], origin: configOrigin } = getConfig();\n  if (federatedContentRoot) return federatedContentRoot;\n  // Non milo consumers will have its origin from config\n  const origin = configOrigin || window.location.origin;\n\n  federatedContentRoot = [...allowedOrigins, ...cdnWhitelistedOrigins].some((o) => origin.replace('.stage', '') === o)\n    ? origin\n    : 'https://www.adobe.com';\n\n  if (origin.includes('localhost') || origin.includes(`.${SLD}.`)) {\n    federatedContentRoot = `https://main--federal--adobecom.aem.${origin.endsWith('.live') ? 'live' : 'page'}`;\n  }\n\n  return federatedContentRoot;\n};\n\n// TODO we should match the akamai patterns /locale/federal/ at the start of the url\n// and make the check more strict.\nexport const getFederatedUrl = (url = '') => {\n  if (typeof url !== 'string' || !url.includes('/federal/')) return url;\n  if (url.startsWith('/')) return `${getFederatedContentRoot()}${url}`;\n  try {\n    const { pathname, search, hash } = new URL(url);\n    return `${getFederatedContentRoot()}${pathname}${search}${hash}`;\n  } catch (e) {\n    window.lana?.log(`getFederatedUrl errored parsing the URL: ${url}: ${e.toString()}`);\n  }\n  return url;\n};\n\nlet fedsPlaceholderConfig;\nexport const getFedsPlaceholderConfig = ({ useCache = true } = {}) => {\n  if (useCache && fedsPlaceholderConfig) return fedsPlaceholderConfig;\n\n  const { locale, placeholders } = getConfig();\n  const libOrigin = getFederatedContentRoot();\n\n  fedsPlaceholderConfig = {\n    locale: {\n      ...locale,\n      contentRoot: `${libOrigin}${locale.prefix}/federal/globalnav`,\n    },\n    placeholders,\n  };\n\n  return fedsPlaceholderConfig;\n};\n","/* eslint-disable default-param-last */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-console */\n\nimport { createTag, getConfig, loadLink, loadScript, localizeLink } from '../../utils/utils.js';\nimport { getFederatedUrl } from '../../utils/federated.js';\n\n/* c8 ignore start */\nconst PHONE_SIZE = window.screen.width < 550 || window.screen.height < 550;\nconst safariIpad = navigator.userAgent.includes('Macintosh') && navigator.maxTouchPoints > 1;\nexport const US_GEO = 'en-us';\nexport const PERSONALIZATION_TAGS = {\n  all: () => true,\n  chrome: () => navigator.userAgent.includes('Chrome') && !navigator.userAgent.includes('Edg'),\n  firefox: () => navigator.userAgent.includes('Firefox'),\n  safari: () => navigator.userAgent.includes('Safari') && !navigator.userAgent.includes('Chrome'),\n  edge: () => navigator.userAgent.includes('Edg'),\n  android: () => navigator.userAgent.includes('Android'),\n  ios: () => /iPad|iPhone|iPod/.test(navigator.userAgent) || safariIpad,\n  windows: () => navigator.userAgent.includes('Windows'),\n  mac: () => navigator.userAgent.includes('Macintosh') && !safariIpad,\n  'mobile-device': () => safariIpad\n    || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i\n      .test(navigator.userAgent),\n  phone: () => PERSONALIZATION_TAGS['mobile-device']() && PHONE_SIZE,\n  tablet: () => PERSONALIZATION_TAGS['mobile-device']() && !PHONE_SIZE,\n  desktop: () => !PERSONALIZATION_TAGS['mobile-device'](),\n  loggedout: () => !window.adobeIMS?.isSignedInUser(),\n  loggedin: () => !!window.adobeIMS?.isSignedInUser(),\n};\nconst PERSONALIZATION_KEYS = Object.keys(PERSONALIZATION_TAGS);\n/* c8 ignore stop */\n\nconst CLASS_EL_DELETE = 'p13n-deleted';\nconst CLASS_EL_REPLACE = 'p13n-replaced';\nconst COLUMN_NOT_OPERATOR = 'not ';\nconst TARGET_EXP_PREFIX = 'target-';\nconst INLINE_HASH = '_inline';\nconst MARTECH_RETURNED_EVENT = 'martechReturned';\nconst PAGE_URL = new URL(window.location.href);\nconst FLAGS = {\n  all: 'all',\n  includeFragments: 'include-fragments',\n};\nlet isPostLCP = false;\n\nexport const TRACKED_MANIFEST_TYPE = 'personalization';\n\n// Replace any non-alpha chars except comma, space, ampersand and hyphen\nconst RE_KEY_REPLACE = /[^a-z0-9\\- _,&=]/g;\n\nconst MANIFEST_KEYS = [\n  'action',\n  'selector',\n  'pagefilter',\n  'page filter',\n  'page filter optional',\n];\n\nexport const DATA_TYPE = {\n  JSON: 'json',\n  TEXT: 'text',\n};\n\nconst IN_BLOCK_SELECTOR_PREFIX = 'in-block:';\n\nexport const normalizePath = (p, localize = true) => {\n  let path = p;\n\n  if (!path?.includes('/')) {\n    return path;\n  }\n\n  const config = getConfig();\n  if (path.startsWith('https://www.adobe.com/federal/')) {\n    return getFederatedUrl(path);\n  }\n\n  if (path.startsWith(config.codeRoot)\n    || path.includes('.hlx.')\n    || path.includes('.aem.')\n    || path.includes('.adobe.')) {\n    try {\n      const url = new URL(path);\n      const firstFolder = url.pathname.split('/')[1];\n      if (!localize\n        || config.locale.ietf === 'en-US'\n        || url.hash.includes('#_dnt')\n        || firstFolder in config.locales\n        || path.includes('.json')) {\n        path = url.pathname;\n      } else {\n        path = `${config.locale.prefix}${url.pathname}`;\n      }\n    } catch (e) { /* return path below */ }\n  } else if (!path.startsWith('http') && !path.startsWith('/')) {\n    path = `/${path}`;\n  }\n  return path;\n};\n\nexport const getFileName = (path) => path?.split('/').pop();\n\nconst isInLcpSection = (el) => {\n  const lcpSection = document.querySelector('body > main > div');\n  return lcpSection === el || lcpSection?.contains(el);\n};\n\nconst GLOBAL_CMDS = [\n  'insertscript',\n  'replacepage',\n  'updatemetadata',\n  'useblockcode',\n];\n\nconst CREATE_CMDS = {\n  insertafter: 'afterend',\n  insertbefore: 'beforebegin',\n  prepend: 'afterbegin',\n  append: 'beforeend',\n};\n\nconst COMMANDS_KEYS = {\n  remove: 'remove',\n  replace: 'replace',\n};\n\nfunction addIds(el, manifestId, targetManifestId) {\n  if (manifestId) el.dataset.manifestId = manifestId;\n  if (targetManifestId) el.dataset.adobeTargetTestid = targetManifestId;\n}\n\nfunction getSelectorType(selector) {\n  const sel = selector.toLowerCase().trim();\n  if (sel.startsWith('/') || sel.startsWith('http')) return 'fragment';\n  return 'other';\n}\n\nexport function replacePlaceholders(value, ph) {\n  const placeholders = ph || getConfig().placeholders;\n  if (!placeholders) return value;\n  let val = value;\n  const matches = val.match(/{{(.*?)}}/g);\n  if (!matches) return val;\n  matches.forEach((match) => {\n    const key = match.replace(/{{|}}/g, '').trim();\n    if (placeholders[key]) val = val.replace(match, placeholders[key]);\n  });\n  return val;\n}\n\nconst getUpdatedHref = (el, content, action) => {\n  const href = el.getAttribute('href');\n  const newContent = replacePlaceholders(content);\n  if (action === 'insertafter' || action === 'append') return `${href}${newContent}`;\n  if (action === 'insertbefore' || action === 'prepend') return `${newContent}${href}`;\n  return newContent;\n};\n\nconst createFrag = (el, action, content, manifestId, targetManifestId) => {\n  if (action === 'replace') el.classList.add(CLASS_EL_DELETE, CLASS_EL_REPLACE);\n  let href = content;\n  try {\n    const { pathname, search, hash } = new URL(content);\n    href = `${pathname}${search}${hash}`;\n  } catch {\n    // ignore\n  }\n  const a = createTag('a', { href }, content);\n  addIds(a, manifestId, targetManifestId);\n  const frag = createTag('p', undefined, a);\n  const isDelayedModalAnchor = /#.*delay=/.test(href);\n  if (isDelayedModalAnchor) frag.classList.add('hide-block');\n  if (isInLcpSection(el)) {\n    loadLink(`${localizeLink(a.href)}.plain.html`, { as: 'fetch', crossorigin: 'anonymous', rel: 'preload' });\n  }\n  return frag;\n};\n\nexport const createContent = (el, { content, manifestId, targetManifestId, action, modifiers }) => {\n  if (action === 'replace') {\n    addIds(el, manifestId, targetManifestId);\n  }\n  if (el?.nodeName === 'A' && modifiers?.includes('href')) {\n    el.setAttribute('href', getUpdatedHref(el, content, action));\n    addIds(el, manifestId, targetManifestId);\n    return el;\n  }\n  if (getSelectorType(content) !== 'fragment') {\n    const newContent = replacePlaceholders(content);\n\n    if (action === 'replace') {\n      el.innerHTML = newContent;\n\n      return el;\n    }\n\n    const container = createTag('div', {}, newContent);\n    addIds(container, manifestId, targetManifestId);\n    return container;\n  }\n\n  const frag = createFrag(el, action, content, manifestId, targetManifestId);\n  addIds(frag, manifestId, targetManifestId);\n  if (el?.parentElement.nodeName !== 'MAIN') return frag;\n  return createTag('div', undefined, frag);\n};\n\nconst COMMANDS = {\n  [COMMANDS_KEYS.remove]: (el, { content, manifestId }) => {\n    if (content === 'false') return;\n    if (manifestId) {\n      el.dataset.removedManifestId = manifestId;\n      return;\n    }\n    el.classList.add(CLASS_EL_DELETE);\n  },\n  [COMMANDS_KEYS.replace]: (el, cmd) => {\n    if (!el || el.classList.contains(CLASS_EL_REPLACE)) return;\n    el.insertAdjacentElement(\n      'beforebegin',\n      createContent(el, cmd),\n    );\n  },\n};\n\nconst log = (...msg) => {\n  const config = getConfig();\n  if (config.mep?.preview) console.log(...msg);\n};\n\nexport const fetchData = async (url, type = DATA_TYPE.JSON) => {\n  try {\n    const resp = await fetch(normalizePath(url));\n    if (!resp.ok) {\n      /* c8 ignore next 5 */\n      if (resp.status === 404) {\n        throw new Error('File not found');\n      }\n      throw new Error(`Invalid response: ${resp.status} ${resp.statusText}`);\n    }\n    return await resp[type]();\n  } catch (e) {\n    /* c8 ignore next 3 */\n    log(`Error loading content: ${url}`, e.message || e);\n  }\n  return null;\n};\n\nconst getBlockProps = (fVal, config, origin) => {\n  let val = fVal;\n  if (val?.includes('\\\\')) val = val?.split('\\\\').join('/');\n  if (!val?.startsWith('/')) val = `/${val}`;\n  const blockSelector = val?.split('/').pop();\n\n  if (val.startsWith('/libs/')) {\n    /* c8 ignore next 1 */\n    val = `${config.miloLibs || config.codeRoot}${val.replace('/libs', '')}`;\n  } else {\n    val = `${origin}${val}`;\n  }\n\n  return { blockSelector, blockTarget: val };\n};\n\nconst consolidateArray = (arr, prop, existing = []) => arr\n  .reduce((results, i) => [...results, ...i[prop] || []], existing);\n\nconst consolidateObjects = (arr, prop, existing = {}) => arr.reduce((propMap, item) => {\n  item[prop]?.forEach((i) => {\n    const { selector, val } = i;\n    if (prop === 'blocks') {\n      propMap[selector] = val;\n      return;\n    }\n\n    if (selector in propMap) return;\n    const action = {\n      action: i.action,\n      fragment: val,\n      selector,\n      manifestPath: item.manifestPath,\n      manifestId: i.manifestId,\n      targetManifestId: i.targetManifestId,\n    };\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in propMap) {\n      if (propMap[key].fragment === selector) propMap[key] = action;\n    }\n    propMap[selector] = action;\n  });\n  return { ...existing, ...propMap };\n}, {});\n\nexport const matchGlob = (searchStr, inputStr) => {\n  const pattern = searchStr.replace(/\\*\\*/g, '.*');\n  const reg = new RegExp(`^${pattern}(\\\\.html)?$`, 'i'); // devtool bug needs this backtick: `\n  return reg.test(inputStr);\n};\n\nexport async function replaceInner(path, element) {\n  if (!path || !element) return false;\n  let plainPath = path.endsWith('/') ? `${path}index` : path;\n  plainPath = plainPath.endsWith('.plain.html') ? plainPath : `${plainPath}.plain.html`;\n  const html = await fetchData(plainPath, DATA_TYPE.TEXT);\n  if (!html) return false;\n\n  element.innerHTML = html;\n  const { decorateArea } = getConfig();\n  if (decorateArea) decorateArea(element);\n  return true;\n}\n/* c8 ignore stop */\n\nconst setMetadata = (metadata) => {\n  const { selector, val } = metadata;\n  if (!selector || !val) return;\n  const propName = selector.startsWith('og:') ? 'property' : 'name';\n  let metaEl = document.querySelector(`meta[${propName}=\"${selector}\"]`);\n  if (!metaEl) {\n    metaEl = createTag('meta', { [propName]: selector });\n    document.head.append(metaEl);\n  }\n  metaEl.setAttribute('content', val);\n};\n\nfunction toLowerAlpha(str) {\n  const s = str.toLowerCase();\n  return s.replace(RE_KEY_REPLACE, '');\n}\n\nfunction normalizeKeys(obj) {\n  return Object.keys(obj).reduce((newObj, key) => {\n    newObj[toLowerAlpha(key)] = obj[key];\n    return newObj;\n  }, {});\n}\n\nfunction registerInBlockActions(command) {\n  const blockAndSelector = command.selector.substring(IN_BLOCK_SELECTOR_PREFIX.length)\n    .trim().split(/\\s+/);\n  const [blockName] = blockAndSelector;\n\n  const config = getConfig();\n  config.mep.inBlock ??= {};\n  config.mep.inBlock[blockName] ??= {};\n\n  let blockSelector;\n  if (blockAndSelector.length === 1) delete command.selector;\n  if (blockAndSelector.length > 1) {\n    blockSelector = blockAndSelector.slice(1).join(' ');\n    command.selector = blockSelector;\n    if (getSelectorType(blockSelector) === 'fragment') {\n      if (blockSelector.includes('/federal/')) blockSelector = getFederatedUrl(blockSelector);\n      if (command.content.includes('/federal/')) command.content = getFederatedUrl(command.content);\n      config.mep.inBlock[blockName].fragments ??= {};\n      const { fragments } = config.mep.inBlock[blockName];\n      delete command.selector;\n      if (blockSelector in fragments) return;\n\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key in fragments) {\n        if (fragments[key].content === blockSelector) fragments[key] = command;\n      }\n      fragments[blockSelector] = command;\n\n      blockSelector = normalizePath(blockSelector);\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key in fragments) {\n        if (fragments[key].content === blockSelector) fragments[key] = command;\n      }\n      fragments[blockSelector] = command;\n      return;\n    }\n  }\n  config.mep.inBlock[blockName].commands ??= [];\n  config.mep.inBlock[blockName].commands.push(command);\n}\n\nconst updateEndNumber = (endNumber, term) => (endNumber\n  ? term.replace(endNumber, `:nth-child(${endNumber})`)\n  : term);\nfunction modifySelectorTerm(termParam) {\n  let term = termParam;\n  const specificSelectors = {\n    section: 'main > div',\n    'primary-cta': 'strong a',\n    'secondary-cta': 'em a',\n    'action-area': '*:has(> em a, > strong a)',\n    'any-marquee-section': 'main > div:has([class*=\"marquee\"])',\n    'any-marquee': '[class*=\"marquee\"]',\n    'any-header': ':is(h1, h2, h3, h4, h5, h6)',\n  };\n  const otherSelectors = ['row', 'col'];\n  const htmlEls = [\n    'html', 'body', 'header', 'footer', 'main',\n    'div', 'a', 'p', 'strong', 'em', 'picture', 'source', 'img', 'h',\n    'ul', 'ol', 'li',\n  ];\n  const startTextMatch = term.match(/^[a-zA-Z/./-]*/);\n  const startText = startTextMatch ? startTextMatch[0].toLowerCase() : '';\n  const startTextPart1 = startText.split(/\\.|:/)[0];\n  const endNumberMatch = term.match(/[0-9]*$/);\n  const endNumber = endNumberMatch && startText.match(/^[a-zA-Z]/) ? endNumberMatch[0] : '';\n  if (!startText || htmlEls.includes(startText)) return term;\n  if (otherSelectors.includes(startText)) {\n    term = term.replace(startText, '> div');\n    term = updateEndNumber(endNumber, term);\n    return term;\n  }\n  if (Object.keys(specificSelectors).includes(startTextPart1)) {\n    term = term.replace(startTextPart1, specificSelectors[startTextPart1]);\n    term = updateEndNumber(endNumber, term);\n    return term;\n  }\n\n  if (!startText.startsWith('.')) term = `.${term}`;\n  if (endNumber) {\n    term = term.replace(endNumber, '');\n    term = `${term}:nth-child(${endNumber} of ${term})`;\n  }\n  return term;\n}\nfunction getModifiers(selector) {\n  let sel = selector;\n  const modifiers = [];\n  const flags = sel.split(/\\s+#_/);\n  if (flags.length) {\n    sel = flags.shift();\n    flags.forEach((flag) => {\n      flag.split(/_|#_/).forEach((mod) => modifiers.push(mod.toLowerCase().trim()));\n    });\n  }\n  return { sel, modifiers };\n}\nexport function modifyNonFragmentSelector(selector) {\n  const { sel, modifiers } = getModifiers(selector);\n  return {\n    modifiedSelector: sel\n      .split('>').join(' > ')\n      .split(',').join(' , ')\n      .replaceAll(/main\\s*>?\\s*(section\\d*)/gi, '$1')\n      .split(/\\s+/)\n      .map(modifySelectorTerm)\n      .join(' ')\n      .trim(),\n    modifiers,\n  };\n}\n\nfunction getSelectedElements(sel, rootEl, forceRootEl) {\n  const root = forceRootEl ? rootEl : document;\n  const selector = sel.trim();\n  if (!selector) return {};\n\n  if (getSelectorType(selector) === 'fragment') {\n    try {\n      const fragments = root.querySelectorAll(\n        `a[href*=\"${normalizePath(selector, false)}\"], a[href*=\"${normalizePath(selector, true)}\"]`,\n      );\n      return { els: fragments, modifiers: [FLAGS.all, FLAGS.includeFragments] };\n    } catch (e) {\n      /* c8 ignore next 2 */\n      return { els: [], modifiers: [] };\n    }\n  }\n  const { modifiedSelector, modifiers } = modifyNonFragmentSelector(selector);\n  let els;\n  try {\n    els = root.querySelectorAll(modifiedSelector);\n  } catch (e) {\n    /* eslint-disable-next-line no-console */\n    log('Invalid selector: ', selector);\n    return null;\n  }\n  if (modifiers.includes(FLAGS.all) || !els.length) return { els, modifiers };\n  els = [els[0]];\n  return { els, modifiers };\n}\nconst addHash = (url, newHash) => {\n  if (!newHash) return url;\n  try {\n    const { origin, pathname, search } = new URL(url);\n    return `${origin}${pathname}${search}#${newHash}`;\n  } catch (e) {\n    return `${url}#${newHash}`;\n  }\n};\n\nconst setDataIdOnChildren = (sections, id, value) => {\n  [...sections[0].children].forEach(\n    (child) => (child.dataset[id] = value),\n  );\n};\n\nexport const updateFragDataProps = (a, inline, sections, fragment) => {\n  const { manifestId, adobeTargetTestid } = a.dataset;\n  if (inline) {\n    if (manifestId) setDataIdOnChildren(sections, 'manifestId', manifestId);\n    if (adobeTargetTestid) setDataIdOnChildren(sections, 'adobeTargetTestid', adobeTargetTestid);\n  } else {\n    addIds(fragment, manifestId, adobeTargetTestid);\n  }\n};\n\nexport const deleteMarkedEls = (rootEl = document) => {\n  [...rootEl.querySelectorAll(`.${CLASS_EL_DELETE}`)]\n    .forEach((el) => el.remove());\n};\n\nexport function handleCommands(\n  commands,\n  rootEl = document,\n  forceInline = false,\n  forceRootEl = false,\n) {\n  const section1 = document.querySelector('main > div');\n  commands.forEach((cmd) => {\n    const { action, content, selector } = cmd;\n    cmd.content = forceInline && getSelectorType(content) === 'fragment' ? addHash(content, INLINE_HASH) : content;\n    if (selector.startsWith(IN_BLOCK_SELECTOR_PREFIX)) {\n      registerInBlockActions(cmd);\n      cmd.selectorType = IN_BLOCK_SELECTOR_PREFIX;\n      return;\n    }\n    const { els, modifiers } = getSelectedElements(selector, rootEl, forceRootEl);\n    cmd.modifiers = modifiers;\n\n    els?.forEach((el) => {\n      if (!el\n        || (!(action in COMMANDS) && !(action in CREATE_CMDS))\n        || (rootEl && !rootEl.contains(el))\n        || (isPostLCP && section1?.contains(el))) return;\n\n      if (action in COMMANDS) {\n        COMMANDS[action](el, cmd);\n        return;\n      }\n      const insertAnchor = getSelectorType(selector) === 'fragment' ? el.parentElement : el;\n      insertAnchor?.insertAdjacentElement(\n        CREATE_CMDS[action],\n        createContent(el, cmd),\n      );\n    });\n    if ((els.length && !cmd.modifiers.includes(FLAGS.all))\n      || !cmd.modifiers.includes(FLAGS.includeFragments)) {\n      cmd.completed = true;\n    }\n  });\n  deleteMarkedEls(rootEl);\n  return commands.filter((cmd) => !cmd.completed\n    && cmd.selectorType !== IN_BLOCK_SELECTOR_PREFIX);\n}\n\nconst getVariantInfo = (line, variantNames, variants, manifestPath, fTargetId) => {\n  const config = getConfig();\n  let manifestId = getFileName(manifestPath);\n  let targetId = manifestId.replace('.json', '');\n  if (fTargetId) targetId = fTargetId;\n  if (!config.mep?.preview) manifestId = false;\n  // retro support\n  const action = line.action?.toLowerCase()\n    .replace('content', '').replace('fragment', '').replace('tosection', '');\n  if (!action) {\n    log('Row found with empty action field: ', line);\n    return;\n  }\n  const pageFilter = line['page filter'] || line['page filter optional'];\n  const { selector } = line;\n\n  if (pageFilter && !matchGlob(pageFilter, new URL(window.location).pathname)) return;\n\n  if (!config.mep?.preview) manifestId = false;\n  const { origin } = PAGE_URL;\n  variantNames.forEach((vn) => {\n    const targetManifestId = vn.startsWith(TARGET_EXP_PREFIX) ? targetId : false;\n    if (!line[vn] || line[vn].toLowerCase() === 'false') return;\n\n    const variantInfo = {\n      action,\n      selector,\n      pageFilter,\n      content: line[vn],\n      selectorType: getSelectorType(selector),\n      manifestId,\n      targetManifestId,\n    };\n\n    if (action in COMMANDS && variantInfo.selectorType === 'fragment') {\n      variants[vn].fragments.push({\n        selector: normalizePath(variantInfo.selector.split(' #_')[0]),\n        val: normalizePath(line[vn]),\n        action,\n        manifestId,\n        targetManifestId,\n      });\n    } else if (GLOBAL_CMDS.includes(action)) {\n      variants[vn][action] = variants[vn][action] || [];\n\n      if (action === 'useblockcode') {\n        const { blockSelector, blockTarget } = getBlockProps(line[vn], config, origin);\n        variants[vn][action].push({\n          selector: blockSelector,\n          val: blockTarget,\n          pageFilter,\n          manifestId,\n          targetManifestId,\n        });\n      } else {\n        variants[vn][action].push({\n          selector: normalizePath(selector),\n          val: normalizePath(line[vn]),\n          pageFilter,\n          manifestId,\n          targetManifestId,\n        });\n      }\n    } else if (action in COMMANDS || action in CREATE_CMDS) {\n      variants[vn].commands.push(variantInfo);\n    }\n  });\n};\n\nexport function parseManifestVariants(data, manifestPath, targetId) {\n  if (!data?.length) return null;\n\n  const manifestConfig = {};\n  const experiences = data.map((d) => normalizeKeys(d));\n\n  try {\n    const variants = {};\n    const variantNames = Object.keys(experiences[0])\n      .filter((vn) => !MANIFEST_KEYS.includes(vn));\n\n    variantNames.forEach((vn) => {\n      variants[vn] = { commands: [], fragments: [] };\n    });\n\n    experiences.forEach((line) => {\n      getVariantInfo(line, variantNames, variants, manifestPath, targetId);\n    });\n\n    manifestConfig.variants = variants;\n    manifestConfig.variantNames = variantNames;\n    const config = getConfig();\n    if (!config.mep?.preview) manifestConfig.manifestId = false;\n\n    return manifestConfig;\n  } catch (e) {\n    /* c8 ignore next 3 */\n    log('error parsing personalization manifestConfig:', e, experiences);\n  }\n  return null;\n}\n\nexport async function createMartechMetadata(placeholders, config, column) {\n  if (config.locale.ietf === 'en-US') return;\n\n  await import('../../martech/attributes.js').then(({ processTrackingLabels }) => {\n    config.mep.analyticLocalization ??= {};\n\n    placeholders.forEach((item, i) => {\n      const firstRow = placeholders[i];\n      let usValue = firstRow[US_GEO] || firstRow.us || firstRow.en || firstRow.key;\n\n      if (!usValue) return;\n\n      usValue = processTrackingLabels(usValue);\n      const translatedValue = processTrackingLabels(item[column]);\n      config.mep.analyticLocalization[translatedValue] = usValue;\n    });\n  });\n}\n\n/* c8 ignore start */\nexport function parsePlaceholders(placeholders, config, selectedVariantName = '') {\n  if (!placeholders?.length || selectedVariantName === 'default') return config;\n  const valueNames = [\n    selectedVariantName.toLowerCase(),\n    config.mep?.prefix,\n    config.locale.region.toLowerCase(),\n    config.locale.ietf.toLowerCase(),\n    ...config.locale.ietf.toLowerCase().split('-'),\n    'value',\n    'other',\n  ];\n  const keys = placeholders?.length ? Object.entries(placeholders[0]) : [];\n  const keyVal = keys.find(([key]) => valueNames.includes(key.toLowerCase()));\n  const key = keyVal?.[0];\n\n  if (key) {\n    const results = placeholders.reduce((res, item) => {\n      res[item.key] = item[key];\n      return res;\n    }, {});\n    config.placeholders = { ...(config.placeholders || {}), ...results };\n  }\n\n  createMartechMetadata(placeholders, config, key);\n\n  return config;\n}\n\nconst checkForParamMatch = (paramStr) => {\n  const [name, val] = paramStr.split('param-')[1].split('=');\n  if (!name) return false;\n  const params = new URLSearchParams(\n    Array.from(PAGE_URL.searchParams, ([key, value]) => [key.toLowerCase(), value?.toLowerCase()]),\n  );\n  const searchParamVal = params.get(name.toLowerCase());\n  if (searchParamVal !== null) {\n    if (val) return val === searchParamVal;\n    return true; // if no val is set, just check for existence of param\n  }\n  return false;\n};\n\nfunction trimNames(arr) {\n  return arr.map((v) => v.trim()).filter(Boolean);\n}\nexport function buildVariantInfo(variantNames) {\n  return variantNames.reduce((acc, name) => {\n    let nameArr = [name];\n    if (!name.startsWith(TARGET_EXP_PREFIX)) nameArr = name.split(',');\n    acc[name] = trimNames(nameArr);\n    acc.allNames = [...acc.allNames, ...trimNames(name.split(/[,&]|\\bnot\\b/))];\n    return acc;\n  }, { allNames: [] });\n}\n\nconst getXLGListURL = (config) => {\n  const sheet = config.env?.name === 'prod' ? 'prod' : 'stage';\n  return `https://www.adobe.com/federal/assets/data/mep-xlg-tags.json?sheet=${sheet}`;\n};\n\nexport const getEntitlementMap = async () => {\n  const config = getConfig();\n  if (config.mep?.entitlementMap) return config.mep.entitlementMap;\n  const entitlementUrl = getXLGListURL(config);\n  const fetchedData = await fetchData(entitlementUrl, DATA_TYPE.JSON);\n  if (!fetchedData) return config.consumerEntitlements || {};\n  const entitlements = {};\n  fetchedData?.data?.forEach((ent) => {\n    const { id, tagname } = ent;\n    entitlements[id] = tagname;\n  });\n  config.mep ??= {};\n  config.mep.entitlementMap = { ...config.consumerEntitlements, ...entitlements };\n  return config.mep.entitlementMap;\n};\n\nexport const getEntitlements = async (data) => {\n  const entitlementMap = await getEntitlementMap();\n\n  return data.flatMap((destination) => {\n    const ents = destination.segments?.flatMap((segment) => {\n      const entMatch = entitlementMap[segment.id];\n      return entMatch ? [entMatch] : [];\n    });\n\n    return ents || [];\n  });\n};\n\nasync function getPersonalizationVariant(\n  manifestPath,\n  variantNames = [],\n  variantLabel = null,\n) {\n  const config = getConfig();\n  if (config.mep?.variantOverride?.[manifestPath]) {\n    return config.mep.variantOverride[manifestPath];\n  }\n\n  const variantInfo = buildVariantInfo(variantNames);\n\n  const entitlementKeys = Object.values(await getEntitlementMap());\n  const hasEntitlementTag = entitlementKeys.some((tag) => variantInfo.allNames.includes(tag));\n\n  let userEntitlements = [];\n  if (hasEntitlementTag) {\n    if (config?.mep?.enablePersV2) {\n      userEntitlements = [];\n    } else {\n      userEntitlements = await config.entitlements();\n    }\n  }\n\n  const hasMatch = (name) => {\n    if (name === '') return true;\n    if (name === variantLabel?.toLowerCase()) return true;\n    if (name.startsWith('param-')) return checkForParamMatch(name);\n    if (userEntitlements?.includes(name)) return true;\n    return PERSONALIZATION_KEYS.includes(name) && PERSONALIZATION_TAGS[name]();\n  };\n\n  const matchVariant = (name) => {\n    if (name.startsWith(TARGET_EXP_PREFIX)) return hasMatch(name);\n    const processedList = name.split('&').map((condition) => {\n      const reverse = condition.trim().startsWith(COLUMN_NOT_OPERATOR);\n      const match = hasMatch(condition.replace(COLUMN_NOT_OPERATOR, '').trim());\n      return reverse ? !match : match;\n    });\n    return !processedList.includes(false);\n  };\n\n  const matchingVariant = variantNames.find((variant) => variantInfo[variant].some(matchVariant));\n  return matchingVariant;\n}\n\nconst createDefaultExperiment = (manifest) => ({\n  disabled: manifest.disabled,\n  event: manifest.event,\n  manifest: manifest.manifestPath,\n  executionOrder: '1-1',\n  selectedVariant: { commands: [], fragments: [] },\n  selectedVariantName: 'default',\n  variantNames: ['all'],\n  variants: {},\n  source: ['promo'],\n});\n\nexport const addMepAnalytics = (config, header) => {\n  config.mep?.experiments?.forEach((experiment) => {\n    experiment?.selectedVariant?.useblockcode?.forEach(({ selector, targetManifestId }) => {\n      if (selector && targetManifestId) {\n        document.querySelectorAll(`.${selector}`)\n          .forEach((el) => (el.dataset.adobeTargetTestid = targetManifestId));\n      }\n    });\n    if (header) {\n      experiment?.selectedVariant?.updatemetadata?.forEach((updateMetaData) => {\n        if (updateMetaData?.selector === 'gnav-source' && updateMetaData.targetManifestId) {\n          header.dataset.adobeTargetTestid = updateMetaData.targetManifestId;\n        }\n      });\n    }\n  });\n};\nexport async function getManifestConfig(info = {}, variantOverride = false) {\n  const {\n    name,\n    manifestData,\n    manifestPath,\n    manifestUrl,\n    manifestPlaceholders,\n    manifestInfo,\n    variantLabel,\n    disabled,\n    event,\n    source,\n  } = info;\n  if (disabled && (!variantOverride || !Object.keys(variantOverride).length)) {\n    return createDefaultExperiment(info);\n  }\n  let data = manifestData;\n  if (!data) {\n    const fetchedData = await fetchData(manifestPath, DATA_TYPE.JSON);\n    if (fetchData) data = fetchedData;\n  }\n\n  const persData = data?.experiences?.data || data?.data || data;\n  if (!persData) return null;\n  const infoTab = manifestInfo || data?.info?.data;\n  const infoObj = infoTab?.reduce((acc, item) => {\n    acc[item.key] = item.value;\n    return acc;\n  }, {});\n  const manifestOverrideName = infoObj?.['manifest-override-name']?.toLowerCase();\n  const targetId = name || manifestOverrideName;\n  const manifestConfig = parseManifestVariants(persData, manifestPath, targetId);\n\n  if (!manifestConfig) {\n    /* c8 ignore next 3 */\n    log('Error loading personalization manifestConfig: ', name || manifestPath);\n    return null;\n  }\n  const infoKeyMap = {\n    'manifest-type': ['Personalization', 'Promo', 'Test'],\n    'manifest-execution-order': ['First', 'Normal', 'Last'],\n  };\n  if (infoTab) {\n    manifestConfig.manifestType = infoObj?.['manifest-type']?.toLowerCase();\n    if (manifestConfig.manifestType === TRACKED_MANIFEST_TYPE) {\n      manifestConfig.manifestOverrideName = manifestOverrideName;\n      const analytics = manifestOverrideName || getFileName(manifestPath).replace('.json', '');\n      manifestConfig.analyticsTitle = analytics.trim().slice(0, 15);\n    }\n    const executionOrder = {\n      'manifest-type': 1,\n      'manifest-execution-order': 1,\n    };\n    Object.keys(infoObj).forEach((key) => {\n      if (!infoKeyMap[key]) return;\n      const index = infoKeyMap[key].indexOf(infoObj[key]);\n      executionOrder[key] = index > -1 ? index : 1;\n    });\n    manifestConfig.executionOrder = `${executionOrder['manifest-execution-order']}-${executionOrder['manifest-type']}`;\n  } else {\n    // eslint-disable-next-line prefer-destructuring\n    manifestConfig.manifestType = infoKeyMap['manifest-type'][1];\n    manifestConfig.executionOrder = '1-1';\n  }\n\n  manifestConfig.manifestPath = normalizePath(manifestPath);\n  manifestConfig.selectedVariantName = await getPersonalizationVariant(\n    manifestConfig.manifestPath,\n    manifestConfig.variantNames,\n    variantLabel,\n  );\n\n  manifestConfig.placeholderData = manifestPlaceholders || data?.placeholders?.data;\n  manifestConfig.name = name;\n  manifestConfig.manifest = manifestPath;\n  manifestConfig.manifestUrl = manifestUrl;\n  manifestConfig.disabled = disabled;\n  manifestConfig.event = event;\n  if (source?.length) manifestConfig.source = source;\n  return manifestConfig;\n}\n\nconst normalizeFragPaths = ({ selector, val, action, manifestId, targetManifestId }) => ({\n  selector: normalizePath(selector),\n  val: normalizePath(val),\n  action,\n  manifestId,\n  targetManifestId,\n});\nexport async function categorizeActions(experiment, config) {\n  if (!experiment) return null;\n  const { manifestPath, selectedVariant } = experiment;\n  if (!selectedVariant || selectedVariant === 'default') return { experiment };\n\n  // only one replacepage can be defined\n  const { replacepage } = selectedVariant;\n  // eslint-disable-next-line prefer-destructuring\n  if (selectedVariant.replacepage?.length) config.mep.replacepage = replacepage[0];\n\n  selectedVariant.insertscript?.map((script) => loadScript(script.val));\n  selectedVariant.updatemetadata?.map((metadata) => setMetadata(metadata));\n\n  selectedVariant.fragments &&= selectedVariant.fragments.map(normalizeFragPaths);\n\n  return {\n    manifestPath,\n    experiment,\n    blocks: selectedVariant.useblockcode,\n    fragments: selectedVariant.fragments,\n    commands: selectedVariant.commands,\n  };\n}\n\nfunction parseMepParam(mepParam) {\n  if (!mepParam) return false;\n  const mepObject = Object.create(null);\n  const decodedParam = decodeURIComponent(mepParam);\n  decodedParam.split('---').forEach((item) => {\n    const pair = item.trim().split('--');\n    if (pair.length > 1) {\n      const [manifestPath, selectedVariant] = pair;\n      mepObject[manifestPath] = selectedVariant;\n    }\n  });\n\n  return mepObject;\n}\n\nfunction compareExecutionOrder(a, b) {\n  if (a.executionOrder === b.executionOrder) return 0;\n  return a.executionOrder > b.executionOrder ? 1 : -1;\n}\n\nexport function cleanAndSortManifestList(manifests) {\n  const config = getConfig();\n  const manifestObj = {};\n  let allManifests = manifests;\n  if (config.mep?.experiments) allManifests = [...manifests, ...config.mep.experiments];\n  allManifests.forEach((manifest) => {\n    try {\n      if (!manifest?.manifest) return;\n      if (!manifest.manifestPath) manifest.manifestPath = normalizePath(manifest.manifest);\n      if (manifest.manifestPath in manifestObj) {\n        let fullManifest = manifestObj[manifest.manifestPath];\n        let freshManifest = manifest;\n        if (manifest.name) {\n          fullManifest = manifest;\n          freshManifest = manifestObj[manifest.manifestPath];\n        }\n        freshManifest.source = freshManifest.source.concat(fullManifest.source);\n        freshManifest.name = fullManifest.name;\n        freshManifest.selectedVariantName = fullManifest.selectedVariantName;\n        freshManifest.selectedVariant = freshManifest.variants[freshManifest.selectedVariantName];\n        manifestObj[manifest.manifestPath] = freshManifest;\n      } else {\n        manifestObj[manifest.manifestPath] = manifest;\n      }\n\n      const manifestConfig = manifestObj[manifest.manifestPath];\n      const { selectedVariantName, variantNames, placeholderData } = manifestConfig;\n      if (selectedVariantName && variantNames.includes(selectedVariantName)) {\n        manifestConfig.run = true;\n        manifestConfig.selectedVariantName = selectedVariantName;\n        manifestConfig.selectedVariant = manifestConfig.variants[selectedVariantName];\n      } else {\n        /* c8 ignore next 2 */\n        manifestConfig.selectedVariantName = 'default';\n        manifestConfig.selectedVariant = 'default';\n      }\n\n      parsePlaceholders(placeholderData, getConfig(), manifestConfig.selectedVariantName);\n    } catch (e) {\n      log(`MEP Error parsing manifests: ${e.toString()}`);\n      window.lana?.log(`MEP Error parsing manifests: ${e.toString()}`);\n    }\n  });\n  Object.keys(manifestObj).forEach((key) => {\n    delete manifestObj[key].variants;\n  });\n  return Object.values(manifestObj).sort(compareExecutionOrder);\n}\n\nexport function handleFragmentCommand(command, a) {\n  const { action, fragment, manifestId, targetManifestId } = command;\n  if (action === COMMANDS_KEYS.replace) {\n    a.href = fragment;\n    addIds(a, manifestId, targetManifestId);\n    return fragment;\n  }\n  if (action === COMMANDS_KEYS.remove) {\n    if (manifestId) {\n      a.parentElement.dataset.removedManifestId = manifestId;\n    } else {\n      a.parentElement.remove();\n    }\n  }\n  return false;\n}\n\nexport function parseNestedPlaceholders({ placeholders }) {\n  if (!placeholders) return;\n  Object.entries(placeholders).forEach(([key, value]) => {\n    placeholders[key] = replacePlaceholders(value, placeholders);\n  });\n}\n\nexport async function applyPers({ manifests }) {\n  if (!manifests?.length) return;\n  let experiments = manifests;\n  const config = getConfig();\n  for (let i = 0; i < experiments.length; i += 1) {\n    experiments[i] = await getManifestConfig(\n      experiments[i],\n      config.mep?.variantOverride,\n    );\n  }\n\n  experiments = cleanAndSortManifestList(experiments);\n  parseNestedPlaceholders(config);\n\n  let results = [];\n\n  for (const experiment of experiments) {\n    const result = await categorizeActions(experiment, config);\n    if (result) results.push(result);\n  }\n  results = results.filter(Boolean);\n\n  config.mep.experiments = [...config.mep.experiments, ...experiments];\n  config.mep.blocks = consolidateObjects(results, 'blocks', config.mep.blocks);\n  config.mep.fragments = consolidateObjects(results, 'fragments', config.mep.fragments);\n  config.mep.commands = consolidateArray(results, 'commands', config.mep.commands);\n\n  const main = document.querySelector('main');\n  if (config.mep.replacepage && !isPostLCP && main) {\n    await replaceInner(config.mep.replacepage.val, main);\n    const { manifestId, targetManifestId } = config.mep.replacepage;\n    addIds(main, manifestId, targetManifestId);\n  }\n\n  config.mep.commands = handleCommands(config.mep.commands);\n\n  const pznList = results.filter((r) => (r.experiment?.manifestType === TRACKED_MANIFEST_TYPE));\n  if (!pznList.length) return;\n\n  const pznVariants = pznList.map((r) => {\n    const val = r.experiment.selectedVariantName.replace(TARGET_EXP_PREFIX, '').trim().slice(0, 15);\n    return val === 'default' ? 'nopzn' : val;\n  });\n  const pznManifests = pznList.map((r) => r.experiment.analyticsTitle);\n  config.mep.martech = `|${pznVariants.join('--')}|${pznManifests.join('--')}`;\n}\n\nexport const combineMepSources = async (persEnabled, promoEnabled, mepParam) => {\n  let persManifests = [];\n\n  if (persEnabled) {\n    persManifests = persEnabled.toLowerCase()\n      .split(/,|(\\s+)|(\\\\n)/g)\n      .filter((path) => path?.trim())\n      .map((manifestPath) => ({ manifestPath, source: ['pzn'] }));\n  }\n\n  if (promoEnabled) {\n    const { default: getPromoManifests } = await import('./promo-utils.js');\n    persManifests = persManifests.concat(getPromoManifests(promoEnabled, PAGE_URL.searchParams));\n  }\n\n  if (mepParam && mepParam !== 'off') {\n    const persManifestPaths = persManifests.map((manifest) => {\n      const { manifestPath } = manifest;\n      if (manifestPath.startsWith('/')) return manifestPath;\n      try {\n        const url = new URL(manifestPath);\n        return url.pathname;\n      } catch (e) {\n        return manifestPath;\n      }\n    });\n\n    mepParam.split('---').forEach((manifestPair) => {\n      const manifestPath = manifestPair.trim().toLowerCase().split('--')[0];\n      if (!persManifestPaths.includes(manifestPath)) {\n        persManifests.push({ manifestPath, source: ['mep param'] });\n      }\n    });\n  }\n  return persManifests;\n};\n\nasync function updateManifestsAndPropositions(\n  { config, targetManifests, targetPropositions },\n) {\n  targetManifests.forEach((manifest) => {\n    manifest.source = ['target'];\n  });\n  config.mep.targetManifests = targetManifests;\n  if (config?.mep?.enablePersV2) {\n    window.addEventListener('alloy_sendEvent', () => {\n      if (targetPropositions?.length && window._satellite) {\n        window._satellite.track('propositionDisplay', targetPropositions);\n      }\n    }, { once: true });\n  } else if (targetPropositions?.length && window._satellite) {\n    window._satellite.track('propositionDisplay', targetPropositions);\n  }\n  if (config.mep.targetEnabled === 'postlcp') {\n    const event = new CustomEvent(MARTECH_RETURNED_EVENT, { detail: 'Martech returned' });\n    window.dispatchEvent(event);\n  }\n  return targetManifests;\n}\n\nfunction roundToQuarter(num) {\n  return Math.ceil(num / 250) / 4;\n}\n\nfunction calculateResponseTime(responseStart) {\n  const responseTime = Date.now() - responseStart;\n  return roundToQuarter(responseTime);\n}\n\nfunction sendTargetResponseAnalytics(failure, responseStart, timeoutLocal, message) {\n  // temporary solution until we can decide on a better timeout value\n  const responseTime = calculateResponseTime(responseStart);\n  const timeoutTime = roundToQuarter(timeoutLocal);\n  let val = `target response time ${responseTime}:timed out ${failure}:timeout ${timeoutTime}`;\n  if (message) val += `:${message}`;\n  // eslint-disable-next-line no-underscore-dangle\n  window._satellite?.track?.('event', {\n    documentUnloading: true,\n    xdm: {\n      eventType: 'web.webinteraction.linkClicks',\n      web: {\n        webInteraction: {\n          linkClicks: { value: 1 },\n          type: 'other',\n          name: val,\n        },\n      },\n    },\n    data: { _adobe_corpnew: { digitalData: { primaryEvent: { eventInfo: { eventName: val } } } } },\n  });\n}\n\nconst handleAlloyResponse = (response) => ((response.propositions || response.decisions))\n  ?.map((i) => i.items)\n  ?.flat()\n  ?.map((item) => {\n    const content = item?.data?.content;\n    if (!content || !(content.manifestLocation || content.manifestContent)) return null;\n\n    return {\n      manifestPath: content.manifestLocation || content.manifestPath,\n      manifestUrl: content.manifestLocation,\n      manifestData: content.manifestContent?.experiences?.data || content.manifestContent?.data,\n      manifestPlaceholders: content.manifestContent?.placeholders?.data,\n      manifestInfo: content.manifestContent?.info.data,\n      name: item.meta['activity.name'],\n      variantLabel: item.meta['experience.name'] && `target-${item.meta['experience.name']}`,\n      meta: item.meta,\n    };\n  })\n  ?.filter(Boolean) ?? [];\n\nasync function handleMartechTargetInteraction(\n  { config, targetInteractionPromise, calculatedTimeout },\n) {\n  let targetManifests = [];\n  let targetPropositions = [];\n  if (config?.mep?.enablePersV2 && targetInteractionPromise) {\n    const { targetInteractionData, respTime, respStartTime } = await targetInteractionPromise;\n    sendTargetResponseAnalytics(false, respStartTime, calculatedTimeout);\n    if (targetInteractionData.result) {\n      const roundedResponseTime = roundToQuarter(respTime);\n      performance.clearMarks();\n      performance.clearMeasures();\n      try {\n        window.lana.log(`target response time: ${roundedResponseTime}`, { tags: 'martech', errorType: 'i' });\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.error('Error logging target response time:', e);\n      }\n      targetManifests = handleAlloyResponse(targetInteractionData.result);\n      targetPropositions = targetInteractionData.result?.propositions || [];\n    }\n  }\n\n  return updateManifestsAndPropositions(\n    { config, targetManifests, targetPropositions },\n  );\n}\n\nasync function callMartech(config) {\n  const { getTargetPersonalization } = await import('../../martech/martech.js');\n  const {\n    targetManifests,\n    targetPropositions,\n  } = await getTargetPersonalization({ handleAlloyResponse, sendTargetResponseAnalytics });\n  return updateManifestsAndPropositions(\n    { config, targetManifests, targetPropositions },\n  );\n}\n\nconst awaitMartech = () => new Promise((resolve) => {\n  const listener = (event) => resolve(event.detail);\n  window.addEventListener(MARTECH_RETURNED_EVENT, listener, { once: true });\n});\n\nexport async function init(enablements = {}) {\n  let manifests = [];\n  const {\n    mepParam, mepHighlight, mepButton, pzn, promo, enablePersV2,\n    target, targetInteractionPromise, calculatedTimeout, postLCP,\n  } = enablements;\n  const config = getConfig();\n  if (postLCP) {\n    isPostLCP = true;\n  } else {\n    config.mep = {\n      updateFragDataProps,\n      preview: (mepButton !== 'off'\n        && (config.env?.name !== 'prod' || mepParam || mepParam === '' || mepButton)),\n      variantOverride: parseMepParam(mepParam),\n      highlight: (mepHighlight !== undefined && mepHighlight !== 'false'),\n      targetEnabled: target,\n      experiments: [],\n      prefix: config.locale?.prefix.split('/')[1]?.toLowerCase() || US_GEO,\n      enablePersV2,\n    };\n    manifests = manifests.concat(await combineMepSources(pzn, promo, mepParam));\n    manifests?.forEach((manifest) => {\n      if (manifest.disabled) return;\n      const normalizedURL = normalizePath(manifest.manifestPath);\n      loadLink(normalizedURL, { as: 'fetch', crossorigin: 'anonymous', rel: 'preload' });\n    });\n    if (pzn) loadLink(getXLGListURL(config), { as: 'fetch', crossorigin: 'anonymous', rel: 'preload' });\n  }\n\n  if (enablePersV2 && target === true) {\n    manifests = manifests.concat(await handleMartechTargetInteraction(\n      { config, targetInteractionPromise, calculatedTimeout },\n    ));\n  } else {\n    if (target === true) manifests = manifests.concat(await callMartech(config));\n    if (target === 'postlcp') callMartech(config);\n  }\n  if (postLCP) {\n    if (!config.mep.targetManifests) await awaitMartech();\n    manifests = config.mep.targetManifests;\n  }\n  try {\n    if (manifests?.length) await applyPers({ manifests });\n    if (config.mep?.preview) await import('./preview.js').then(({ saveToMmm }) => saveToMmm());\n  } catch (e) {\n    log(`MEP Error: ${e.toString()}`);\n    window.lana?.log(`MEP Error: ${e.toString()}`);\n  }\n}\n"],"names":["federatedContentRoot","fedsPlaceholderConfig","getFederatedContentRoot","allowedOrigins","origin","configOrigin","getConfig","window","location","some","o","replace","includes","concat","SLD","endsWith","getFederatedUrl","url","arguments","length","undefined","startsWith","pathname","search","hash","URL","e","_window$lana","lana","log","toString","getFedsPlaceholderConfig","useCache","locale","placeholders","libOrigin","contentRoot","prefix","PHONE_SIZE","screen","width","height","safariIpad","navigator","userAgent","maxTouchPoints","US_GEO","PERSONALIZATION_TAGS","all","chrome","firefox","safari","edge","android","ios","test","windows","mac","mobile-device","phone","tablet","desktop","loggedout","_window$adobeIMS","adobeIMS","isSignedInUser","loggedin","_window$adobeIMS2","PERSONALIZATION_KEYS","Object","keys","CLASS_EL_DELETE","CLASS_EL_REPLACE","COLUMN_NOT_OPERATOR","TARGET_EXP_PREFIX","INLINE_HASH","MARTECH_RETURNED_EVENT","PAGE_URL","href","FLAGS","includeFragments","isPostLCP","TRACKED_MANIFEST_TYPE","RE_KEY_REPLACE","MANIFEST_KEYS","DATA_TYPE","JSON","TEXT","IN_BLOCK_SELECTOR_PREFIX","normalizePath","p","_path","localize","path","config","codeRoot","firstFolder","split","ietf","locales","getFileName","pop","GLOBAL_CMDS","CREATE_CMDS","insertafter","insertbefore","prepend","append","COMMANDS_KEYS","remove","addIds","el","manifestId","targetManifestId","dataset","adobeTargetTestid","getSelectorType","selector","sel","toLowerCase","trim","replacePlaceholders","value","ph","val","matches","match","forEach","key","createFrag","action","content","classList","add","a","createTag","frag","lcpSection","document","querySelector","contains","isInLcpSection","loadLink","localizeLink","as","crossorigin","rel","createContent","_ref","modifiers","nodeName","setAttribute","getUpdatedHref","getAttribute","newContent","innerHTML","container","parentElement","COMMANDS","_ref2","removedManifestId","cmd","insertAdjacentElement","_config$mep","mep","preview","console","fetchData","async","type","resp","fetch","ok","status","Error","statusText","message","consolidateArray","arr","prop","existing","reduce","results","i","consolidateObjects","propMap","item","_item$prop","fragment","manifestPath","matchGlob","searchStr","inputStr","pattern","RegExp","replaceInner","element","plainPath","html","decorateArea","setMetadata","metadata","propName","metaEl","head","normalizeKeys","obj","newObj","str","updateEndNumber","endNumber","term","modifySelectorTerm","termParam","specificSelectors","section","startTextMatch","startText","startTextPart1","endNumberMatch","modifyNonFragmentSelector","flags","shift","flag","mod","push","getModifiers","modifiedSelector","join","replaceAll","map","addHash","newHash","setDataIdOnChildren","sections","id","children","child","updateFragDataProps","inline","deleteMarkedEls","querySelectorAll","handleCommands","commands","rootEl","forceInline","forceRootEl","section1","command","_config$mep2","_config$mep2$inBlock","_config$mep$inBlock","_config$mep$inBlock$b","_config$mep$inBlock$b4","_config$mep$inBlock$b5","blockAndSelector","substring","blockName","blockSelector","inBlock","slice","_config$mep$inBlock$b2","_config$mep$inBlock$b3","fragments","registerInBlockActions","selectorType","els","root","getSelectedElements","insertAnchor","completed","filter","getVariantInfo","line","variantNames","variants","fTargetId","_config$mep3","_line$action","_config$mep4","targetId","pageFilter","vn","variantInfo","blockTarget","getBlockProps","fVal","_val","_val2","_val3","_val4","miloLibs","parseManifestVariants","data","manifestConfig","experiences","d","_config$mep5","createMartechMetadata","column","then","_ref3","_config$mep6","_config$mep6$analytic","processTrackingLabels","analyticLocalization","firstRow","usValue","us","en","translatedValue","parsePlaceholders","_config$mep7","selectedVariantName","valueNames","region","keyVal","entries","find","_ref4","key2","res","checkForParamMatch","paramStr","name","searchParamVal","URLSearchParams","Array","from","searchParams","_ref5","get","trimNames","v","Boolean","buildVariantInfo","acc","nameArr","allNames","getXLGListURL","_config$env","sheet","env","getEntitlementMap","_config$mep8","_fetchedData$data","_config$mep9","entitlementMap","entitlementUrl","fetchedData","consumerEntitlements","entitlements","ent","tagname","getEntitlements","flatMap","destination","_destination$segments","segments","segment","entMatch","createDefaultExperiment","manifest","disabled","event","executionOrder","selectedVariant","source","addMepAnalytics","header","_config$mep12","experiments","experiment","_experiment$selectedV","_experiment$selectedV2","useblockcode","_ref6","updatemetadata","updateMetaData","getManifestConfig","_data","_data2","_data3","_infoObj$manifestOve","_data4","info","variantOverride","manifestData","manifestUrl","manifestPlaceholders","manifestInfo","variantLabel","persData","infoTab","infoObj","manifestOverrideName","infoKeyMap","_infoObj$manifestTyp","manifestType","analytics","analyticsTitle","index","indexOf","_config$mep10","hasEntitlementTag","values","tag","userEntitlements","_config$mep11","enablePersV2","hasMatch","_userEntitlements","matchVariant","condition","reverse","variant","getPersonalizationVariant","placeholderData","normalizeFragPaths","_ref7","categorizeActions","_selectedVariant$repl","_selectedVariant$inse","_selectedVariant$upda","replacepage","insertscript","script","loadScript","blocks","parseMepParam","mepParam","mepObject","create","decodeURIComponent","pair","compareExecutionOrder","b","cleanAndSortManifestList","manifests","_config$mep13","manifestObj","allManifests","fullManifest","freshManifest","run","sort","handleFragmentCommand","parseNestedPlaceholders","_ref8","_ref9","applyPers","_ref10","_config$mep14","result","main","pznList","r","_r$experiment","pznVariants","pznManifests","martech","combineMepSources","persEnabled","promoEnabled","persManifests","default","getPromoManifests","persManifestPaths","manifestPair","updateManifestsAndPropositions","_ref11","_config$mep15","targetManifests","targetPropositions","addEventListener","_satellite","track","once","targetEnabled","CustomEvent","detail","dispatchEvent","roundToQuarter","num","Math","ceil","sendTargetResponseAnalytics","failure","responseStart","timeoutLocal","_window$_satellite","_window$_satellite$tr","responseTime","Date","now","calculateResponseTime","timeoutTime","call","documentUnloading","xdm","eventType","web","webInteraction","linkClicks","_adobe_corpnew","digitalData","primaryEvent","eventInfo","eventName","handleAlloyResponse","response","_map$flat$map$filter","_ref12","propositions","decisions","items","flat","_item$data","_content$manifestCont","_content$manifestCont2","_content$manifestCont3","_content$manifestCont4","manifestLocation","manifestContent","meta","callMartech","getTargetPersonalization","awaitMartech","Promise","resolve","init","enablements","mepHighlight","mepButton","pzn","promo","target","targetInteractionPromise","calculatedTimeout","postLCP","_config$env2","_config$locale","_manifests","highlight","normalizedURL","_ref13","_config$mep16","targetInteractionData","respTime","respStartTime","_targetInteractionDat","roundedResponseTime","performance","clearMarks","clearMeasures","tags","errorType","error","handleMartechTargetInteraction","_manifests2","_config$mep17","_ref14","saveToMmm","_window$lana2"],"sourceRoot":""}