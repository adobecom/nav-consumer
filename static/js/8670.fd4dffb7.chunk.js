(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8670,5848,3467],{5311:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=5311,e.exports=t},5848:(e,t,n)=>{"use strict";n.r(t),n.d(t,{a:()=>c,b:()=>s,c:()=>d,d:()=>u});var a=n(4112),o={};window.mph={};var l=async(e,t)=>{try{var n;null===(n=(e.ok?await e.json():{data:[]}).data)||void 0===n||n.forEach((e=>{window.mph[e.key]=e.value,t[e.key]=e.value}))}catch(a){window.lana.log("Error parsing placeholder json: ".concat(a.message),{tags:"placeholders",errorType:"e"})}},i=async e=>{let{config:t,sheet:n,placeholderRequest:i,placeholderPath:r}=e,c=r||((e,t)=>{let n="".concat(e.locale.contentRoot,"/placeholders.json"),a="default"!==t&&"string"==typeof t&&t.length?"?sheet=".concat(t):"";return"".concat(n).concat(a)})(t,n);return o[c]||(o[c]=((e,t)=>new Promise((async n=>{let o=await t||await(0,a.K)({resource:e,withCacheRules:!0}).catch((()=>({}))),i={};if(Array.isArray(o))for(let e of o)await l(e,i);else await l(o,i);n(i)})))(c,i)),o[c]};async function r(e,t,n){var o,l;let r,c=!1,s="en-US",d=(0,a.f)("disable-geo-placeholders")||"off",u=()=>{let e=t.locale.contentRoot,n=t.locale.prefix;return n.length?e.endsWith(n)?e.replace(n,""):e.replace("".concat(n,"/"),"/"):e},m=async()=>{let e={locale:{ietf:s,contentRoot:u()}},t=await i({config:e,sheet:n}).catch((()=>({})));return c=!0,t};if(null!==(o=t.placeholders)&&void 0!==o&&o[e])return t.placeholders[e];if(r="on"===d?await m():await i({config:t,sheet:n}),"string"==typeof(null===(l=r)||void 0===l?void 0:l[e]))return r[e];if(!c&&t.locale.ietf!==s){let t=await m();if(null!==t&&void 0!==t&&t[e])return t[e]}return function(e){return e.replaceAll("-"," ")}(e)}async function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return"string"==typeof e&&e.length?await r(e,t,n):""}async function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(!Array.isArray(e)||!e.length)return[];let a=[];return e.forEach((e=>{a.push(r(e,t,n))})),await Promise.all(a)}async function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";if("string"!=typeof e||!e.length)return"";let o=[...e.matchAll(new RegExp(n))];if(!o.length)return e;let l=Array.from(o,(e=>e[1]||e[2])),i=await s(l,t,a),r=0,c=e.replaceAll(n,(()=>i[r++]));return c=c.replace(/&nbsp;/g,"\xa0"),c}async function u(e){let{placeholderPath:t,placeholderRequest:n,nodes:o}=e;if(!o.length)return;let l=(0,a.i)();await i({placeholderPath:t,config:l,placeholderRequest:n});let r=o.map((async e=>{if(e.nodeType===Node.TEXT_NODE)e.nodeValue=await d(e.nodeValue,l);else if(e.nodeType===Node.ELEMENT_NODE){let t=[...e.attributes].map((async e=>{let t=await d(e.value,l);return{name:e.name,value:t}}));(await Promise.all(t)).forEach((t=>{let{name:n,value:a}=t;e.setAttribute(n,a)}))}}));await Promise.all(r)}},8670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CC_ALL_APPS:()=>D,CC_SINGLE_APPS:()=>L,CC_SINGLE_APPS_ALL:()=>N,CHECKOUT_ALLOWED_KEYS:()=>U,CHECKOUT_LINK_CONFIG_PATH:()=>f,CHECKOUT_LINK_SANDBOX_CONFIG_PATH:()=>_,MAS_COMMERCE_SERVICE:()=>i,MAS_MERCH_CARD:()=>r,MAS_MERCH_CARD_COLLECTION:()=>c,MAS_MERCH_MNEMONIC_LIST:()=>s,MAS_MERCH_OFFER_SELECT:()=>d,MAS_MERCH_QUANTITY_SELECT:()=>u,MAS_MERCH_SECURE_TRANSACTION:()=>m,MAS_MERCH_SIDENAV:()=>p,MAS_MERCH_WHATS_INCLUDED:()=>h,MEP_SELECTOR:()=>we,PLACEHOLDER_KEY_DOWNLOAD:()=>S,PRICE_TEMPLATE_ANNUAL:()=>C,PRICE_TEMPLATE_DISCOUNT:()=>v,PRICE_TEMPLATE_LEGAL:()=>A,PRICE_TEMPLATE_OPTICAL:()=>g,PRICE_TEMPLATE_REGULAR:()=>w,PRICE_TEMPLATE_STRIKETHROUGH:()=>E,addAriaLabelToCta:()=>_e,appendDexterParameters:()=>te,buildCta:()=>ve,default:()=>Ae,fetchCheckoutLinkConfigs:()=>J,fetchEntitlements:()=>Z,getCheckoutAction:()=>de,getCheckoutContext:()=>he,getCheckoutLinkConfig:()=>$,getCommerceContext:()=>pe,getDownloadAction:()=>Q,getMasBase:()=>K,getMasLibs:()=>q,getMiloLocaleSettings:()=>R,getModalAction:()=>se,getOptions:()=>Ce,getPriceContext:()=>fe,getUpgradeAction:()=>ee,initService:()=>me,loadMasComponent:()=>X,modalState:()=>oe,openModal:()=>ie,overrideOptions:()=>Ee,polyfills:()=>V,setCtaHash:()=>re,setPreview:()=>ue,updateModalState:()=>le});var a=n(5848),o=n(4112),l=(0,n(6483).a)({"../../deps/mas/commerce.js":()=>n.e(6781).then(n.bind(n,6781)),"../../deps/mas/constants.js":()=>n.e(9995).then(n.bind(n,9995)),"../../deps/mas/merch-card-collection.js":()=>Promise.all([n.e(7166),n.e(8070)]).then(n.bind(n,8070)),"../../deps/mas/merch-card.js":()=>Promise.all([n.e(7166),n.e(2893),n.e(6573)]).then(n.bind(n,2893)),"../../deps/mas/merch-icon.js":()=>Promise.all([n.e(7166),n.e(3852)]).then(n.bind(n,3852)),"../../deps/mas/merch-mnemonic-list.js":()=>Promise.all([n.e(7166),n.e(4695)]).then(n.bind(n,4695)),"../../deps/mas/merch-offer-select.js":()=>Promise.all([n.e(7166),n.e(3822)]).then(n.bind(n,3822)),"../../deps/mas/merch-quantity-select.js":()=>Promise.all([n.e(7166),n.e(865)]).then(n.bind(n,865)),"../../deps/mas/merch-secure-transaction.js":()=>Promise.all([n.e(7166),n.e(1608)]).then(n.bind(n,1608)),"../../deps/mas/merch-sidenav.js":()=>Promise.all([n.e(2222),n.e(4020)]).then(n.bind(n,4020)),"../../deps/mas/merch-stock.js":()=>Promise.all([n.e(7166),n.e(7041)]).then(n.bind(n,7041)),"../../deps/mas/merch-whats-included.js":()=>Promise.all([n.e(7166),n.e(703)]).then(n.bind(n,703)),"../../deps/mas/plans-modal.js":()=>Promise.all([n.e(2222),n.e(8893)]).then(n.bind(n,8893))}),i="commerce",r="merch-card",c="merch-card-collection",s="merch-mnemonic-list",d="merch-offer-select",u="merch-quantity-select",m="merch-secure-transaction",p="merch-sidenav",h="merch-whats-included",f="/commerce/checkout-link.json",_="/commerce/checkout-link-sandbox.json",v="discount",g="optical",w="price",E="strikethrough",C="annual",A="legal",y=new Map([["priceDiscount",v],[v,v],["priceOptical",g],[g,g],["priceStrikethrough",E],[E,E],["priceAnnual",C],[C,C],[A,A]]),S="download",L=[["3D_TEXTURING"],["3DI"],["ACROBAT","ACROBAT_STOCK_BUNDLE"],["AFTEREFFECTS","AFTER_EFFECTS_STOCK_BUNDLE"],["AUDITION","AUDITION_STOCK_BUNDLE"],["CC_EXPRESS"],["FLASH","FLASH_STOCK_BUNDLE"],["DREAMWEAVER","DREAMWEAVER_STOCK_BUNDLE"],["EDGE_ANIMATE"],["ILLUSTRATOR","ILLUSTRATOR_STOCK_BUNDLE"],["INCOPY","INCOPY_STOCK_BUNDLE"],["INDESIGN","INDESIGN_STOCK_BUNDLE"],["PHOTOGRAPHY","PHOTOGRAPHY_STOCK_BUNDLE"],["PHOTOSHOP_LIGHTROOM"],["PHOTOSHOP","PHOTOSHOP_STOCK_BUNDLE"],["PREMIERE","PREMIERE_STOCK_BUNDLE"],["RUSH"],["XD"]],O={en:"US","en-gb":"GB","es-mx":"MX","fr-ca":"CA",da:"DK",et:"EE",ar:"DZ",el:"GR",iw:"IL",he:"IL",id:"ID",ms:"MY",nb:"NO",sl:"SI",sv:"SE",cs:"CZ",uk:"UA",hi:"IN","zh-hans":"CN","zh-hant":"TW",ja:"JP",ko:"KR",fil:"PH",th:"TH",vi:"VN"},T={ar:"AR_es",be_en:"BE_en",be_fr:"BE_fr",be_nl:"BE_nl",br:"BR_pt",ca:"CA_en",ch_de:"CH_de",ch_fr:"CH_fr",ch_it:"CH_it",cl:"CL_es",co:"CO_es",la:"DO_es",mx:"MX_es",pe:"PE_es",africa:"MU_en",dk:"DK_da",de:"DE_de",ee:"EE_et",eg_ar:"EG_ar",eg_en:"EG_en",es:"ES_es",fr:"FR_fr",gr_el:"GR_el",gr_en:"GR_en",ie:"IE_en",il_he:"IL_iw",it:"IT_it",lv:"LV_lv",lt:"LT_lt",lu_de:"LU_de",lu_en:"LU_en",lu_fr:"LU_fr",my_en:"MY_en",my_ms:"MY_ms",hu:"HU_hu",mt:"MT_en",mena_en:"DZ_en",mena_ar:"DZ_ar",nl:"NL_nl",no:"NO_nb",pl:"PL_pl",pt:"PT_pt",ro:"RO_ro",si:"SI_sl",sk:"SK_sk",fi:"FI_fi",se:"SE_sv",tr:"TR_tr",uk:"GB_en",at:"AT_de",cz:"CZ_cs",bg:"BG_bg",ru:"RU_ru",ua:"UA_uk",au:"AU_en",in_en:"IN_en",in_hi:"IN_hi",id_en:"ID_en",id_id:"ID_id",nz:"NZ_en",sa_ar:"SA_ar",sa_en:"SA_en",sg:"SG_en",cn:"CN_zh-Hans",tw:"TW_zh-Hant",hk_zh:"HK_zh-hant",jp:"JP_ja",kr:"KR_ko",za:"ZA_en",ng:"NG_en",cr:"CR_es",ec:"EC_es",pr:"US_es",gt:"GT_es",cis_en:"TM_en",cis_ru:"TM_ru",sea:"SG_en",th_en:"TH_en",th_th:"TH_th"},b={ms:"plan",cs:"plan",e:"edu",t:"team"},P="langstore/";function R(e){var t,n;let a=null!==(t=((null===e||void 0===e?void 0:e.prefix)||"US_en").replace("/",""))&&void 0!==t?t:"",[o="US",l="en"]=(null!==(n=T[a])&&void 0!==n?n:a).split("_",2);if(a.startsWith(P)||window.location.pathname.startsWith("/".concat(P))){let e=a.replace(P,"").toLowerCase();o=function(e){let t=O[e];return!t&&T[e]&&(t=e),!t&&e.includes("-")&&([t]=e.split("-")),t||"US"}(e),l=e}return o=o.toUpperCase(),l=l.toLowerCase(),{language:l,country:o,locale:"".concat(l,"_").concat(o)}}var k,U=["af","ai","apc","appctxid","cli","co","csm","ctx","ctxRtUrl","DCWATC","dp","fr","gsp","ijt","lang","lo","mal","ms","cs","mv","mv2","nglwfdata","ot","otac","pa","pcid","promoid","q","rf","sc","scl","sdid","sid","spint","svar","th","thm","trackingid","usid","workflowid","context.guid","so.ca","so.su","so.tr","so.va","quantity","authCode","checkoutPromoCode","rurl","curl","ctxrturl","country","language","clientId","context","productArrangementCode","offerType","marketSegment"],N=L.flatMap((e=>e)),D=["CC_ALL_APPS","CC_ALL_APPS_STOCK_BUNDLE","CC_PRO"],I="LOCALE",M="PRODUCT_FAMILY",H="FREE_TRIAL_PATH",j="BUY_NOW_PATH",x="FREE_TRIAL_HASH",F="BUY_NOW_HASH",B="TRIAL",G="loading-entitlements",W=null;function K(e,t){let{baseUrl:n}=K;if(!n){if("stage"===t)n="https://www.stage.adobe.com/mas";else if("local"===t)n="http://localhost:9001";else if(t){let a=e.split("."),o="hlx";if(a.length>=2){let t=e.endsWith(".page")?a.length-1:a.length;t>=2&&(o=a[t-2])}let l=/.page$/.test(e)?"page":"live";n="https://".concat(t,".").concat(o,".").concat(l)}else n="https://www.adobe.com/mas";K.baseUrl=n}return n}function q(){let e=new URLSearchParams(window.location.search).get("maslibs");if(!e||""===e.trim())return null;let t=e.trim().toLowerCase();if("local"===t)return"http://localhost:3030/web-components/dist";if("main"===t)return"https://mas.adobe.com/web-components/dist";let{hostname:n}=window.location,a=n.endsWith(".page")?"page":"live";return t.includes("--mas--")||t.includes("--")?"https://".concat(t,".aem.").concat(a,"/web-components/dist"):"https://".concat(t,"--mas--adobecom.aem.").concat(a,"/web-components/dist")}var Y=new Set,z=new Map;async function X(e){if(z.has(e))return z.get(e);if(customElements.get(e))return Promise.resolve();let t=(async()=>{let t=q();if(!t)return l("../../deps/mas/".concat(e,".js"));{let o="".concat(t,"/").concat(e,".js");if(Y.has(o))throw new Error("Failed to load component from ".concat(o));try{return await n(5311)(o)}catch(a){throw Y.add(o),a}}})();return z.set(e,t),t.finally((()=>z.delete(e))),t}async function V(){if(V.promise)return V.promise;let e=!1;if(document.createElement("div",{get is(){e=!0}}),e)V.promise=Promise.resolve();else{let{base:e}=(0,o.i)();V.promise=await(0,o.y)("".concat(e,"/deps/custom-elements.js"))}return V.promise}async function Z(){var e;return Z.promise=null!==(e=Z.promise)&&void 0!==e?e:n.e(1381).then(n.bind(n,1381)).then((e=>{let{default:t}=e;return t({params:[{name:"include",value:"OFFER.PRODUCT_ARRANGEMENT"}],format:"raw"})})),Z.promise}async function J(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="on"===new URLSearchParams(window.location.search).get("checkout-link-sandbox")&&"prod"!==n?"".concat(t).concat(_):"".concat(t).concat(f);return J.promise=null!==(e=J.promise)&&void 0!==e?e:fetch(a).catch((e=>{var t;null===(t=k)||void 0===t||t.error("Failed to fetch checkout link configs",e)})).then((e=>null!==e&&void 0!==e&&e.ok?e.json():{data:[]})),J.promise}async function $(e,t,n){var a;let{base:l}=(0,o.i)(),{env:i}=(0,o.i)();/\.page$/.test(document.location.origin)&&(l=l.replace(".live",".page"));let r=await J(l,i);if(!r.data.length)return;let{locale:{region:c}}=(0,o.i)(),{paCodeConfigs:s,productCodeConfigs:d,productFamilyConfigs:u}=r.data.reduce(((a,o)=>(o[M]===n?a.paCodeConfigs.push(o):o[M]===t?a.productCodeConfigs.push(o):o[M]===e&&a.productFamilyConfigs.push(o),a)),{paCodeConfigs:[],productCodeConfigs:[],productFamilyConfigs:[]}),m=[...s,...d,...u];if(!m.length)return;let p=m.find((e=>{let{[I]:t}=e;return""===t})),h=null!==(a=m.find((e=>{let{[I]:t}=e;return t===c})))&&void 0!==a?a:{},f={...p,...Object.fromEntries(Object.entries(h).filter((e=>{let[,t]=e;return t})))};return Object.entries(f).forEach((e=>{let[t,n]=e;("X"===n||"\u274c"===n)&&(f[t]="")})),f}async function Q(e,t,n){var l;let[{offerType:i,productArrangementCode:r,productArrangement:{productCode:c,productFamily:s}={}}]=n;if(!0!==e.entitlement||!await t)return;let d=await Z();if(null===d||void 0===d||!d.length)return;let u=await $(s,c,r);if(null===u||void 0===u||!u.DOWNLOAD_URL||!d.find((e=>{var t;let{offer:{product_arrangement:{family:n}}}=e;return!!D.includes(n)||!D.includes(s)&&(null===(t=L.find((e=>e.includes(s))))||void 0===t?void 0:t.includes(n))})))return;let m=(0,o.i)(),p=await(0,a.a)(u.DOWNLOAD_TEXT||S,m),h=(0,o.s)(u.DOWNLOAD_URL),f=null!==(l=null===i||void 0===i?void 0:i.toLowerCase())&&void 0!==l?l:"";return{text:p,className:"download ".concat(f),url:h}}async function ee(e,t,a){var o;let[{productArrangement:{productFamily:l}={}}]=a;if(!e.upgrade||!await t)return;let i=await Z();if(null===W&&(W=void 0,W=await document.querySelector(".merch-offers.upgrade [data-wcs-osi]")),await(null===(o=W)||void 0===o?void 0:o.onceSettled()),W&&null!==i&&void 0!==i&&i.length&&l){let{default:e}=await n.e(3947).then(n.bind(n,6328));return await e(l,W,i,N,D)}}function te(e,t,n){let a,o=e.startsWith("/");try{a=new URL(o?"".concat(window.location.origin).concat(e):e)}catch(i){var l;return null!==(l=window.lana)&&void 0!==l&&l.log("Invalid URL ".concat(e," : ").concat(i)),e}return a=function(e,t){if(!t)return e;let n=JSON.parse(t);return Object.keys(n).forEach((t=>{if(U.includes(t)){var a,o;let l=n[t];e.searchParams.set(null!==(a=b[t])&&void 0!==a?a:t,null!==(o=b[l])&&void 0!==o?o:l)}})),e}(a,t),a=function(e,t){(null===t||void 0===t?void 0:t.is3in1Modal)&&("EDU"===t.marketSegment?e.searchParams.set("plan","edu"):"TEAM"===t.customerSegment&&e.searchParams.set("plan","team"));let n=document.querySelector('meta[name="preselect-plan"]');return null!==n&&void 0!==n&&n.content&&e.searchParams.set("plan",n.content),e}(a,n),o?a.href.replace(window.location.origin,""):a.href}var ne=e=>/\/fragments\//.test(e),ae=e=>{e&&(document.querySelectorAll("#".concat(e)).forEach((t=>{var n;if(t.classList.contains("dialog-modal")){let n=document.querySelector("#".concat(e,"~.modal-curtain"));n&&n.remove(),t.remove()}null===(n=document.querySelector('[data-modal-hash="#'.concat(t.id,'"]')))||void 0===n||n.focus()})),document.querySelectorAll(".modal-curtain").length||document.body.classList.remove("disable-scroll"),[...document.querySelectorAll("header, main, footer")].forEach((e=>e.removeAttribute("aria-disabled"))))},oe={isOpen:!1};async function le(){var e;let{cta:t,closedByUser:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hash:o}=window.location;if(null!==o&&void 0!==o&&o.includes("=")){let e=document.querySelector(".dialog-modal");return e&&(oe.isOpen=!1,ae(e.id)),oe.isOpen}let l=document.querySelector(".dialog-modal".concat(o))||document.querySelector(".dialog-modal#checkout-link-modal"),i=null!==l&&void 0!==l&&null!==(e=l.id)&&void 0!==e&&e.includes("locale-modal")?null:l;if(o&&!t&&oe.isOpen&&!i){let e=document.querySelector(".dialog-modal");return e&&(ae(e.id),oe.isOpen=!1),oe.isOpen}if(o&&!t&&!oe.isOpen&&!i){let e=document.querySelector("[is=checkout-link][data-modal-id=".concat(o.replace("#",""),"]"));return e&&!e.dataset.clickDisabled&&(e.dataset.clickDisabled="true",e.click(),oe.isOpen=!0,setTimeout((()=>{delete e.dataset.clickDisabled}),1e3)),oe.isOpen}if(o&&o==="#".concat(null===t||void 0===t?void 0:t.getAttribute("data-modal-id"))&&!oe.isOpen&&!i)return t.click(),oe.isOpen=!0,oe.isOpen;if(a&&document.querySelector("#checkout-link-modal")||a&&i)return oe.isOpen=!1,oe.isOpen;if(!o&&i){oe.isOpen=!1;let{closeModal:e}=await n.e(1806).then(n.bind(n,1806));e(i)}return oe.isOpen}async function ie(e,t,a,l,i,r){if(e.preventDefault(),e.stopImmediatePropagation(),oe.isOpen)return;oe.isOpen=!0;let{getModal:c}=await n.e(1806).then(n.bind(n,1806));await n.e(846).then(n.bind(n,846));let s,d=a===B?"twp":"crm";if(l&&(window.location.hash=l),null!==r&&void 0!==r&&r.isOpen3in1Modal){let{default:e,handle3in1IFrameEvents:t}=await Promise.all([n.e(7166),n.e(6979)]).then(n.bind(n,6979));return window.addEventListener("message",t),void(document.querySelector(".dialog-modal.three-in-one")||(s=await e(r)))}if(ne(t)){let e=t.split(/(hlx|aem).(page|live)/).pop();s=await async function(e,t){let n=(0,o.r)("div");n.style.visibility="hidden",(0,o.r)("a",{href:"".concat(e)},"",{parent:n});let a=await t(null,{id:"checkout-link-modal",content:n,closeEvent:"closeModal",class:"commerce-frame"});return await(0,o.W)(a),n.style.visibility="",a}(e,c)}else s=await async function(e,t,n,a){(0,o.u)("".concat((0,o.i)().base,"/blocks/iframe/iframe.css"));let l=(0,o.r)("div",{class:"milo-iframe"}),i=te(e,n,a);return(0,o.r)("iframe",{src:i,frameborder:"0",marginwidth:"0",marginheight:"0",allowfullscreen:"true",loading:"lazy"},"",{parent:l}),t(null,{id:"checkout-link-modal",content:l,closeEvent:"closeModal",class:"commerce-frame"})}(t,c,i,r);s.classList.add(d)}function re(e,t,n){if(!(e&&t&&n))return;let a=t["".concat(n===B?x:F)];return a&&e.setAttribute("data-modal-id",a),a}var ce=e=>{try{return new URL(e).hostname.endsWith(".adobe.com")}catch{return!1}};async function se(e,t,n){if(!t.modal)return;let a="off"!==new URLSearchParams(window.location.search).get("commerce.preload");if(null!==n&&void 0!==n&&n.isOpen3in1Modal&&a){let e=function(){let{env:e}=(0,o.i)();return"prod"===e.name?"https://commerce.adobe.com/store/iframe/preload.js":"https://commerce-stg.adobe.com/store/iframe/preload.js"}(),t="creative";window.milo.deferredPromise.then((()=>{setTimeout((()=>{(0,o.y)("".concat(e,"?cli=").concat(t),"text/javascript",{mode:"defer",id:"ucv3-preload-script"})}),1e3)}))}let[{offerType:l,productArrangementCode:i,productArrangement:{productCode:r,productFamily:c}={}}]=null!==e&&void 0!==e?e:[{}],s=await $(c,r,i);if(!s)return;let d=l===B?H:j,u=re(n,s,l),m=s[d];return m||null!==n&&void 0!==n&&n.isOpen3in1Modal?(m=ne(m)||ce(m)?(0,o.s)(s[d]):s[d],{url:m,handler:e=>ie(e,m,l,u,t.extraOptions,n)}):void 0}async function de(e,t,n,a){try{await n;let[o,l,i]=await Promise.all([Q(t,n,e),ee(t,n,e),se(e,t,a)]);return o||l||i}catch(l){var o;return null!==(o=k)&&void 0!==o&&o.error("Failed to resolve checkout action",l),[]}}function ue(e){let{host:t}=window.location;(t.includes("".concat(o.b,".page"))||"www.stage.adobe.com"===t)&&(e.preview="on")}async function me(){var e,t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(me.promise=void 0,null!==(e=document.head.querySelector("mas-commerce-service"))&&void 0!==e&&e.remove(),Z.promise=void 0,J.promise=void 0);let{commerce:l,env:r,locale:c}=(0,o.i)();return["checkout-workflow-step","force-tax-exclusive","checkout-client-id","allow-override"].forEach((e=>{let t=e.replace(/-([a-z])/g,(e=>e[1].toUpperCase()));if(null!==l&&void 0!==l&&l.hasOwnProperty(t)){let n=l[t];delete l[t],l[e]=n}})),me.promise=null!==(t=me.promise)&&void 0!==t?t:V().then((async()=>{var e;await X(i);let t=function(){let e=new URLSearchParams(window.location.search).get("maslibs");if(!e||""===e.trim())return null;let t=e.trim().toLowerCase();if("local"===t)return"http://localhost:3030/studio/libs/fragment-client.js";if("main"===t)return"https://mas.adobe.com/studio/libs/fragment-client.js";let{hostname:n}=window.location,a=n.endsWith(".page")?"page":"live";return t.includes("--mas--")||t.includes("--")?"https://".concat(t,".aem.").concat(a,"/studio/libs/fragment-client.js"):"https://".concat(t,"--mas--adobecom.aem.").concat(a,"/studio/libs/fragment-client.js")}();if(t){let{loadScript:e}=await n.e(165).then(n.bind(n,165));try{await e(t,"module")}catch(h){var s;null===(s=k)||void 0===s||s.error("Failed to load fragment-client.js:",h)}}let{language:d,locale:u,country:m}=R(c),p=document.head.querySelector("mas-commerce-service");return p||(ue(a),p=(0,o.r)("mas-commerce-service",{locale:u,language:d,...a,...l}),"prod"!==(null===r||void 0===r?void 0:r.name)&&p.setAttribute("allow-override",""),"function"==typeof p.registerCheckoutAction&&p.registerCheckoutAction(de),document.head.append(p),await p.readyPromise,"function"!=typeof p.prefillWcsCache&&(p.prefillWcsCache=()=>{var e;null===(e=k)||void 0===e||e.warn("prefillWcsCache not available in this version of commerce service")}),null!==(e=p.imsSignedInPromise)&&void 0!==e&&e.then((e=>{e&&Z()}))),"AU"===m&&(0,o.u)("".concat((0,o.i)().base,"/blocks/merch/au-merch.css")),p})),me.promise}async function pe(e,t){var n,a,o;let l=t.get("osi");if(!l)return null;let i="true"===t.get("perp")||void 0;return{promotionCode:(null!==(n=null!==(a=t.get("promo"))&&void 0!==a?a:t.get("promotionCode"))&&void 0!==n?n:null===(o=e.closest("[data-promotion-code]"))||void 0===o?void 0:o.dataset.promotionCode)||void 0,perpetual:i,wcsOsi:l}}async function he(e,t){var n;let a=await pe(e,t);if(!a)return null;let{settings:o}=await me(),{checkoutClientId:l}=o,i=t.get("marketSegment"),r=null!==(n=null===t||void 0===t?void 0:t.get("workflowStep"))&&void 0!==n?n:o.checkoutWorkflowStep,c=null===t||void 0===t?void 0:t.get("entitlement"),s=null===t||void 0===t?void 0:t.get("upgrade"),d=null===t||void 0===t?void 0:t.get("modal"),u={};return t.forEach(((e,t)=>{U.includes(t)&&(u[t]=e)})),{...a,checkoutClientId:l,checkoutWorkflowStep:r,checkoutMarketSegment:i,entitlement:c,upgrade:s,modal:d,extraOptions:JSON.stringify(u)}}async function fe(e,t){var n;let a=await pe(e,t);if(!a)return null;let l=(0,o.f)("mas-ff-annual-price"),i=a.promotionCode?t.get("old"):void 0,r=t.get("seat"),c=t.get("term"),s=t.get("tax"),d=t.get("planType"),u=l&&"false"!==t.get("annual")||void 0,m=t.get("exclusive"),p=t.get("alt"),h=null!==(n=y.get(t.get("type")))&&void 0!==n?n:w;return{...a,displayOldPrice:i,displayPerUnit:r,displayRecurrence:c,displayTax:s,displayPlanType:d,displayAnnual:u,forceTaxExclusive:m,alternativePrice:p,template:h}}async function _e(e){var t;let n=null===(t=e.value[0])||void 0===t||null===(t=t.productArrangement)||void 0===t?void 0:t.productCode,{marketSegment:l,customerSegment:i}=e,r="EDU"===l?l:i,c=e.textContent;c=n?"".concat(c," - ").concat(await(0,a.a)(n,(0,o.i)())):c,c=r?"".concat(c," - ").concat(await(0,a.a)(r,(0,o.i)())):c,e.setAttribute("aria-label",c)}async function ve(e,t){var a,l,i;let r=!!e.closest(".marquee"),c="STRONG"===(null===(a=e.firstElementChild)||void 0===a?void 0:a.tagName)||"STRONG"===(null===(l=e.parentElement)||void 0===l?void 0:l.tagName);e.closest(".merch-offers.upgrade")&&t.append("entitlement","false");let s=await he(e,t);if(!s)return null;let d=await me(),u=null===(i=e.textContent)||void 0===i?void 0:i.replace(/^CTA +/,""),m=d.createCheckoutLink(s,u);if(e.href.includes("#_tcl")?e.href=e.href.replace("#_tcl",""):(m.classList.add("con-button"),m.classList.toggle("button-l",r),m.classList.toggle("blue",c)),"false"!==s.entitlement&&(m.classList.add(G),m.onceSettled().finally((()=>{m.classList.remove(G),le({cta:m})}))),e.ariaLabel?m.setAttribute("aria-label",e.ariaLabel):m.ariaLabel||m.onceSettled().then((async()=>{await _e(m)})),"on"===(0,o.f)("mas-ff-copy-cta")){let{default:t}=await n.e(289).then(n.bind(n,289));return t(e,m)}return m.onceSettled().then((()=>{var t,n;let a=null===(t=(0,o.i)())||void 0===t||null===(t=t.locale)||void 0===t?void 0:t.prefix;if("/kr"===a&&(null===(n=m.value[0])||void 0===n?void 0:n.offerType)===B){if((0,o.o)(e,a))return void m.classList.remove("hidden-osi-trial-link");m.remove()}})),m}async function ge(e,t){let n=await fe(e,t);return n?(await me()).createInlinePrice(n):null}var we="mas";function Ee(e,t){var n;let{mep:a}=(0,o.i)(),l=null===a||void 0===a||null===(n=a.inBlock)||void 0===n||null===(n=n[we])||void 0===n?void 0:n.fragments;if(l){let n=l[e];if(n&&"replace"===n.action)return{...t,fragment:n.content}}return t}function Ce(e){let{hash:t}=new URL(e.href),n=t.startsWith("#")?t.substring(1):t,a=new URLSearchParams(n),o={};for(let[l,i]of a.entries())"sidenav"===l?o.sidenav="true"===i:("fragment"===l||"query"===l)&&(o.fragment=i);return o}async function Ae(e){var t;if(null===e||void 0===e||null===(t=e.classList)||void 0===t||!t.contains("merch"))return;let{searchParams:n}=new URL(e.href),a=await("checkoutUrl"===n.get("type")?ve:ge)(e,n);return k=(await me()).Log.module("merch"),a?(k.debug("Rendering:",{options:{...a.dataset},merch:a,el:e}),e.replaceWith(a),a):(k.warn("Failed to get context:",{el:e}),null)}window.addEventListener("hashchange",le),window.addEventListener("popstate",le),window.addEventListener("milo:modal:closed",(()=>{le({closedByUser:!0})}))}}]);
//# sourceMappingURL=8670.fd4dffb7.chunk.js.map