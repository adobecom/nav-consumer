"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[2343],{2343:(e,t,n)=>{n.r(t),n.d(t,{PERSONALIZATION_TAGS:()=>l,TRACKED_MANIFEST_TYPE:()=>w,addMepAnalytics:()=>le,applyPers:()=>ge,buildVariantInfo:()=>ne,categorizeActions:()=>de,cleanAndSortManifestList:()=>fe,combineMepSources:()=>he,createContent:()=>N,createMartechMetadata:()=>Y,deleteMarkedEls:()=>$,getEntitlementMap:()=>ie,getEntitlements:()=>oe,getFileName:()=>C,getManifestConfig:()=>se,handleCommands:()=>G,handleFragmentCommand:()=>pe,init:()=>Ce,matchGlob:()=>U,modifyNonFragmentSelector:()=>D,normalizePath:()=>M,parseManifestVariants:()=>K,parseNestedPlaceholders:()=>ve,parsePlaceholders:()=>Q,replaceInner:()=>F,replacePlaceholders:()=>A,updateFragDataProps:()=>Z});var a=n(7405),i=n(4114),o=window.screen.width<550||window.screen.height<550,r=navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints>1,l={all:()=>!0,chrome:()=>navigator.userAgent.includes("Chrome")&&!navigator.userAgent.includes("Edg"),firefox:()=>navigator.userAgent.includes("Firefox"),safari:()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),edge:()=>navigator.userAgent.includes("Edg"),android:()=>navigator.userAgent.includes("Android"),ios:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||r,windows:()=>navigator.userAgent.includes("Windows"),mac:()=>navigator.userAgent.includes("Macintosh")&&!r,"mobile-device":()=>r||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i.test(navigator.userAgent),phone:()=>l["mobile-device"]()&&o,tablet:()=>l["mobile-device"]()&&!o,desktop:()=>!l["mobile-device"](),loggedout:()=>{var e;return!(null!==(e=window.adobeIMS)&&void 0!==e&&e.isSignedInUser())},loggedin:()=>{var e;return!(null===(e=window.adobeIMS)||void 0===e||!e.isSignedInUser())}},s=Object.keys(l),c="p13n-deleted",d="p13n-replaced",m="not ",u="target-",f="_inline",p="martechReturned",v=new URL(window.location.href),g={all:"all",includeFragments:"include-fragments"},h=!1,w="personalization",b=/[^a-z0-9\- _,&=]/g,y=["action","selector","pagefilter","page filter","page filter optional"],P={JSON:"json",TEXT:"text"},E="in-block:",M=function(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e;if(null===(t=o)||void 0===t||!t.includes("/"))return o;const r=(0,i.getConfig)();if(o.startsWith("https://www.adobe.com/federal/"))return(0,a.getFederatedUrl)(o);if(o.startsWith(r.codeRoot)||o.includes(".hlx.")||o.includes(".aem.")||o.includes(".adobe."))try{const e=new URL(o),t=e.pathname.split("/")[1];o=!n||"en-US"===r.locale.ietf||e.hash.includes("#_dnt")||t in r.locales||o.includes(".json")?e.pathname:"".concat(r.locale.prefix).concat(e.pathname)}catch(l){}else o.startsWith("http")||o.startsWith("/")||(o="/".concat(o));return o},C=e=>null===e||void 0===e?void 0:e.split("/").pop(),I=["insertscript","replacepage","updatemetadata","useblockcode"],k={insertafter:"afterend",insertbefore:"beforebegin",prepend:"afterbegin",append:"beforeend"},L={remove:"remove",replace:"replace"};function T(e,t,n){t&&(e.dataset.manifestId=t),n&&(e.dataset.adobeTargetTestid=n)}function x(e){const t=e.toLowerCase().trim();return t.startsWith("/")||t.startsWith("http")?"fragment":"other"}function A(e,t){const n=t||(0,i.getConfig)().placeholders;if(!n)return e;let a=e;const o=a.match(/{{(.*?)}}/g);return o?(o.forEach((e=>{const t=e.replace(/{{|}}/g,"").trim();n[t]&&(a=a.replace(e,n[t]))})),a):a}var S=(e,t,n,a,o)=>{"replace"===t&&e.classList.add(c,d);let r=n;try{const{pathname:e,search:t,hash:a}=new URL(n);r="".concat(e).concat(t).concat(a)}catch{}const l=(0,i.createTag)("a",{href:r},n);T(l,a,o);const s=(0,i.createTag)("p",void 0,l);return/#.*delay=/.test(r)&&s.classList.add("hide-block"),(e=>{const t=document.querySelector("body > main > div");return t===e||(null===t||void 0===t?void 0:t.contains(e))})(e)&&(0,i.loadLink)("".concat((0,i.localizeLink)(l.href),".plain.html"),{as:"fetch",crossorigin:"anonymous",rel:"preload"}),s},N=(e,t)=>{let{content:n,manifestId:a,targetManifestId:o,action:r,modifiers:l}=t;if("replace"===r&&T(e,a,o),"A"===(null===e||void 0===e?void 0:e.nodeName)&&null!==l&&void 0!==l&&l.includes("href"))return e.setAttribute("href",((e,t,n)=>{const a=e.getAttribute("href"),i=A(t);return"insertafter"===n||"append"===n?"".concat(a).concat(i):"insertbefore"===n||"prepend"===n?"".concat(i).concat(a):i})(e,n,r)),T(e,a,o),e;if("fragment"!==x(n)){const t=A(n);if("replace"===r)return e.innerHTML=t,e;const l=(0,i.createTag)("div",{},t);return T(l,a,o),l}const s=S(e,r,n,a,o);return T(s,a,o),"MAIN"!==(null===e||void 0===e?void 0:e.parentElement.nodeName)?s:(0,i.createTag)("div",void 0,s)},O={[L.remove]:(e,t)=>{let{content:n,manifestId:a}=t;"false"!==n&&(a?e.dataset.removedManifestId=a:e.classList.add(c))},[L.replace]:(e,t)=>{e&&!e.classList.contains(d)&&e.insertAdjacentElement("beforebegin",N(e,t))}},j=function(){var e;null!==(e=(0,i.getConfig)().mep)&&void 0!==e&&e.preview&&console.log(...arguments)},V=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.JSON;try{const n=await fetch(M(e));if(!n.ok){if(404===n.status)throw new Error("File not found");throw new Error("Invalid response: ".concat(n.status," ").concat(n.statusText))}return await n[t]()}catch(n){j("Error loading content: ".concat(e),n.message||n)}return null},W=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce(((e,n)=>[...e,...n[t]||[]]),n)},z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(((e,a)=>{var i;return null===(i=a[t])||void 0===i||i.forEach((n=>{const{selector:i,val:o}=n;if("blocks"===t)return void(e[i]=o);if(i in e)return;const r={action:n.action,fragment:o,selector:i,manifestPath:a.manifestPath,manifestId:n.manifestId,targetManifestId:n.targetManifestId};for(const t in e)e[t].fragment===i&&(e[t]=r);e[i]=r})),{...n,...e}}),{})},U=(e,t)=>{const n=e.replace(/\*\*/g,".*");return new RegExp("^".concat(n,"(\\.html)?$"),"i").test(t)};async function F(e,t){if(!e||!t)return!1;let n=e.endsWith("/")?"".concat(e,"index"):e;n=n.endsWith(".plain.html")?n:"".concat(n,".plain.html");const a=await V(n,P.TEXT);if(!a)return!1;t.innerHTML=a;const{decorateArea:o}=(0,i.getConfig)();return o&&o(t),!0}var R=e=>{const{selector:t,val:n}=e;if(!t||!n)return;const a=t.startsWith("og:")?"property":"name";let o=document.querySelector("meta[".concat(a,'="').concat(t,'"]'));o||(o=(0,i.createTag)("meta",{[a]:t}),document.head.append(o)),o.setAttribute("content",n)};function _(e){return Object.keys(e).reduce(((t,n)=>{var a;return t[(a=n,a.toLowerCase().replace(b,""))]=e[n],t}),{})}var B=(e,t)=>e?t.replace(e,":nth-child(".concat(e,")")):t;function q(e){let t=e;const n={section:"main > div","primary-cta":"strong a","secondary-cta":"em a","action-area":"*:has(> em a, > strong a)","any-marquee-section":'main > div:has([class*="marquee"])',"any-marquee":'[class*="marquee"]',"any-header":":is(h1, h2, h3, h4, h5, h6)"},a=t.match(/^[a-zA-Z/./-]*/),i=a?a[0].toLowerCase():"",o=i.split(/\.|:/)[0],r=t.match(/[0-9]*$/),l=r&&i.match(/^[a-zA-Z]/)?r[0]:"";return!i||["html","body","header","footer","main","div","a","p","strong","em","picture","source","img","h","ul","ol","li"].includes(i)?t:["row","col"].includes(i)?(t=t.replace(i,"> div"),t=B(l,t),t):Object.keys(n).includes(o)?(t=t.replace(o,n[o]),t=B(l,t),t):(i.startsWith(".")||(t=".".concat(t)),l&&(t=t.replace(l,""),t="".concat(t,":nth-child(").concat(l," of ").concat(t,")")),t)}function D(e){const{sel:t,modifiers:n}=function(e){let t=e;const n=[],a=t.split(/\s+#_/);return a.length&&(t=a.shift(),a.forEach((e=>{e.split(/_|#_/).forEach((e=>n.push(e.toLowerCase().trim())))}))),{sel:t,modifiers:n}}(e);return{modifiedSelector:t.split(">").join(" > ").split(",").join(" , ").replaceAll(/main\s*>?\s*(section\d*)/gi,"$1").split(/\s+/).map(q).join(" ").trim(),modifiers:n}}var J=(e,t)=>{if(!t)return e;try{const{origin:n,pathname:a,search:i}=new URL(e);return"".concat(n).concat(a).concat(i,"#").concat(t)}catch(n){return"".concat(e,"#").concat(t)}},H=(e,t,n)=>{[...e[0].children].forEach((e=>e.dataset[t]=n))},Z=(e,t,n,a)=>{const{manifestId:i,adobeTargetTestid:o}=e.dataset;t?(i&&H(n,"manifestId",i),o&&H(n,"adobeTargetTestid",o)):T(a,i,o)},$=function(){[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".".concat(c))].forEach((e=>e.remove()))};function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=document.querySelector("main > div");return e.forEach((e=>{const{action:l,content:s,selector:c}=e;if(e.content=n?J(s,f):s,c.startsWith(E))return function(e){var t,n,o,r,l,s;const c=e.selector.substring(E.length).trim().split(/\s+/),[d]=c,m=(0,i.getConfig)();let u;if(null!==(n=(t=m.mep).inBlock)&&void 0!==n||(t.inBlock={}),null!==(r=(o=m.mep.inBlock)[d])&&void 0!==r||(o[d]={}),1===c.length&&delete e.selector,c.length>1&&(u=c.slice(1).join(" "),e.selector=u,"fragment"===x(u))){var f,p;u.includes("/federal/")&&(u=(0,a.getFederatedUrl)(u)),e.content.includes("/federal/")&&(e.content=(0,a.getFederatedUrl)(e.content)),null!==(p=(f=m.mep.inBlock[d]).fragments)&&void 0!==p||(f.fragments={});const{fragments:t}=m.mep.inBlock[d];if(delete e.selector,u in t)return;for(const n in t)t[n].content===u&&(t[n]=e);t[u]=e,u=M(u);for(const n in t)t[n].content===u&&(t[n]=e);t[u]=e}else null!==(s=(l=m.mep.inBlock[d]).commands)&&void 0!==s||(l.commands=[]),m.mep.inBlock[d].commands.push(e)}(e),void(e.selectorType=E);const{els:d,modifiers:m}=function(e,t,n){const a=n?t:document,i=e.trim();if(!i)return{};if("fragment"===x(i))try{return{els:a.querySelectorAll('a[href*="'.concat(M(i,!1),'"], a[href*="').concat(M(i,!0),'"]')),modifiers:[g.all,g.includeFragments]}}catch(s){return{els:[],modifiers:[]}}const{modifiedSelector:o,modifiers:r}=D(i);let l;try{l=a.querySelectorAll(o)}catch(s){return j("Invalid selector: ",i),null}return r.includes(g.all)||!l.length||(l=[l[0]]),{els:l,modifiers:r}}(c,t,o);e.modifiers=m,null===d||void 0===d||d.forEach((n=>{if(!n||!(l in O)&&!(l in k)||t&&!t.contains(n)||h&&null!==r&&void 0!==r&&r.contains(n))return;if(l in O)return void O[l](n,e);const a="fragment"===x(c)?n.parentElement:n;null===a||void 0===a||a.insertAdjacentElement(k[l],N(n,e))})),(d.length&&!e.modifiers.includes(g.all)||!e.modifiers.includes(g.includeFragments))&&(e.completed=!0)})),$(t),e.filter((e=>!e.completed&&e.selectorType!==E))}var X=(e,t,n,a,o)=>{var r,l,s;const c=(0,i.getConfig)();let d=C(a),m=d.replace(".json","");o&&(m=o),null!==(r=c.mep)&&void 0!==r&&r.preview||(d=!1);const f=null===(l=e.action)||void 0===l?void 0:l.toLowerCase().replace("content","").replace("fragment","").replace("tosection","");if(!f)return void j("Row found with empty action field: ",e);const p=e["page filter"]||e["page filter optional"],{selector:g}=e;if(p&&!U(p,new URL(window.location).pathname))return;null!==(s=c.mep)&&void 0!==s&&s.preview||(d=!1);const{origin:h}=v;t.forEach((t=>{const a=!!t.startsWith(u)&&m;if(!e[t]||"false"===e[t].toLowerCase())return;const i={action:f,selector:g,pageFilter:p,content:e[t],selectorType:x(g),manifestId:d,targetManifestId:a};if(f in O&&"fragment"===i.selectorType)n[t].fragments.push({selector:M(i.selector.split(" #_")[0]),val:M(e[t]),action:f,manifestId:d,targetManifestId:a});else if(I.includes(f))if(n[t][f]=n[t][f]||[],"useblockcode"===f){const{blockSelector:i,blockTarget:o}=((e,t,n)=>{var a,i,o,r;let l=e;null!==(a=l)&&void 0!==a&&a.includes("\\")&&(l=null===(i=l)||void 0===i?void 0:i.split("\\").join("/")),null!==(o=l)&&void 0!==o&&o.startsWith("/")||(l="/".concat(l));const s=null===(r=l)||void 0===r?void 0:r.split("/").pop();return l=l.startsWith("/libs/")?"".concat(t.miloLibs||t.codeRoot).concat(l.replace("/libs","")):"".concat(n).concat(l),{blockSelector:s,blockTarget:l}})(e[t],c,h);n[t][f].push({selector:i,val:o,pageFilter:p,manifestId:d,targetManifestId:a})}else n[t][f].push({selector:M(g),val:M(e[t]),pageFilter:p,manifestId:d,targetManifestId:a});else(f in O||f in k)&&n[t].commands.push(i)}))};function K(e,t,n){if(null===e||void 0===e||!e.length)return null;const a={},o=e.map((e=>_(e)));try{var r;const e={},l=Object.keys(o[0]).filter((e=>!y.includes(e)));l.forEach((t=>{e[t]={commands:[],fragments:[]}})),o.forEach((a=>{X(a,l,e,t,n)})),a.variants=e,a.variantNames=l;return null!==(r=(0,i.getConfig)().mep)&&void 0!==r&&r.preview||(a.manifestId=!1),a}catch(l){j("error parsing personalization manifestConfig:",l,o)}return null}async function Y(e,t,a){"en-US"!==t.locale.ietf&&await n.e(7923).then(n.bind(n,7923)).then((n=>{var i,o;let{processTrackingLabels:r}=n;null!==(o=(i=t.mep).analyticLocalization)&&void 0!==o||(i.analyticLocalization={}),e.forEach(((n,i)=>{const o=e[i];let l=o["en-us"]||o.us||o.en||o.key;if(!l)return;l=r(l);const s=r(n[a]);t.mep.analyticLocalization[s]=l}))}))}function Q(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null===e||void 0===e||!e.length||"default"===a)return t;const i=[a.toLowerCase(),null===(n=t.mep)||void 0===n?void 0:n.geoPrefix,t.locale.region.toLowerCase(),t.locale.ietf.toLowerCase(),...t.locale.ietf.toLowerCase().split("-"),"value","other"],o=(null!==e&&void 0!==e&&e.length?Object.entries(e[0]):[]).find((e=>{let[t]=e;return i.includes(t.toLowerCase())})),r=null===o||void 0===o?void 0:o[0];if(r){const n=e.reduce(((e,t)=>(e[t.key]=t[r],e)),{});t.placeholders={...t.placeholders||{},...n}}return Y(e,t,r),t}var ee=e=>{const[t,n]=e.split("param-")[1].split("=");if(!t)return!1;const a=new URLSearchParams(Array.from(v.searchParams,(e=>{let[t,n]=e;return[t.toLowerCase(),null===n||void 0===n?void 0:n.toLowerCase()]}))).get(t.toLowerCase());return null!==a&&(!n||n===a)};function te(e){return e.map((e=>e.trim())).filter(Boolean)}function ne(e){return e.reduce(((e,t)=>{let n=[t];return t.startsWith(u)||(n=t.split(",")),e[t]=te(n),e.allNames=[...e.allNames,...te(t.split(/[,&]|\bnot\b/))],e}),{allNames:[]})}var ae=e=>{var t;const n="prod"===(null===(t=e.env)||void 0===t?void 0:t.name)?"prod":"stage";return"https://www.adobe.com/federal/assets/data/mep-xlg-tags.json?sheet=".concat(n)},ie=async()=>{var e,t,n;const a=(0,i.getConfig)();if(null!==(e=a.mep)&&void 0!==e&&e.entitlementMap)return a.mep.entitlementMap;const o=ae(a),r=await V(o,P.JSON);if(!r)return a.consumerEntitlements||{};const l={};return null===r||void 0===r||null===(t=r.data)||void 0===t||t.forEach((e=>{const{id:t,tagname:n}=e;l[t]=n})),null!==(n=a.mep)&&void 0!==n||(a.mep={}),a.mep.entitlementMap={...a.consumerEntitlements,...l},a.mep.entitlementMap},oe=async e=>{const t=await ie();return e.flatMap((e=>{var n;return(null===(n=e.segments)||void 0===n?void 0:n.flatMap((e=>{const n=t[e.id];return n?[n]:[]})))||[]}))};var re=e=>({disabled:e.disabled,event:e.event,manifest:e.manifestPath,executionOrder:"1-1",selectedVariant:{commands:[],fragments:[]},selectedVariantName:"default",variantNames:["all"],variants:{}}),le=(e,t)=>{var n;null===(n=e.mep)||void 0===n||null===(n=n.experiments)||void 0===n||n.forEach((e=>{var n,a;(null===e||void 0===e||null===(n=e.selectedVariant)||void 0===n||null===(n=n.useblockcode)||void 0===n||n.forEach((e=>{let{selector:t,targetManifestId:n}=e;t&&n&&document.querySelectorAll(".".concat(t)).forEach((e=>e.dataset.adobeTargetTestid=n))})),t)&&(null===e||void 0===e||null===(a=e.selectedVariant)||void 0===a||null===(a=a.updatemetadata)||void 0===a||a.forEach((e=>{"gnav-source"===(null===e||void 0===e?void 0:e.selector)&&e.targetManifestId&&(t.dataset.adobeTargetTestid=e.targetManifestId)})))}))};async function se(){var e,t,n,a,o;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{name:d,manifestData:f,manifestPath:p,manifestUrl:v,manifestPlaceholders:g,manifestInfo:h,variantLabel:b,disabled:y,event:E}=r;if(y&&(!c||!Object.keys(c).length))return re(r);let C=f;if(!C){const e=await V(p,P.JSON);V&&(C=e)}const I=(null===(e=C)||void 0===e||null===(e=e.experiences)||void 0===e?void 0:e.data)||(null===(t=C)||void 0===t?void 0:t.data)||C;if(!I)return null;const k=h||(null===(n=C)||void 0===n||null===(n=n.info)||void 0===n?void 0:n.data),L=null===k||void 0===k?void 0:k.reduce(((e,t)=>(e[t.key]=t.value,e)),{}),T=null===L||void 0===L||null===(a=L["manifest-override-name"])||void 0===a?void 0:a.toLowerCase(),x=K(I,p,d||T);if(!x)return j("Error loading personalization manifestConfig: ",d||p),null;const A={"manifest-type":["Personalization","Promo","Test"],"manifest-execution-order":["First","Normal","Last"]};if(k){var S;x.manifestType=null===L||void 0===L||null===(S=L["manifest-type"])||void 0===S?void 0:S.toLowerCase(),T&&x.manifestType===w&&(x.manifestOverrideName=T);const e={"manifest-type":1,"manifest-execution-order":1};Object.keys(L).forEach((t=>{if(!A[t])return;const n=A[t].indexOf(L[t]);e[t]=n>-1?n:1})),x.executionOrder="".concat(e["manifest-execution-order"],"-").concat(e["manifest-type"])}else x.manifestType=A["manifest-type"][1],x.executionOrder="1-1";return x.manifestPath=M(p),x.selectedVariantName=await async function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=(0,i.getConfig)();if(null!==(t=o.mep)&&void 0!==t&&null!==(t=t.variantOverride)&&void 0!==t&&t[e])return o.mep.variantOverride[e];const r=ne(n),c=Object.values(await ie()).some((e=>r.allNames.includes(e)));let d=[];c&&(d=(0,i.enablePersonalizationV2)()?[]:await o.entitlements());const f=e=>{var t;return""===e||e===(null===a||void 0===a?void 0:a.toLowerCase())||(e.startsWith("param-")?ee(e):!(null===(t=d)||void 0===t||!t.includes(e))||s.includes(e)&&l[e]())},p=e=>e.startsWith(u)?f(e):!e.split("&").map((e=>{const t=e.trim().startsWith(m),n=f(e.replace(m,"").trim());return t?!n:n})).includes(!1);return n.find((e=>r[e].some(p)))}(x.manifestPath,x.variantNames,b),x.placeholderData=g||(null===(o=C)||void 0===o||null===(o=o.placeholders)||void 0===o?void 0:o.data),x.name=d,x.manifest=p,x.manifestUrl=v,x.disabled=y,x.event=E,x}var ce=e=>{let{selector:t,val:n,action:a,manifestId:i,targetManifestId:o}=e;return{selector:M(t),val:M(n),action:a,manifestId:i,targetManifestId:o}};async function de(e,t){var n,a,o;if(!e)return null;const{manifestPath:r,selectedVariant:l}=e;if(!l||"default"===l)return{experiment:e};const{replacepage:s}=l;return null!==(n=l.replacepage)&&void 0!==n&&n.length&&(t.mep.replacepage=s[0]),null===(a=l.insertscript)||void 0===a||a.map((e=>(0,i.loadScript)(e.val))),null===(o=l.updatemetadata)||void 0===o||o.map((e=>R(e))),l.fragments&&(l.fragments=l.fragments.map(ce)),{manifestPath:r,experiment:e,blocks:l.useblockcode,fragments:l.fragments,commands:l.commands}}function me(e){if(!e)return!1;const t=Object.create(null);return decodeURIComponent(e).split("---").forEach((e=>{const n=e.trim().split("--");if(n.length>1){const[e,a]=n;t[e]=a}})),t}function ue(e,t){return e.executionOrder===t.executionOrder?0:e.executionOrder>t.executionOrder?1:-1}function fe(e){var t;const n=(0,i.getConfig)(),a={};let o=e;return null!==(t=n.mep)&&void 0!==t&&t.experiments&&(o=[...e,...n.mep.experiments]),o.forEach((e=>{try{if(null===e||void 0===e||!e.manifest)return;if(e.manifestPath||(e.manifestPath=M(e.manifest)),e.manifestPath in a){let t=a[e.manifestPath],n=e;e.name&&(t=e,n=a[e.manifestPath]),n.name=t.name,n.selectedVariantName=t.selectedVariantName,n.selectedVariant=n.variants[n.selectedVariantName],a[e.manifestPath]=n}else a[e.manifestPath]=e;const t=a[e.manifestPath],{selectedVariantName:n,variantNames:o,placeholderData:r}=t;n&&o.includes(n)?(t.run=!0,t.selectedVariantName=n,t.selectedVariant=t.variants[n]):(t.selectedVariantName="default",t.selectedVariant="default"),Q(r,(0,i.getConfig)(),t.selectedVariantName)}catch(n){var t;j("MEP Error parsing manifests: ".concat(n.toString())),null===(t=window.lana)||void 0===t||t.log("MEP Error parsing manifests: ".concat(n.toString()))}})),Object.keys(a).forEach((e=>{delete a[e].variants})),Object.values(a).sort(ue)}function pe(e,t){const{action:n,fragment:a,manifestId:i,targetManifestId:o}=e;return n===L.replace?(t.href=a,T(t,i,o),a):(n===L.remove&&(i?t.parentElement.dataset.removedManifestId=i:t.parentElement.remove()),!1)}function ve(e){let{placeholders:t}=e;t&&Object.entries(t).forEach((e=>{let[n,a]=e;t[n]=A(a,t)}))}async function ge(e){if(null===e||void 0===e||!e.length)return;let t=e;const n=(0,i.getConfig)();for(let i=0;i<t.length;i+=1){var a;t[i]=await se(t[i],null===(a=n.mep)||void 0===a?void 0:a.variantOverride)}t=fe(t),ve(n);let o=[];for(const i of t){const e=await de(i,n);e&&o.push(e)}o=o.filter(Boolean),n.mep.experiments=[...n.mep.experiments,...t],n.mep.blocks=z(o,"blocks",n.mep.blocks),n.mep.fragments=z(o,"fragments",n.mep.fragments),n.mep.commands=W(o,"commands",n.mep.commands);const r=document.querySelector("main");if(n.mep.replacepage&&!h&&r){await F(n.mep.replacepage.val,r);const{manifestId:e,targetManifestId:t}=n.mep.replacepage;T(r,e,t)}n.mep.commands=G(n.mep.commands);const l=o.filter((e=>{var t;return(null===(t=e.experiment)||void 0===t?void 0:t.manifestType)===w}));if(!l.length)return;const s=l.map((e=>{const t=e.experiment.selectedVariantName.replace(u,"").trim().slice(0,15);return"default"===t?"nopzn":t})),c=l.map((e=>{var t,n;const a=(null===(t=e.experiment)||void 0===t?void 0:t.manifestOverrideName)||(null===(n=e.experiment)||void 0===n?void 0:n.manifest);return C(a).replace(".json","").trim().slice(0,15)}));n.mep.martech="|".concat(s.join("--"),"|").concat(c.join("--"))}var he=async(e,t,a)=>{let i=[];if(e&&(i=e.toLowerCase().split(/,|(\s+)|(\\n)/g).filter((e=>null===e||void 0===e?void 0:e.trim())).map((e=>({manifestPath:e})))),t){const{default:e}=await n.e(1624).then(n.bind(n,1624));i=i.concat(e(t,v.searchParams))}if(a&&"off"!==a){const e=i.map((e=>{const{manifestPath:t}=e;if(t.startsWith("/"))return t;try{return new URL(t).pathname}catch(n){return t}}));a.split("---").forEach((t=>{const n=t.trim().toLowerCase().split("--")[0];e.includes(n)||i.push({manifestPath:n})}))}return i};function we(e){let{config:t,targetManifests:n,targetPropositions:a}=e;if(t.mep.targetManifests=n,null!==a&&void 0!==a&&a.length&&window._satellite&&window._satellite.track("propositionDisplay",a),"postlcp"===t.mep.targetEnabled){const e=new CustomEvent(p,{detail:"Martech returned"});window.dispatchEvent(e)}return n}function be(e){return Math.ceil(e/250)/4}function ye(e,t,n,a){var i,o;const r=function(e){return be(Date.now()-e)}(t),l=be(n);let s="target response time ".concat(r,":timed out ").concat(e,":timeout ").concat(l);a&&(s+=":".concat(a)),null===(i=window._satellite)||void 0===i||null===(o=i.track)||void 0===o||o.call(i,"event",{documentUnloading:!0,xdm:{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{linkClicks:{value:1},type:"other",name:s}}},data:{_adobe_corpnew:{digitalData:{primaryEvent:{eventInfo:{eventName:s}}}}}})}var Pe=e=>{var t,n;return null!==(t=null===(n=e.propositions||e.decisions)||void 0===n||null===(n=n.map((e=>e.items)))||void 0===n||null===(n=n.flat())||void 0===n||null===(n=n.map((e=>{var t,n,a,i,o;const r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content;return r&&(r.manifestLocation||r.manifestContent)?{manifestPath:r.manifestLocation||r.manifestPath,manifestUrl:r.manifestLocation,manifestData:(null===(n=r.manifestContent)||void 0===n||null===(n=n.experiences)||void 0===n?void 0:n.data)||(null===(a=r.manifestContent)||void 0===a?void 0:a.data),manifestPlaceholders:null===(i=r.manifestContent)||void 0===i||null===(i=i.placeholders)||void 0===i?void 0:i.data,manifestInfo:null===(o=r.manifestContent)||void 0===o?void 0:o.info.data,name:e.meta["activity.name"],variantLabel:e.meta["experience.name"]&&"target-".concat(e.meta["experience.name"]),meta:e.meta}:null})))||void 0===n?void 0:n.filter(Boolean))&&void 0!==t?t:[]};async function Ee(e){const{getTargetPersonalization:t}=await n.e(2928).then(n.bind(n,2928)),{targetManifests:a,targetPropositions:i}=await t({handleAlloyResponse:Pe,sendTargetResponseAnalytics:ye});return we({config:e,targetManifests:a,targetPropositions:i})}var Me=()=>new Promise((e=>{window.addEventListener(p,(t=>e(t.detail)),{once:!0})}));async function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];const{mepParam:n,mepHighlight:a,mepButton:o,pzn:r,promo:l,target:s,targetInteractionPromise:c,calculatedTimeout:d,postLCP:m}=e,u=(0,i.getConfig)();var f,p,v;m?h=!0:(u.mep={updateFragDataProps:Z,preview:"off"!==o&&("prod"!==(null===(f=u.env)||void 0===f?void 0:f.name)||n||""===n||o),variantOverride:me(n),highlight:void 0!==a&&"false"!==a,targetEnabled:s,experiments:[],geoPrefix:(null===(p=u.locale)||void 0===p||null===(p=p.prefix.split("/")[1])||void 0===p?void 0:p.toLowerCase())||"en-us"},t=t.concat(await he(r,l,n)),null===(v=t)||void 0===v||v.forEach((e=>{if(e.disabled)return;const t=M(e.manifestPath);(0,i.loadLink)(t,{as:"fetch",crossorigin:"anonymous",rel:"preload"})})),r&&(0,i.loadLink)(ae(u),{as:"fetch",crossorigin:"anonymous",rel:"preload"}));if((0,i.enablePersonalizationV2)()?t=t.concat(await async function(e){let{config:t,targetInteractionPromise:n,calculatedTimeout:a}=e,o=[],r=[];if((0,i.enablePersonalizationV2)()&&n)try{var l;const{targetInteractionData:e,respTime:t,respStartTime:i}=await n;ye(!1,i,a);const c=be(t);performance.clearMarks(),performance.clearMeasures();try{window.lana.log("target response time: ".concat(c),{tags:"martech",errorType:"i"})}catch(s){console.error("Error logging target response time:",s)}o=Pe(e.result),r=(null===(l=e.result)||void 0===l?void 0:l.propositions)||[]}catch(c){console.log("Oops!! Interact Call didnt go through",c)}return we({config:t,targetManifests:o,targetPropositions:r})}({config:u,targetInteractionPromise:c,calculatedTimeout:d})):(!0===s&&(t=t.concat(await Ee(u))),"postlcp"===s&&Ee(u),m&&(u.mep.targetManifests||await Me(),t=u.mep.targetManifests)),t&&t.length)try{await ge(t)}catch(w){var g;j("MEP Error: ".concat(w.toString())),null===(g=window.lana)||void 0===g||g.log("MEP Error: ".concat(w.toString()))}}}}]);
//# sourceMappingURL=2343.b8a5fdae.chunk.js.map