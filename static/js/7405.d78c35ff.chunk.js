"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[7405],{4705:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t,o){return(t=r(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{A:()=>s})},7405:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var n,r,s,a,i,l,c,d,u,h,f,m,g,p=o(7528),v=o(4705),b=o(1441),y=(o(1103),o(5590)),k=(o(4363),o(775)),{miloLibs:w,codeRoot:A,locale:L,mep:P}=(o(6850),(0,k.getConfig)()),S=w||A,C={socialPlatforms:["facebook","instagram","twitter","linkedin","pinterest","discord","behance","youtube","weibo","social-media"],delays:{decoration:3e3}},E=class{constructor(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,v.A)(this,"init",(()=>(0,b.logErrorFor)((async()=>{let e;const t=new window.IntersectionObserver((o=>{o.find((e=>!0===e.isIntersecting))&&(clearTimeout(e),t.disconnect(),this.decorateContent())}),{rootMargin:"300px 0px"});t.observe(this.block),e=setTimeout((()=>{t.disconnect(),this.decorateContent()}),C.delays.decoration)}),"Error in global footer init","global-footer","error"))),(0,v.A)(this,"decorateContent",(()=>(0,b.logErrorFor)((async()=>{const e=(0,k.getMetadata)("footer-source")||"".concat(L.contentRoot,"/footer");if(this.body=await(0,b.fetchAndProcessPlainHtml)({url:e,shouldDecorateLinks:!1}),!this.body){const t=new Error("Could not create global footer. Content not found!");t.tags="global-footer",t.url=e,t.errorType="error",(0,b.lanaLog)({message:t.message,...t});const{onFooterError:o}=(0,k.getConfig)();return void(null===o||void 0===o||o(t))}const[t,o]=[".region-selector",".social"].map((e=>this.body.querySelector(e))),[n,r]=[null===t||void 0===t?void 0:t.parentElement,null===o||void 0===o?void 0:o.parentElement];[n,r].forEach((e=>null===e||void 0===e?void 0:e.replaceChildren())),(0,k.decorateLinks)(this.body),null===n||void 0===n||n.appendChild(t),null===r||void 0===r||r.appendChild(o),await Promise.all([...this.body.querySelectorAll(".modal")].map(k.loadBlock));const s=(0,k.getFederatedUrl)(e);(0,b.federatePictureSources)({section:this.body,forceFederate:s.includes("/federal/")});const a=[b.loadBaseStyles,this.decorateGrid,this.decorateProducts,this.loadIcons,this.decorateRegionPicker,this.decorateSocial,this.decoratePrivacy,this.decorateFooter];for await(const c of a)await(0,b.yieldToMain)(),await c();const i=(null===P||void 0===P?void 0:P.martech)||"";this.block.setAttribute("daa-lh","gnav|".concat((0,b.getExperienceName)(),"|footer").concat(i)),this.block.append(this.elements.footer);const{onFooterReady:l}=(0,k.getConfig)();null===l||void 0===l||l()}),"Failed to decorate footer content","global-footer","error"))),(0,v.A)(this,"loadMenuLogic",(async()=>(this.menuLogic=this.menuLogic||new Promise((async e=>{const t=await(0,b.loadDecorateMenu)();this.decorateMenu=t.decorateMenu,this.decorateLinkGroup=t.decorateLinkGroup,e()})),this.menuLogic))),(0,v.A)(this,"decorateGrid",(async()=>{this.elements.footerMenu="";const e=this.body.querySelectorAll(":scope > div > h2:first-child");return e&&e.length?(this.elements.footerMenu=(0,b.toFragment)(n||(n=(0,p.A)(['<div class="feds-menu-content"></div>']))),e.forEach((e=>this.elements.footerMenu.appendChild(e.parentElement))),await this.loadMenuLogic(),await this.decorateMenu({item:this.elements.footerMenu,type:"footerMenu"}),this.elements.headlines=this.elements.footerMenu.querySelectorAll(".feds-menu-headline"),this.elements.footerMenu):this.elements.footerMenu})),(0,v.A)(this,"loadIcons",(async()=>{const e=await fetch("".concat(S,"/blocks/global-footer/icons.svg"));e.ok||(0,b.lanaLog)({message:"Issue with loadIcons",e:"".concat(e.statusText," url: ").concat(e.url),tags:"global-footer",errorType:"info"});const t=await e.text(),o=(0,b.toFragment)(r||(r=(0,p.A)(['<div class="feds-footer-icons">',"</div>"])),t);this.block.append(o)})),(0,v.A)(this,"decorateProducts",(async()=>{this.elements.featuredProducts="";const e=this.body.querySelector(".link-group");if(!e)return this.elements.featuredProducts;const t=e.parentElement;this.elements.featuredProducts=(0,b.toFragment)(s||(s=(0,p.A)(['<div class="feds-featuredProducts"></div>'])));const[o]=await Promise.all([(0,y.replaceKey)("featured-products",(0,k.getFedsPlaceholderConfig)()),this.loadMenuLogic()]);return o&&o.length&&this.elements.featuredProducts.append((0,b.toFragment)(a||(a=(0,p.A)(['<span class="feds-featuredProducts-label" role="heading" aria-level="2">',"</span>"])),o)),t.querySelectorAll(".link-group").forEach((e=>{this.elements.featuredProducts.append(this.decorateLinkGroup(e))})),this.elements.featuredProducts})),(0,v.A)(this,"decorateRegionPicker",(async()=>{this.elements.regionPicker="";const e=this.body.querySelector(".region-selector a");if(!e)return this.elements.regionPicker;let t;try{t=new URL(e.href)}catch(d){return(0,b.lanaLog)({message:"Could not create URL for region picker; href: ".concat(e.href),tags:"global-footer",errorType:"error"}),this.elements.regionPicker}const n=(0,b.toFragment)(i||(i=(0,p.A)(['<span class="feds-regionPicker-text">',"</span>"])),e.textContent),r=(0,b.toFragment)(l||(l=(0,p.A)(['\n      <a\n        href="','"\n        class="','"\n        role="button">\n        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="feds-regionPicker-globe" focusable="false">\n          <use href="#footer-icon-globe" />\n        </svg>\n        ',"\n      </a>"])),e.href,"feds-regionPicker",n);r.dataset.modalPath="".concat(t.pathname,"#_inline"),r.dataset.modalHash=t.hash;const s="feds-regionPicker-wrapper";this.elements.regionPicker=(0,b.toFragment)(c||(c=(0,p.A)(['<div class="','">\n        ',"\n      </div>"])),s,r);const a=()=>"true"===r.getAttribute("aria-expanded");if(""!==t.hash){(0,k.decorateAutoBlock)(r),r.href=t.hash,(0,k.loadStyle)("".concat(S,"/blocks/modal/modal.css"));const{default:e}=await o.e(3137).then(o.bind(o,5518)),n=await e(r),s=async()=>{const e=document.querySelector(".region-nav");if(e&&(0,k.getConfig)().standaloneGnav){if("true"!==e.getAttribute("data-failed"))return;e.classList.add("hide"),(0,k.loadStyle)("".concat(S,"/blocks/region-nav/region-nav.css"));const{default:t}=await o.e(2426).then(o.bind(o,2426));t(e),e.classList.remove("hide")}};n&&await s(),r.addEventListener("click",(()=>{a()||(r.setAttribute("aria-expanded","true"),window.addEventListener("milo:modal:loaded",s,{once:!0}))})),window.addEventListener("milo:modal:closed",(()=>{a()&&r.setAttribute("aria-expanded","false")}))}else{r.setAttribute("aria-haspopup","true"),r.href="#",e.href=(0,k.localizeLink)(e.href),(0,k.decorateAutoBlock)(e),this.elements.regionPicker.append(e);const{default:t}=await o.e(2370).then(o.bind(o,2370));await t(e),r.addEventListener("click",(e=>{e.preventDefault();const t="true"===r.getAttribute("aria-expanded");r.setAttribute("aria-expanded",!t)})),document.addEventListener("click",(e=>{a()&&!e.target.closest(".".concat(s))&&r.setAttribute("aria-expanded",!1)}))}return this.elements.regionPicker})),(0,v.A)(this,"decorateSocial",(()=>{this.elements.social="";const e=this.body.querySelector(".social");if(!e)return this.elements.social;const t=(0,b.toFragment)(d||(d=(0,p.A)(['<ul class="feds-social" daa-lh="Social"></ul>'])));return C.socialPlatforms.forEach(((o,n)=>{const r=e.querySelector('a[href*="'.concat(o,'"]'));if(!r)return;const s=(0,b.toFragment)(u||(u=(0,p.A)(['<li class="feds-social-item">\n          <a\n            href="','"\n            class="feds-social-link"\n            aria-label="','"\n            daa-ll="','"\n            target="_blank">\n            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="feds-social-icon">\n              <use href="#footer-icon-','" />\n            </svg>\n          </a>\n        </li>'])),(e=>e.replace("#_blank","").replace("#_dnb",""))(r.href),o,(0,b.getAnalyticsValue)(o,n+1),o);t.append(s)})),this.elements.social=0!==t.childElementCount?t:"",this.elements.social})),(0,v.A)(this,"decoratePrivacy",(()=>{this.elements.legal="";const e=this.body.querySelector("div > p > em");if(!e)return this.elements.legal;const t=e.closest("div"),o=(new Date).getFullYear();e.remove();const n=t.querySelector('a[href*="#interest-based-ads"]');null===n||void 0===n||n.prepend((0,b.toFragment)(h||(h=(0,p.A)(['<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="feds-adChoices-icon" focusable="false">\n        <use href="#footer-icon-adchoices" />\n      </svg>'])))),this.elements.legal=(0,b.toFragment)(f||(f=(0,p.A)(['<div class="feds-footer-legalWrapper" daa-lh="Legal"></div>'])));const r='<span class="feds-footer-privacyLink-divider" aria-hidden="true">/</span>';let s=0;for(;t.children.length;){const n=t.firstElementChild;if(n.classList.add("feds-footer-privacySection"),n.querySelectorAll("a").forEach(((e,t)=>{e.classList.add("feds-footer-privacyLink"),e.setAttribute("daa-ll",(0,b.getAnalyticsValue)(e.textContent,t+1));const o=document.createElement("li");o.classList.add("feds-footer-privacy-listitem"),e.parentNode.insertBefore(o,e),o.appendChild(e),t!==n.querySelectorAll("a").length-1&&(o.innerHTML+=r)})),this.elements.legal.append(n),0===s){const t=document.createElement("ul");[...n.attributes].forEach((e=>{t.setAttribute(e.name,e.value)}));const s=document.createElement("li");s.classList.add("feds-footer-privacy-listitem"),s.innerHTML=r,s.prepend(e),e.replaceWith((0,b.toFragment)(m||(m=(0,p.A)(['<span class="feds-footer-copyright">Copyright \xa9 '," ","</span>"])),o,e.textContent)),t.prepend(s),t.innerHTML+=n.innerHTML.replace(/( \/ )/g,""),n.parentNode.replaceChild(t,n)}s+=1}return this.elements.legal})),(0,v.A)(this,"decorateFooter",(()=>(this.elements.footer=(0,b.toFragment)(g||(g=(0,p.A)(['<div class="feds-footer-wrapper">\n        ',"\n        ",'\n        <div class="feds-footer-options">\n          <div class="feds-footer-miscLinks">\n            ',"\n            ","\n          </div>\n          ","\n        </div>\n      </div>"])),this.elements.footerMenu,this.elements.featuredProducts,this.elements.regionPicker,this.elements.social,this.elements.legal),this.elements.footer))),this.block=e,this.elements={},this.init()}};function F(e){try{const t=new E({block:e});return(0,b.isDarkMode)()&&e.classList.add("feds--dark"),t}catch(t){return(0,b.lanaLog)({message:"Could not create footer",e:t}),null}}}}]);
//# sourceMappingURL=7405.d78c35ff.chunk.js.map