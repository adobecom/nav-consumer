"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[296,5897,1926],{5897:(e,t,n)=>{n.r(t),n.d(t,{decoratePlaceholderArea:()=>u,replaceKey:()=>l,replaceKeyArray:()=>s,replaceText:()=>d});var a=n(212),o={};window.mph={};var r=async(e,t)=>{try{var n;null===(n=(e.ok?await e.json():{data:[]}).data)||void 0===n||n.forEach((e=>{window.mph[e.key]=e.value,t[e.key]=e.value}))}catch(a){window.lana.log("Error parsing placeholder json: ".concat(a.message),{tags:"placeholders",errorType:"e"})}},i=async e=>{let{config:t,sheet:n,placeholderRequest:i,placeholderPath:c}=e;const l=c||((e,t)=>{const n="".concat(e.locale.contentRoot,"/placeholders.json"),a="default"!==t&&"string"===typeof t&&t.length?"?sheet=".concat(t):"";return"".concat(n).concat(a)})(t,n);return o[l]||(o[l]=((e,t)=>new Promise((async n=>{const o=await t||await(0,a.customFetch)({resource:e,withCacheRules:!0}).catch((()=>({}))),i={};if(Array.isArray(o))for(const e of o)await r(e,i);else await r(o,i);n(i)})))(l,i)),o[l]};async function c(e,t,n){var o,r;let c=!1;const l="en-US",s=(0,a.getMetadata)("disable-geo-placeholders")||"off",d=()=>{const e=t.locale.contentRoot,n=t.locale.prefix;return n.length?e.endsWith(n)?e.replace(n,""):e.replace("".concat(n,"/"),"/"):e},u=async()=>{const e={locale:{ietf:l,contentRoot:d()}},t=await i({config:e,sheet:n}).catch((()=>({})));return c=!0,t};if(null!==(o=t.placeholders)&&void 0!==o&&o[e])return t.placeholders[e];let f;if(f="on"===s?await u():await i({config:t,sheet:n}),"string"===typeof(null===(r=f)||void 0===r?void 0:r[e]))return f[e];if(!c&&t.locale.ietf!==l){const t=await u();if(null!==t&&void 0!==t&&t[e])return t[e]}return function(e){return e.replaceAll("-"," ")}(e)}async function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("string"!==typeof e||!e.length)return"";return await c(e,t,n)}async function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(!Array.isArray(e)||!e.length)return[];const a=[];e.forEach((e=>{a.push(c(e,t,n))}));return await Promise.all(a)}async function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";if("string"!==typeof e||!e.length)return"";const o=[...e.matchAll(new RegExp(n))];if(!o.length)return e;const r=Array.from(o,(e=>e[1]||e[2])),i=await s(r,t,a);let c=0,l=e.replaceAll(n,(()=>i[c++]));return l=l.replace(/&nbsp;/g,"\xa0"),l}async function u(e){let{placeholderPath:t,placeholderRequest:n,nodes:o}=e;if(!o.length)return;const r=(0,a.getConfig)();await i({placeholderPath:t,config:r,placeholderRequest:n});const c=o.map((async e=>{if(e.nodeType===Node.TEXT_NODE)e.nodeValue=await d(e.nodeValue,r);else if(e.nodeType===Node.ELEMENT_NODE){const t=[...e.attributes].map((async e=>{const t=await d(e.value,r);return{name:e.name,value:t}}));(await Promise.all(t)).forEach((t=>{let{name:n,value:a}=t;e.setAttribute(n,a)}))}}));await Promise.all(c)}},296:(e,t,n)=>{n.r(t),n.d(t,{CC_ALL_APPS:()=>L,CC_SINGLE_APPS:()=>g,CC_SINGLE_APPS_ALL:()=>A,CHECKOUT_ALLOWED_KEYS:()=>y,CHECKOUT_LINK_CONFIG_PATH:()=>r,CHECKOUT_LINK_SANDBOX_CONFIG_PATH:()=>i,MEP_SELECTOR:()=>ae,PLACEHOLDER_KEY_DOWNLOAD:()=>m,PRICE_TEMPLATE_ANNUAL:()=>u,PRICE_TEMPLATE_DISCOUNT:()=>c,PRICE_TEMPLATE_LEGAL:()=>f,PRICE_TEMPLATE_OPTICAL:()=>l,PRICE_TEMPLATE_REGULAR:()=>s,PRICE_TEMPLATE_STRIKETHROUGH:()=>d,appendDexterParameters:()=>G,buildCta:()=>te,default:()=>ie,fetchCheckoutLinkConfigs:()=>H,fetchEntitlements:()=>M,getCheckoutAction:()=>Z,getCheckoutContext:()=>Q,getCheckoutLinkConfig:()=>x,getCommerceContext:()=>$,getDownloadAction:()=>K,getMasBase:()=>D,getMiloLocaleSettings:()=>C,getModalAction:()=>X,getOptions:()=>re,getPriceContext:()=>ee,getUpgradeAction:()=>B,initService:()=>J,modalState:()=>W,openModal:()=>j,overrideOptions:()=>oe,polyfills:()=>I,setCtaHash:()=>z,setPreview:()=>V,updateModalState:()=>q});var a=n(5897),o=n(212),r=(n(6850),"/commerce/checkout-link.json"),i="/commerce/checkout-link-sandbox.json",c="discount",l="optical",s="price",d="strikethrough",u="annual",f="legal",p=new Map([["priceDiscount",c],[c,c],["priceOptical",l],[l,l],["priceStrikethrough",d],[d,d],["priceAnnual",u],[u,u],[f,f]]),m="download",g=[["3D_TEXTURING"],["3DI"],["ACROBAT","ACROBAT_STOCK_BUNDLE"],["AFTEREFFECTS","AFTER_EFFECTS_STOCK_BUNDLE"],["AUDITION","AUDITION_STOCK_BUNDLE"],["CC_EXPRESS"],["FLASH","FLASH_STOCK_BUNDLE"],["DREAMWEAVER","DREAMWEAVER_STOCK_BUNDLE"],["EDGE_ANIMATE"],["ILLUSTRATOR","ILLUSTRATOR_STOCK_BUNDLE"],["INCOPY","INCOPY_STOCK_BUNDLE"],["INDESIGN","INDESIGN_STOCK_BUNDLE"],["PHOTOGRAPHY","PHOTOGRAPHY_STOCK_BUNDLE"],["PHOTOSHOP_LIGHTROOM"],["PHOTOSHOP","PHOTOSHOP_STOCK_BUNDLE"],["PREMIERE","PREMIERE_STOCK_BUNDLE"],["RUSH"],["XD"]],h={en:"US","en-gb":"GB","es-mx":"MX","fr-ca":"CA",da:"DK",et:"EE",ar:"DZ",el:"GR",iw:"IL",he:"IL",id:"ID",ms:"MY",nb:"NO",sl:"SI",sv:"SE",cs:"CZ",uk:"UA",hi:"IN","zh-hans":"CN","zh-hant":"TW",ja:"JP",ko:"KR",fil:"PH",th:"TH",vi:"VN"},_={ar:"AR_es",be_en:"BE_en",be_fr:"BE_fr",be_nl:"BE_nl",br:"BR_pt",ca:"CA_en",ch_de:"CH_de",ch_fr:"CH_fr",ch_it:"CH_it",cl:"CL_es",co:"CO_es",la:"DO_es",mx:"MX_es",pe:"PE_es",africa:"MU_en",dk:"DK_da",de:"DE_de",ee:"EE_et",eg_ar:"EG_ar",eg_en:"EG_en",es:"ES_es",fr:"FR_fr",gr_el:"GR_el",gr_en:"GR_en",ie:"IE_en",il_he:"IL_iw",it:"IT_it",lv:"LV_lv",lt:"LT_lt",lu_de:"LU_de",lu_en:"LU_en",lu_fr:"LU_fr",my_en:"MY_en",my_ms:"MY_ms",hu:"HU_hu",mt:"MT_en",mena_en:"DZ_en",mena_ar:"DZ_ar",nl:"NL_nl",no:"NO_nb",pl:"PL_pl",pt:"PT_pt",ro:"RO_ro",si:"SI_sl",sk:"SK_sk",fi:"FI_fi",se:"SE_sv",tr:"TR_tr",uk:"GB_en",at:"AT_de",cz:"CZ_cs",bg:"BG_bg",ru:"RU_ru",ua:"UA_uk",au:"AU_en",in_en:"IN_en",in_hi:"IN_hi",id_en:"ID_en",id_id:"ID_id",nz:"NZ_en",sa_ar:"SA_ar",sa_en:"SA_en",sg:"SG_en",cn:"CN_zh-Hans",tw:"TW_zh-Hant",hk_zh:"HK_zh-hant",jp:"JP_ja",kr:"KR_ko",za:"ZA_en",ng:"NG_en",cr:"CR_es",ec:"EC_es",pr:"US_es",gt:"GT_es",cis_en:"TM_en",cis_ru:"TM_ru",sea:"SG_en",th_en:"TH_en",th_th:"TH_th"},v={ms:"plan",cs:"plan",e:"edu",t:"team"},w="langstore/";function C(e){var t,n;const a=null!==(t=((null===e||void 0===e?void 0:e.prefix)||"US_en").replace("/",""))&&void 0!==t?t:"";let[o="US",r="en"]=(null!==(n=_[a])&&void 0!==n?n:a).split("_",2);if(a.startsWith(w)||window.location.pathname.startsWith("/".concat(w))){const e=a.replace(w,"").toLowerCase();o=function(e){let t=h[e];return!t&&_[e]&&(t=e),!t&&e.includes("-")&&([t]=e.split("-")),t||"US"}(e),r=e}return o=o.toUpperCase(),r=r.toLowerCase(),{language:r,country:o,locale:"".concat(r,"_").concat(o)}}var E,y=["af","ai","apc","appctxid","cli","co","csm","ctx","ctxRtUrl","DCWATC","dp","fr","gsp","ijt","lang","lo","mal","ms","cs","mv","mv2","nglwfdata","ot","otac","pa","pcid","promoid","q","rf","sc","scl","sdid","sid","spint","svar","th","thm","trackingid","usid","workflowid","context.guid","so.ca","so.su","so.tr","so.va","quantity","authCode","checkoutPromoCode","rurl","curl","ctxrturl","country","language","clientId","context","productArrangementCode","offerType","marketSegment"],A=g.flatMap((e=>e)),L=["CC_ALL_APPS","CC_ALL_APPS_STOCK_BUNDLE","CC_PRO"],T="LOCALE",O="PRODUCT_FAMILY",S="FREE_TRIAL_PATH",P="BUY_NOW_PATH",R="FREE_TRIAL_HASH",k="BUY_NOW_HASH",b="TRIAL",U="loading-entitlements",N=null;function D(e,t){let{baseUrl:n}=D;if(!n){if("stage"===t)n="https://www.stage.adobe.com/mas";else if("local"===t)n="http://localhost:9001";else if(t){const a=/.page$/.test(e)?"page":"live";n="https://".concat(t,".").concat(o.SLD,".").concat(a)}else n="https://www.adobe.com/mas";D.baseUrl=n}return n}async function I(){if(I.promise)return I.promise;let e=!1;if(document.createElement("div",{get is(){e=!0}}),e)I.promise=Promise.resolve();else{const{base:e}=(0,o.getConfig)();I.promise=await(0,o.loadScript)("".concat(e,"/deps/custom-elements.js"))}return I.promise}async function M(){var e;return M.promise=null!==(e=M.promise)&&void 0!==e?e:n.e(2355).then(n.bind(n,2355)).then((e=>{let{default:t}=e;return t({params:[{name:"include",value:"OFFER.PRODUCT_ARRANGEMENT"}],format:"raw"})})),M.promise}async function H(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a="on"===new URLSearchParams(window.location.search).get("checkout-link-sandbox")&&"prod"!==n?"".concat(t).concat(i):"".concat(t).concat(r);return H.promise=null!==(e=H.promise)&&void 0!==e?e:fetch(a).catch((e=>{var t;null===(t=E)||void 0===t||t.error("Failed to fetch checkout link configs",e)})).then((e=>null!==e&&void 0!==e&&e.ok?e.json():{data:[]})),H.promise}async function x(e,t,n){var a;let{base:r}=(0,o.getConfig)();const{env:i}=(0,o.getConfig)();/\.page$/.test(document.location.origin)&&(r=r.replace(".live",".page"));const c=await H(r,i);if(!c.data.length)return;const{locale:{region:l}}=(0,o.getConfig)(),{paCodeConfigs:s,productCodeConfigs:d,productFamilyConfigs:u}=c.data.reduce(((a,o)=>(o[O]===n?a.paCodeConfigs.push(o):o[O]===t?a.productCodeConfigs.push(o):o[O]===e&&a.productFamilyConfigs.push(o),a)),{paCodeConfigs:[],productCodeConfigs:[],productFamilyConfigs:[]}),f=[...s,...d,...u];if(!f.length)return;const p=f.find((e=>{let{[T]:t}=e;return""===t})),m=null!==(a=f.find((e=>{let{[T]:t}=e;return t===l})))&&void 0!==a?a:{},g={...p,...Object.fromEntries(Object.entries(m).filter((e=>{let[,t]=e;return t})))};return Object.entries(g).forEach((e=>{let[t,n]=e;"X"!==n&&"\u274c"!==n||(g[t]="")})),g}async function K(e,t,n){var r;let[{offerType:i,productArrangementCode:c,productArrangement:{productCode:l,productFamily:s}={}}]=n;if(!0!==e.entitlement)return;if(!await t)return;const d=await M();if(null===d||void 0===d||!d.length)return;const u=await x(s,l,c);if(null===u||void 0===u||!u.DOWNLOAD_URL)return;if(!d.find((e=>{let{offer:{product_arrangement:{family:t}}}=e;if(L.includes(t))return!0;if(L.includes(s))return!1;const n=g.find((e=>e.includes(s)));return null===n||void 0===n?void 0:n.includes(t)})))return;const f=(0,o.getConfig)(),p=await(0,a.replaceKey)(u.DOWNLOAD_TEXT||m,f),h=(0,o.localizeLink)(u.DOWNLOAD_URL),_=null!==(r=null===i||void 0===i?void 0:i.toLowerCase())&&void 0!==r?r:"";return{text:p,className:"download ".concat(_),url:h}}async function B(e,t,a){var o;let[{productArrangement:{productFamily:r}={}}]=a;if(!e.upgrade)return;if(!await t)return;const i=await M();if(null===N&&(N=void 0,N=await document.querySelector(".merch-offers.upgrade [data-wcs-osi]")),await(null===(o=N)||void 0===o?void 0:o.onceSettled()),N&&null!==i&&void 0!==i&&i.length&&r){const{default:e}=await n.e(3809).then(n.bind(n,3809));return await e(r,N,i,A,L)}}function G(e,t,n){const a=e.startsWith("/");let o;try{o=new URL(a?"".concat(window.location.origin).concat(e):e)}catch(i){var r;return null===(r=window.lana)||void 0===r||r.log("Invalid URL ".concat(e," : ").concat(i)),e}return o=function(e,t){if(!t)return e;const n=JSON.parse(t);return Object.keys(n).forEach((t=>{if(y.includes(t)){var a,o;const r=n[t];e.searchParams.set(null!==(a=v[t])&&void 0!==a?a:t,null!==(o=v[r])&&void 0!==o?o:r)}})),e}(o,t),o=function(e,t){null!==t&&void 0!==t&&t.is3in1Modal&&("EDU"===t.marketSegment?e.searchParams.set("plan","edu"):"TEAM"===t.customerSegment&&e.searchParams.set("plan","team"));const n=document.querySelector('meta[name="preselect-plan"]');return null!==n&&void 0!==n&&n.content?(e.searchParams.set("plan",n.content),e):e}(o,n),a?o.href.replace(window.location.origin,""):o.href}var F=e=>/\/fragments\//.test(e),W={isOpen:!1};async function q(){let{cta:e,closedByUser:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:a}=window.location;if(null!==a&&void 0!==a&&a.includes("=")){const e=document.querySelector(".dialog-modal");return e?(W.isOpen=!1,document.querySelectorAll("#".concat(e.id)).forEach((t=>{var n;if(t.classList.contains("dialog-modal")){const n=document.querySelector("#".concat(e.id,"~.modal-curtain"));n&&n.remove(),t.remove()}null===(n=document.querySelector('[data-modal-hash="#'.concat(t.id,'"]')))||void 0===n||n.focus()})),document.querySelectorAll(".modal-curtain").length||document.body.classList.remove("disable-scroll"),[...document.querySelectorAll("header, main, footer")].forEach((e=>e.removeAttribute("aria-disabled"))),W.isOpen):W.isOpen}const o=document.querySelector(".dialog-modal".concat(a));if(a&&!e&&!W.isOpen&&!o){const e=document.querySelector("[is=checkout-link][data-modal-id=".concat(a.replace("#",""),"]"));return e&&!e.dataset.clickDisabled&&(e.dataset.clickDisabled="true",e.click(),setTimeout((()=>{delete e.dataset.clickDisabled}),1e3)),W.isOpen=!0,W.isOpen}if(a&&a==="#".concat(null===e||void 0===e?void 0:e.getAttribute("data-modal-id"))&&!W.isOpen&&!o)return e.click(),W.isOpen=!0,W.isOpen;if(t&&o)return W.isOpen=!1,W.isOpen;if(!a&&o){W.isOpen=!1;const{closeModal:e}=await n.e(2565).then(n.bind(n,2565));e(o)}return W.isOpen}async function j(e,t,a,r,i,c){if(e.preventDefault(),e.stopImmediatePropagation(),W.isOpen)return;W.isOpen=!0;const{getModal:l}=await n.e(2565).then(n.bind(n,2565));await n.e(8771).then(n.bind(n,8771));const s=a===b?"twp":"crm";let d;if(r&&(window.location.hash=r),null!==c&&void 0!==c&&c.isOpen3in1Modal){const{default:e,handle3in1IFrameEvents:t}=await n.e(6585).then(n.bind(n,6585));return window.addEventListener("message",t),void(document.querySelector(".dialog-modal.three-in-one")||(d=await e(c)))}if(F(t)){const e=t.split(/(hlx|aem).(page|live)/).pop();d=await async function(e,t){const n=(0,o.createTag)("div");n.style.visibility="hidden",(0,o.createTag)("a",{href:"".concat(e)},"",{parent:n});const a=await t(null,{id:"checkout-link-modal",content:n,closeEvent:"closeModal",class:"commerce-frame"});return await(0,o.loadArea)(a),n.style.visibility="",a}(e,l)}else d=await async function(e,t,n,a){(0,o.loadStyle)("".concat((0,o.getConfig)().base,"/blocks/iframe/iframe.css"));const r=(0,o.createTag)("div",{class:"milo-iframe"}),i=G(e,n,a);return(0,o.createTag)("iframe",{src:i,frameborder:"0",marginwidth:"0",marginheight:"0",allowfullscreen:"true",loading:"lazy"},"",{parent:r}),t(null,{id:"checkout-link-modal",content:r,closeEvent:"closeModal",class:"commerce-frame"})}(t,l,i,c);d.classList.add(s)}function z(e,t,n){if(!(e&&t&&n))return;const a=t["".concat(n===b?R:k)];return a&&e.setAttribute("data-modal-id",a),a}var Y=e=>{try{return new URL(e).hostname.endsWith(".adobe.com")}catch(t){return!1}};async function X(e,t,n){if(!t.modal)return;if(null!==n&&void 0!==n&&n.isOpen3in1Modal){const e=function(){const{env:e}=(0,o.getConfig)();return"prod"===e.name?"https://commerce.adobe.com/store/iframe/preload.js":"https://commerce-stg.adobe.com/store/iframe/preload.js"}(),t="creative";window.milo.deferredPromise.then((()=>{setTimeout((()=>{(0,o.loadScript)("".concat(e,"?cli=").concat(t),"text/javascript",{mode:"defer",id:"ucv3-preload-script"})}),1e3)}))}const[{offerType:a,productArrangementCode:r,productArrangement:{productCode:i,productFamily:c}={}}]=null!==e&&void 0!==e?e:[{}],l=await x(c,i,r);if(!l)return;const s=a===b?S:P,d=z(n,l,a);let u=l[s];return u||null!==n&&void 0!==n&&n.isOpen3in1Modal?(u=F(u)||Y(u)?(0,o.localizeLink)(l[s]):l[s],{url:u,handler:e=>j(e,u,a,d,t.extraOptions,n)}):void 0}async function Z(e,t,n,a){try{await n;const[o,r,i]=await Promise.all([K(t,n,e),B(t,n,e),X(e,t,a)]);return o||r||i}catch(r){var o;return null===(o=E)||void 0===o||o.error("Failed to resolve checkout action",r),[]}}function V(e){const{host:t}=window.location;(t.includes("".concat(o.SLD,".page"))||"www.stage.adobe.com"===t)&&(e.preview="on")}async function J(){var e;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(J.promise=void 0,null===(a=document.head.querySelector("mas-commerce-service"))||void 0===a||a.remove(),M.promise=void 0,H.promise=void 0);const{commerce:r,env:i,locale:c}=(0,o.getConfig)();return["checkout-workflow-step","force-tax-exclusive","checkout-client-id","allow-override"].forEach((e=>{const t=e.replace(/-([a-z])/g,(e=>e[1].toUpperCase()));if(null!==r&&void 0!==r&&r.hasOwnProperty(t)){const n=r[t];delete r[t],r[e]=n}})),J.promise=null!==(e=J.promise)&&void 0!==e?e:I().then((async()=>{await n.e(7410).then(n.bind(n,7410));const{language:e,locale:a,country:l}=C(c);let s=document.head.querySelector("mas-commerce-service");var d;s||(V(t),s=(0,o.createTag)("mas-commerce-service",{locale:a,language:e,...t,...r}),"prod"!==(null===i||void 0===i?void 0:i.name)&&s.setAttribute("allow-override",""),s.registerCheckoutAction(Z),document.head.append(s),await s.readyPromise,null===(d=s.imsSignedInPromise)||void 0===d||d.then((e=>{e&&M()})));return"AU"===l&&await(0,o.loadStyle)("".concat((0,o.getConfig)().base,"/blocks/merch/au-merch.css")),s})),J.promise}async function $(e,t){var n,a,o;const r=t.get("osi");if(!r)return null;const i="true"===t.get("perp")||void 0;return{promotionCode:(null!==(n=null!==(a=t.get("promo"))&&void 0!==a?a:t.get("promotionCode"))&&void 0!==n?n:null===(o=e.closest("[data-promotion-code]"))||void 0===o?void 0:o.dataset.promotionCode)||void 0,perpetual:i,wcsOsi:r}}async function Q(e,t){var n;const a=await $(e,t);if(!a)return null;const{settings:o}=await J(),{checkoutClientId:r}=o,i=t.get("marketSegment"),c=null!==(n=null===t||void 0===t?void 0:t.get("workflowStep"))&&void 0!==n?n:o.checkoutWorkflowStep,l=null===t||void 0===t?void 0:t.get("entitlement"),s=null===t||void 0===t?void 0:t.get("upgrade"),d=null===t||void 0===t?void 0:t.get("modal"),u={};return t.forEach(((e,t)=>{y.includes(t)&&(u[t]=e)})),{...a,checkoutClientId:r,checkoutWorkflowStep:c,checkoutMarketSegment:i,entitlement:l,upgrade:s,modal:d,extraOptions:JSON.stringify(u)}}async function ee(e,t){var n;const a=await $(e,t);if(!a)return null;const r=(0,o.getMetadata)("mas-ff-annual-price"),i=a.promotionCode?t.get("old"):void 0,c=t.get("seat"),l=t.get("term"),d=t.get("tax"),u=t.get("planType"),f=r&&"false"!==t.get("annual")||void 0,m=t.get("exclusive"),g=t.get("alt"),h=null!==(n=p.get(t.get("type")))&&void 0!==n?n:s;return{...a,displayOldPrice:i,displayPerUnit:c,displayRecurrence:l,displayTax:d,displayPlanType:u,displayAnnual:f,forceTaxExclusive:m,alternativePrice:g,template:h}}async function te(e,t){var r,i,c;const l=!!e.closest(".marquee"),s="STRONG"===(null===(r=e.firstElementChild)||void 0===r?void 0:r.tagName)||"STRONG"===(null===(i=e.parentElement)||void 0===i?void 0:i.tagName);e.closest(".merch-offers.upgrade")&&t.append("entitlement","false");const d=await Q(e,t);if(!d)return null;const u=await J(),f=null===(c=e.textContent)||void 0===c?void 0:c.replace(/^CTA +/,""),p=u.createCheckoutLink(d,f);if(e.href.includes("#_tcl")?e.href=e.href.replace("#_tcl",""):(p.classList.add("con-button"),p.classList.toggle("button-l",l),p.classList.toggle("blue",s)),"false"!==d.entitlement&&(p.classList.add(U),p.onceSettled().finally((()=>{p.classList.remove(U),q({cta:p})}))),e.ariaLabel?p.setAttribute("aria-label",e.ariaLabel):p.ariaLabel||p.onceSettled().then((async()=>{var e;const t=null===(e=p.value[0])||void 0===e||null===(e=e.productArrangement)||void 0===e?void 0:e.productCode,{marketSegment:n,customerSegment:r}=p,i="EDU"===n?n:r;let c=p.textContent;c=t?"".concat(c," - ").concat(await(0,a.replaceKey)(t,(0,o.getConfig)())):c,c=i?"".concat(c," - ").concat(await(0,a.replaceKey)(i,(0,o.getConfig)())):c,p.setAttribute("aria-label",c)})),"on"===(0,o.getMetadata)("mas-ff-copy-cta")){const{default:t}=await n.e(9474).then(n.bind(n,9474));return t(e,p)}return p.onceSettled().then((()=>{var t,n;const a=null===(t=(0,o.getConfig)())||void 0===t||null===(t=t.locale)||void 0===t?void 0:t.prefix;"/kr"===a&&(null===(n=p.value[0])||void 0===n?void 0:n.offerType)===b&&((0,o.shouldAllowKrTrial)(e,a)?p.classList.remove("hidden-osi-trial-link"):p.remove())})),p}async function ne(e,t){const n=await ee(e,t);if(!n)return null;return(await J()).createInlinePrice(n)}var ae="mas";function oe(e,t){var n;const{mep:a}=(0,o.getConfig)(),r=null===a||void 0===a||null===(n=a.inBlock)||void 0===n||null===(n=n[ae])||void 0===n?void 0:n.fragments;if(r){const n=r[e];if(n&&"replace"===n.action)return{...t,fragment:n.content}}return t}function re(e){const{hash:t}=new URL(e.href),n=t.startsWith("#")?t.substring(1):t,a=new URLSearchParams(n),o={};for(const[r,i]of a.entries())"sidenav"===r?o.sidenav="true"===i:"fragment"!==r&&"query"!==r||(o.fragment=i);return o}async function ie(e){var t;if(null===e||void 0===e||null===(t=e.classList)||void 0===t||!t.contains("merch"))return;const{searchParams:n}=new URL(e.href),a="checkoutUrl"===n.get("type"),o=await(a?te:ne)(e,n),r=await J();return E=r.Log.module("merch"),o?(E.debug("Rendering:",{options:{...o.dataset},merch:o,el:e}),e.replaceWith(o),o):(E.warn("Failed to get context:",{el:e}),null)}window.addEventListener("hashchange",q),window.addEventListener("popstate",q),window.addEventListener("milo:modal:closed",(()=>{q({closedByUser:!0})}))}}]);
//# sourceMappingURL=296.d977a332.chunk.js.map