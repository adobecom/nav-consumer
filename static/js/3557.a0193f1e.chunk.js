(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[3557],{1625:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=1625,e.exports=t},3557:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y,getAkamaiCode:()=>v,getCookie:()=>h});var n,a,l,i,r,c,s=o(4684),d=(o(722),"oldgeorouting"),u=e=>{let t=a("ol");e.forEach((e=>{let o=a("li",null,e);t.appendChild(o)}));let o=a("div",null,t),n=a("div",null,o),l=a("div",{class:"tabs quiet"},n);return a("div",{class:"section tabs-background-transparent"},l)},g=(e,t)=>{let o=a("div",null,"tab"),n=a("div",null,t),l=a("div");l.appendChild(o),l.appendChild(n);let i=a("div",{class:"section-metadata"},l),r=a("div",{class:"section"});return r.append(e),r.append(i),r},[f,p]=(()=>{let e=null,t=null,o=()=>{if(!e)return;let t=e.scrollHeight>e.clientHeight;e.style.overflow=t?"auto":"visible"};return[n=>{n&&(e=n,requestAnimationFrame((()=>{o()})),t=new ResizeObserver((()=>{o()})),t.observe(e),window.addEventListener("milo:modal:closed",p))},()=>{e&&(e.removeAttribute("style"),t&&t.disconnect(),e=null,window.removeEventListener("milo:modal:closed",p))}]})(),h=e=>{var t;return null===(t=document.cookie.split("; ").find((t=>t.startsWith("".concat(e,"=")))))||void 0===t?void 0:t.split("=")[1]},v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((t,o)=>{let n=null;e||(n=new URLSearchParams(window.location.search).get("akamaiLocale")||sessionStorage.getItem("akamai")),null!==n?t(n.toLowerCase()):fetch("https://geo2.adobe.com/json/",{cache:"no-cache"}).then((e=>{e.ok?e.json().then((e=>{let o=e.country.toLowerCase();sessionStorage.setItem("akamai",o),t(o)})):o(new Error("Something went wrong getting the akamai Code. Response status text: ".concat(e.statusText)))})).catch((e=>{o(new Error("Something went wrong getting the akamai Code. ".concat(e.message)))}))}))};function m(e,t,o){let n=o||"us",a=t||"us",l="".concat(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Switch",":").concat(a.split("_")[0],"-").concat(n.split("_")[0],"|Geo_Routing_Modal");e.setAttribute("daa-ll",l),e.addEventListener("click",(()=>{let t="adobe.com"===window.location.host||window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"";document.cookie="international=".concat(a,";path=/;").concat(t),e.closest(".dialog-modal").dispatchEvent(new Event("closeModal")),p()}))}function w(e){return e.akamaiCodes.split(",").map((e=>e.toLowerCase().trim()))}var[b,k,x]=(()=>{let e=null,t=null,o=null,n=null,a=t=>{if(n===t)return;let o=t.target;for(;o;){if(o===e)return;o=o.parentNode}k(),document.removeEventListener("click",a)},l=e=>{let t=Array.from(o).indexOf(e.target);if(-1!==t)switch(e.code){case"ArrowDown":var n;null===(n=o[t+1])||void 0===n||n.focus();break;case"ArrowUp":var l;null===(l=o[t-1])||void 0===l||l.focus();break;case"Tab":if(e.preventDefault(),e.shiftKey){let e=o[o.length-1];(o[t-1]||e).focus()}else(o[t+1]||o[0]).focus();break;case"Escape":e.stopPropagation(),document.removeEventListener("click",a),k()}};return[(n,a)=>{e=n,t=a,o=n.querySelectorAll("a"),o.length>0&&(o[0].focus(),e.addEventListener("keydown",l))},()=>{var o,n,a,i;null!==(o=e)&&void 0!==o&&o.removeEventListener("keydown",l),null!==(n=e)&&void 0!==n&&n.remove(),null!==(a=t)&&void 0!==a&&a.focus(),null===(i=t)||void 0===i||i.setAttribute("aria-expanded",!1)},e=>{n=e,document.addEventListener("click",a)}]})();function E(e,t,o,l){var i,r,c,s,d;let u=new DocumentFragment,g=null!==(i=null===(r=n.locales[t.prefix])||void 0===r?void 0:r.ietf)&&void 0!==i?i:"",f=null!==(c=null===(s=n.locales[t.prefix])||void 0===s?void 0:s.dir)&&void 0!==c?c:"ltr",p=o.filter((e=>e.prefix===t.prefix)),h=p.length?p[0][e.geo]:"",v=a("h3",{lang:g,dir:f},t.title.replace("{{geo}}",h)),w=a("p",{class:"locale-text",lang:g,dir:f},t.text),k="on"===(null===(d=t.globeGrid)||void 0===d?void 0:d.toLowerCase().trim())?"globe-grid.png":"flag-".concat(t.geo.replace("_","-"),".svg"),E=a("img",{class:"icon-milo",width:15,height:15,alt:t.button});E.addEventListener("error",(()=>E.src="".concat(n.miloLibs||n.codeRoot,"/features/georoutingv2/img/globe-grid.png")),{once:!0}),E.src="".concat(n.miloLibs||n.codeRoot,"/img/georouting/").concat(k);let L=a("span",{class:"icon margin-inline-end"},E),C=a("a",{class:"con-button blue button-l",lang:g,role:"button","aria-haspopup":!!l,"aria-expanded":!1,href:"#"},L);if(C.append(t.button),l){let o=a("img",{class:"icon-milo down-arrow",src:"".concat(n.miloLibs||n.codeRoot,"/ui/img/chevron.svg"),role:"presentation",width:15,height:15});L.appendChild(o),C.addEventListener("click",(o=>{o.preventDefault(),function(e,t,o,l,i,r){if(document.querySelector(".locale-modal-v2 .picker"))return;let c=a("ul",{class:"picker",dir:i});t.forEach((e=>{var t,l;let i=null!==(t=null===(l=n.locales[e.prefix])||void 0===l?void 0:l.ietf)&&void 0!==t?t:"",s=a("a",{lang:i,href:e.url},"".concat(o," - ").concat(e.language));m(s,e.prefix,r.prefix);let d=a("li",{},s);c.appendChild(d)})),e.parentNode.insertBefore(c,e.nextSibling);let s=e.getBoundingClientRect();window.innerHeight-s.bottom<=c.offsetHeight&&c.classList.add("top"),b(c,e),e.setAttribute("aria-expanded",!0),x(l)}(C,l,t.button,o,f,e)}))}else C.href=t.url,m(C,t.prefix,e.prefix);let y=a("a",{lang:g,href:e.url},e.button);m(y,e.prefix,t.prefix,"Stay");let R=a("div",{class:"link-wrapper"},C);return R.appendChild(y),u.append(v,w,R),u}async function L(e,t,o){let i=await async function(e){let t=l("fallbackrouting")||n.fallbackRouting,{prefix:o}=n.locale,a=window.location.href.replace("".concat(window.location.origin),"");a.startsWith(o)&&(a=a.replace(o,""));let i=[],r=[];return e.forEach(((e,o)=>{let n=e.prefix?"/".concat(e.prefix):"",l="".concat(n).concat(a),c=fetch(l,{method:"HEAD"}).then((a=>{a.ok?(e.url=l,i[o]=e):"off"!==t&&(e.url="".concat(n),i[o]=e)}));r.push(c)})),r.length>0&&await Promise.all(r),i.filter((e=>!!e))}(t);if(!i.length)return null;let r=a("div",{class:"georouting-wrapper fragment"});if(e.url=window.location.hash?document.location.href:"#",1===i.length){let t=E(e,i[0],o);return r.appendChild(t),r}let c=i.sort(((e,t)=>e.languageOrder-t.languageOrder)),s=u(c.map((e=>e.language)));return r.appendChild(s),c.forEach((t=>{let n=E(e,t,o,c),a=g(n,t.language);r.appendChild(a)})),r}async function C(e){let{miloLibs:t,codeRoot:a}=n,l=e.querySelector(".tabs"),s="".concat(t||a,"/blocks/section-metadata/section-metadata.css"),d="".concat(t||a,"/features/georoutingv2/georoutingv2.css"),u=[l?i(l):null,l?new Promise((e=>{r(s,e)})):null,new Promise((e=>{r(d,e)})),o.e(9565).then(o.bind(o,1946))],g=await Promise.all(u),{getModal:f,sendAnalytics:p}=g[3];return c=p,f(null,{class:"locale-modal-v2",id:"locale-modal-v2",content:e,closeEvent:"closeModal"})}async function y(e,t,u,g,p){var m,b,k;let x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(function(){let e=new URLSearchParams(window.location.search).get("georouting"),t=e||h("georouting");if("off"===e){let e=window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"",o=new Date;o.setTime(o.getTime()+31536e6);let n="expires=".concat(o.toUTCString());document.cookie="georouting=".concat(t,";").concat(n,";path=/;").concat(e)}else"on"===e&&(document.cookie="georouting=; expires= Thu, 01 Jan 1970 00:00:00 GMT");return"off"===t}())return;n=e,a=t,l=u,i=g,r=p;let E=(null!==x&&void 0!==x?x:o(1625)("".concat(null!==(m=e.contentRoot)&&void 0!==m?m:"","/georoutingv2.json"))).then((e=>e.json())).catch((()=>null)),y=async e=>{let{default:t}=await o.e(2332).then(o.bind(o,2332));return await t(n,a,l,e),d},R=null!==(b=null!==(k=await E)&&void 0!==k?k:await(()=>{var e;return fetch("".concat(null!==(e=n.contentRoot)&&void 0!==e?e:"","/georouting.json")).then((e=>e.json())).then(y).catch((()=>null))})())&&void 0!==b?b:await fetch("".concat((0,s.j)(),"/federal/georouting/georoutingv2.json")).then((e=>e.json())).catch((()=>null));if(R===d)return;let{locale:_}=n,S=_.prefix.replace("/",""),A=h("international"),j="us"===A?"":A,P=R.georouting.data.find((e=>e.prefix===S));if(P){if(j||""===j){let e=S.split("_")[0],t=j.split("_")[0];if(e!==t){let o=R.georouting.data.filter((e=>e.prefix===j)),n=await L(P,o,R.geos.data);n&&(f(await C(n)),c(new Event("Load:".concat(t||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}return}try{let e=await v();if(e&&!w(P).includes(e)){let t=function(e,t){return e.reduce(((e,o)=>(w(o).some((e=>e===t))&&e.push(o),e)),[])}(R.georouting.data,e),o=await L(P,t,R.geos.data);o&&(f(await C(o)),"gb"===e&&(e="uk"),c(new Event("Load:".concat(S||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}}catch(M){var D;null===(D=window.lana)||void 0===D||D.log(M.message)}}}}}]);
//# sourceMappingURL=3557.a0193f1e.chunk.js.map