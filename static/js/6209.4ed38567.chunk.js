"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[6209,7528],{7528:(e,t,n)=>{function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>i})},6209:(e,t,n)=>{n.r(t),n.d(t,{MerchQuantitySelect:()=>f});var i,s,o,a,r=n(7528),l=n(9063),d=(n(3658),(0,l.le)(i||(i=(0,r.A)(['\n    :host {\n        box-sizing: border-box;\n        --background-color: var(--qs-background-color, #f6f6f6);\n        --text-color: #000;\n        --radius: 5px;\n        --border-color: var(--qs-border-color, #e8e8e8);\n        --border-width: var(--qs-border-width, 1px);\n        --label-font-size: var(--qs-label-font-size, 12px);\n        --font-size: var(--qs-font-size, 12px);\n        --label-color: var(--qs-lable-color, #000);\n        --input-height: var(--qs-input-height, 30px);\n        --input-width: var(--qs-input-width, 72px);\n        --button-width: var(--qs-button-width, 30px);\n        --font-size: var(--qs-font-size, 12px);\n        --picker-down-icon: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="18" width="18"><path d="M4 7.01a1 1 0 0 1 1.706-.706L8.993 9.59l3.29-3.285A1 1 0 0 1 13.72 7.69l-.024.025L9.7 11.707a1 1 0 0 1-1.413 0L4.293 7.716A.995.995 0 0 1 4 7.01z" fill="%23787878"/></svg>\');\n        --picker-up-icon: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="18" width="18"><path d="M14 10.99a1 1 0 0 1-1.706.706L9.005 8.41l-3.289 3.286a1 1 0 0 1-1.437-1.387l.025-.024L8.3 6.293a1 1 0 0 1 1.413 0l3.994 3.991a.995.995 0 0 1 .293.706z" fill="%23787878"/></svg>\');\n        --checkmark-icon: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><path d="M8.648 1.613a.922.922 0 0 0-1.294.156L3.794 6.3 2.632 4.906a.922.922 0 0 0-1.416 1.18l1.89 2.269c.02.023.048.032.07.052a.862.862 0 0 0 .07.083.883.883 0 0 0 .128.07.892.892 0 0 0 .095.051.917.917 0 0 0 .345.076h.001a.915.915 0 0 0 .357-.08.897.897 0 0 0 .099-.057.88.88 0 0 0 .134-.077.862.862 0 0 0 .069-.086c.02-.021.047-.03.066-.053l4.264-5.427a.921.921 0 0 0-.156-1.294z" fill="%23787878"/></svg>\');\n        --qs-transition: var(--transition);\n\n        display: block;\n        position: relative;\n        color: var(--text-color);\n        line-height: var(--qs-line-height, 2);\n    }\n\n    .text-field {\n        display: flex;\n        align-items: center;\n        width: var(--input-width);\n        position: relative;\n        margin-top: 6px;\n    }\n\n    .text-field-input {\n        font-family: inherit;\n        padding: 0;\n        font-size: var(--font-size);\n        height: var(--input-height);\n        width: calc(var(--input-width) - var(--button-width));\n        border: var(--border-width) solid var(--border-color);\n        border-top-left-radius: var(--radius);\n        border-bottom-left-radius: var(--radius);\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        border-right: none;\n        padding-inline-start: 12px;\n        box-sizing: border-box;\n        -moz-appearance: textfield;\n        z-index: 1;\n    }\n\n    .text-field-input::-webkit-inner-spin-button,\n    .text-field-input::-webkit-outer-spin-button {\n        margin: 0;\n        -webkit-appearance: none;\n    }\n\n    .label {\n        font-size: var(--label-font-size);\n        color: var(--label-color);\n    }\n\n    .picker-button {\n        width: var(--button-width);\n        height: var(--input-height);\n        position: absolute;\n        inset-inline-end: 0;\n        border: var(--border-width) solid var(--border-color);\n        border-top-right-radius: var(--radius);\n        border-bottom-right-radius: var(--radius);\n        background-color: var(--background-color);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        padding: 0;\n    }\n\n    .picker-button-fill {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-image: var(--picker-down-icon);\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n    \n    .picker-button-fill.closed {\n        background-image: var(--picker-up-icon);\n    }\n\n    .popover {\n        position: absolute;\n        left: 0;\n        width: var(--input-width);\n        border-radius: var(--radius);\n        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        overflow: hidden;\n        z-index: 100;\n        transition: var(--qs-transition);\n        visibility: hidden;\n        box-sizing: border-box;\n    }\n\n    .popover[placement="bottom"] {\n        top: var(--input-height);\n        margin-top: var(--popover-margin-top, 6px);\n    }\n\n    .popover[placement="top"] {\n        bottom: var(--input-height);\n        margin-bottom: var(--popover-margin-bottom, 6px);\n    }\n\n    .popover.open {\n        visibility: visible;\n        background: #ffffff;\n        border: var(--border-width) solid var(--border-color);\n    }\n\n    .popover.closed {\n        visibility: hidden;\n        pointer-events: none;\n        transition: none;\n    }\n\n    ::slotted(p) {\n        margin: 0;\n    }\n\n    .item {\n        display: flex;\n        align-items: center;\n        color: var(--text-color);\n        font-size: var(--font-size);\n        padding-inline-start: 12px;\n        box-sizing: border-box;\n    }\n\n    .item.highlighted {\n        background-color: var(--background-color);\n    }\n    \n    .item.selected {\n        background-image: var(--checkmark-icon);\n        background-position: right 7px center;\n        background-repeat: no-repeat;\n    }\n'])))),h=(Object.freeze({MONTH:"MONTH",YEAR:"YEAR",TWO_YEARS:"TWO_YEARS",THREE_YEARS:"THREE_YEARS",PERPETUAL:"PERPETUAL",TERM_LICENSE:"TERM_LICENSE",ACCESS_PASS:"ACCESS_PASS",THREE_MONTHS:"THREE_MONTHS",SIX_MONTHS:"SIX_MONTHS"}),Object.freeze({ANNUAL:"ANNUAL",MONTHLY:"MONTHLY",TWO_YEARS:"TWO_YEARS",THREE_YEARS:"THREE_YEARS",P1D:"P1D",P1Y:"P1Y",P3Y:"P3Y",P10Y:"P10Y",P15Y:"P15Y",P3D:"P3D",P7D:"P7D",P30D:"P30D",HALF_YEARLY:"HALF_YEARLY",QUARTERLY:"QUARTERLY"}),"".concat('span[is="inline-price"][data-wcs-osi]',",").concat('a[is="checkout-link"][data-wcs-osi],button[is="checkout-button"][data-wcs-osi]',",").concat('a[is="upt-link"]'),"merch-card-quantity:change");Object.freeze({SEGMENTATION:"segmentation",BUNDLE:"bundle",COMMITMENT:"commitment",RECOMMENDATION:"recommendation",EMAIL:"email",PAYMENT:"payment",CHANGE_PLAN_TEAM_PLANS:"change-plan/team-upgrade/plans",CHANGE_PLAN_TEAM_PAYMENT:"change-plan/team-upgrade/payment"}),Object.freeze({STAGE:"STAGE",PRODUCTION:"PRODUCTION",LOCAL:"LOCAL"});function c(e,t){let n;return function(){let i=this,s=arguments;clearTimeout(n),n=setTimeout((()=>e.apply(i,s)),t)}}var[u,p,b,g,v,m]=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter","Tab"],f=class extends l.D{static get properties(){return{closed:{type:Boolean,reflect:!0},selected:{type:Number},min:{type:Number},max:{type:Number},step:{type:Number},maxInput:{type:Number,attribute:"max-input"},options:{type:Array},highlightedIndex:{type:Number},defaultValue:{type:Number,attribute:"default-value",reflect:!0},title:{type:String}}}static get styles(){return d}constructor(){super(),this.options=[],this.title="",this.closed=!0,this.min=0,this.max=0,this.step=0,this.maxInput=void 0,this.defaultValue=void 0,this.selectedValue=0,this.highlightedIndex=0,this.toggleMenu=this.toggleMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.openMenu=this.openMenu.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.boundKeydownListener=this.handleKeydown.bind(this),this.handleKeyupDebounced=c(this.handleKeyup.bind(this),500),this.debouncedQuantityUpdate=c(this.handleQuantityUpdate.bind(this),500)}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",this.boundKeydownListener),window.addEventListener("mousedown",this.handleClickOutside),this.addEventListener(h,this.debouncedQuantityUpdate)}get button(){return this.shadowRoot.querySelector("button")}handleKeyup(e){e.key===g||e.key===b||(this.handleInput(),this.sendEvent())}selectValue(){if(!this.closed){let e=this.options[this.highlightedIndex];if(!e)return void(this.closed=!0);this.selectedValue=e,this.handleMenuOption(this.selectedValue),this.closed=!0}}handleKeydown(e){switch(e.key){case" ":this.selectValue();break;case"Escape":this.closed=!0;break;case m:this.selectValue();break;case g:this.closed?this.openMenu():this.highlightedIndex=(this.highlightedIndex+1)%this.options.length,e.preventDefault();break;case b:this.closed||(this.highlightedIndex=(this.highlightedIndex-1+this.options.length)%this.options.length),e.preventDefault();break;case v:this.selectValue(),this.button.classList.contains("focused")&&e.preventDefault()}e.composedPath().includes(this)&&e.stopPropagation()}adjustInput(e,t){this.selectedValue=t,e.value=t,this.highlightedIndex=this.options.indexOf(t)}handleInput(){let e=this.shadowRoot.querySelector(".text-field-input"),t=e.value.replace(/\D/g,"");e.value=t;let n=parseInt(t);if(!isNaN(n))if(n>0&&n!==this.selectedValue){let t=n;this.maxInput&&n>this.maxInput&&(t=this.maxInput),this.min&&t<this.min&&(t=this.min),this.adjustInput(e,t)}else this.adjustInput(e,this.selectedValue||this.min||1)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("mousedown",this.handleClickOutside),this.removeEventListener("keydown",this.boundKeydownListener),this.removeEventListener(h,this.debouncedQuantityUpdate)}generateOptionsArray(){let e=[];if(this.step>0)for(let t=this.min;t<=this.max;t+=this.step)e.push(t);return e}update(e){(e.has("min")||e.has("max")||e.has("step")||e.has("defaultValue"))&&(this.options=this.generateOptionsArray(),this.highlightedIndex=this.defaultValue?this.options.indexOf(this.defaultValue):0,this.handleMenuOption(this.defaultValue?this.defaultValue:this.options[0])),super.update(e)}handleClickOutside(e){e.composedPath().includes(this)||this.closeMenu()}toggleMenu(){this.closed=!this.closed,this.adjustPopoverPlacement(),this.closed&&(this.highlightedIndex=this.options.indexOf(this.selectedValue))}closeMenu(){this.closed=!0,this.highlightedIndex=this.options.indexOf(this.selectedValue)}openMenu(){this.closed=!1,this.adjustPopoverPlacement()}adjustPopoverPlacement(){let e=this.shadowRoot.querySelector(".popover");this.closed||e.getBoundingClientRect().bottom<=window.innerHeight?e.setAttribute("placement","bottom"):e.setAttribute("placement","top")}handleMouseEnter(e){this.highlightedIndex=e}handleMenuOption(e,t){var n;e===this.max&&null!==(n=this.shadowRoot.querySelector(".text-field-input"))&&void 0!==n&&n.focus(),this.selectedValue=e,this.sendEvent(),t&&this.closeMenu()}sendEvent(){let e=new CustomEvent("merch-quantity-selector:change",{detail:{option:this.selectedValue},bubbles:!0});this.dispatchEvent(e)}get offerSelect(){return this.querySelector("merch-offer-select")}get popover(){return(0,l.Se)(s||(s=(0,r.A)([' <div id="qsPopover" class="popover ','" placement="bottom" role="listbox" aria-multiselectable="false" aria-labelledby="qsLabel" tabindex="-1">\n            ',"\n        </div>"])),this.closed?"closed":"open",this.options.map(((e,t)=>(0,l.Se)(o||(o=(0,r.A)(['\n                    <div\n                        class="item ',"",'"\n                        role="option"\n                        id="','"\n                        aria-selected=','\n                        @click="','"\n                        @mouseenter="','"\n                    >\n                        ',"\n                    </div>\n                "])),t===this.highlightedIndex?"highlighted":"",this.selectedValue===e?" selected":"","qs-item-".concat(t),this.selectedValue===e,(()=>this.handleMenuOption(e,!0)),(()=>this.handleMouseEnter(t)),e===this.max?"".concat(e,"+"):e))))}handleQuantityUpdate(e){let{detail:{quantity:t}}=e;if(t&&t!==this.selectedValue){this.selectedValue=t;let e=this.shadowRoot.querySelector(".text-field-input");e&&(e.value=t),this.sendEvent()}}onButtonFocus(e){e.target.classList.add("focused")}onButtonBlur(e){e.target.classList.remove("focused")}render(){return(0,l.Se)(a||(a=(0,r.A)(['\n            <div class="label" id="qsLabel">','</div>\n            <div class="text-field">\n                <input\n                    class="text-field-input"\n                    aria-labelledby="qsLabel"\n                    name="quantity"\n                    role="combobox"\n                    aria-expanded=','\n                    aria-controls="qsPopover"\n                    aria-activedescendant="','"\n                    .value="','"\n                    type="text"\n                    autocomplete="off"\n                    @keydown="','"\n                    @keyup="','"\n                />\n                <button class="picker-button" aria-activedescendant="','" \n                        @focus="','" @blur="','"\n                        aria-controls="qsPopover" aria-expanded=',' aria-labelledby="qsLabel" @click="','">\n                    <div\n                        class="picker-button-fill ','"\n                    ></div>\n                </button>\n                ',"\n            </div>\n        "])),this.title,!this.closed,this.closed?l.u:"qs-item-".concat(this.highlightedIndex),this.selectedValue,this.handleKeydown,this.handleKeyupDebounced,this.closed?l.u:"qs-item-".concat(this.highlightedIndex),this.onButtonFocus,this.onButtonBlur,!this.closed,this.toggleMenu,this.closed?"open":"closed",this.popover)}};customElements.define("merch-quantity-select",f)}}]);
//# sourceMappingURL=6209.4ed38567.chunk.js.map