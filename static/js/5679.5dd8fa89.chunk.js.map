{"version":3,"file":"static/js/5679.5dd8fa89.chunk.js","mappings":"8LAGA,eAAsBA,EAAcC,GAAiB,IAAAC,EACnD,MAAMC,GAAUC,EAAAA,EAAAA,WAAUC,EAAAA,aAC1B,IAAKF,EAAS,OAAO,EACrB,MAAO,CAAEG,GAAQH,EAAQI,MAAM,KACzBC,EAA0C,UAAjB,QAAVN,GAAAO,EAAAA,EAAAA,oBAAU,IAAAP,GAAG,QAAHA,EAAVA,EAAaQ,WAAA,IAAAR,OAAA,EAAbA,EAAkBS,MAAkB,GAAK,SAC9D,IAAIC,EAAA,eAAAC,OAAqBL,EAAY,6CAAAK,OAA4CP,GAC7EL,IAAiBW,EAAA,GAAAC,OAASD,EAAG,qBAAAC,OAAoBZ,IAErD,IAAI,IAAAa,EACF,MAAMC,QAAoBC,MAAMJ,EAAK,CACnCK,OAAQ,MACRC,QAAS,CACP,YAAa,gBACb,eAAgB,oBAElBC,KAAM,OAGR,OAAe,QAAfL,SADsBC,EAAYK,QACnBC,2BAAA,IAAAP,OAAA,EAARA,EAA6BQ,aAEtC,CAAE,MAAOC,GACP,OAAO,CACT,CACF,CAEA,eAAOC,EAA4BC,GACjC,IAAmB,IAAfA,EAAqB,OAAOA,EAChC,GAAIC,OAAOC,SAASC,SAASC,SAAS,SAAU,MAAO,KACvD,MAAMC,GAAqB1B,EAAAA,EAAAA,WAAU,kBACrC,GAAI,OAAA0B,QAAA,IAAAA,GAAAA,EAAoBD,SAAS,WAAY,MAAO,KAEpD,aADuB7B,EAAc+B,SAASC,SAEhD,C","sources":["../node_modules/@adobecom/features/mep/addons/lob.js"],"sourcesContent":["import { getConfig } from '../../../utils/utils.js';\nimport { getCookie, AMCV_COOKIE } from '../../../martech/helpers.js';\n\nexport async function getSpectraLOB(lastVisitedPage) {\n  const getECID = getCookie(AMCV_COOKIE);\n  if (!getECID) return false;\n  const [, ECID] = getECID.split('|');\n  const domainPrefix = getConfig()?.env?.name === 'prod' ? '' : 'stage.';\n  let url = `https://www.${domainPrefix}adobe.com/int/v1/aep/events/webpage?ecid=${ECID}`;\n  if (lastVisitedPage) url = `${url}&lastVisitedPage=${lastVisitedPage}`;\n\n  try {\n    const rawResponse = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'x-api-key': 'MarketingTech',\n        'Content-Type': 'application/json',\n      },\n      body: null,\n    });\n    const content = await rawResponse.json();\n    return content.modelLineOfBusiness?.toLowerCase();\n    /* c8 ignore next 3 */\n  } catch (e) {\n    return false;\n  }\n}\n\nexport default async function init(enablement) {\n  if (enablement !== true) return enablement;\n  if (window.location.hostname.includes('.aem.')) return 'cc';\n  const consentCookieValue = getCookie('OptanonConsent');\n  if (consentCookieValue?.includes('C0002:0')) return 'cc';\n  const lobValue = await getSpectraLOB(document.referrer);\n  return lobValue;\n}\n"],"names":["getSpectraLOB","lastVisitedPage","_getConfig","getECID","getCookie","AMCV_COOKIE","ECID","split","domainPrefix","getConfig","env","name","url","concat","_content$modelLineOfB","rawResponse","fetch","method","headers","body","json","modelLineOfBusiness","toLowerCase","e","init","enablement","window","location","hostname","includes","consentCookieValue","document","referrer"],"sourceRoot":""}