{"version":3,"file":"static/js/4543.ea77e4ed.chunk.js","mappings":"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","sources":["../../milo/libs/martech/helpers.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nconst AMCV_COOKIE = 'AMCV_9E1005A551ED61CA0A490D45@AdobeOrg';\nconst KNDCTR_COOKIE_KEYS = [\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_identity',\n  'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_cluster',\n];\n\nconst KNDCTR_CONSENT_COOKIE = 'kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent';\nconst OPT_ON_AND_CONSENT_COOKIE = 'OptanonConsent';\n\nconst DATA_STREAM_IDS_PROD = { default: '913eac4d-900b-45e8-9ee7-306216765cd2', business: '0fd7a243-507d-4035-9c75-e42e42f866a0' };\nconst DATA_STREAM_IDS_STAGE = { default: 'e065836d-be57-47ef-b8d1-999e1657e8fd', business: '2eedf777-b932-4f2a-a0c5-b559788929bf' };\n\nlet dataStreamId = '';\n\nfunction getDomainWithoutWWW() {\n  const domain = window?.location?.hostname;\n  return domain.replace(/^www\\./, '');\n}\n\nconst hitTypeEventTypeMap = {\n  propositionFetch: 'decisioning.propositionFetch',\n  pageView: 'web.webpagedetails.pageViews',\n  propositionDisplay: 'decisioning.propositionDisplay',\n};\n\nfunction generateUUIDv4() {\n  const randomValues = new Uint8Array(16);\n  crypto.getRandomValues(randomValues);\n  randomValues[6] = (randomValues[6] % 16) + 64;\n  randomValues[8] = (randomValues[8] % 16) + 128;\n  let uuid = '';\n  randomValues.forEach((byte, index) => {\n    const hex = byte.toString(16).padStart(2, '0');\n    if (index === 4 || index === 6 || index === 8 || index === 10) {\n      uuid += '-';\n    }\n    uuid += hex;\n  });\n\n  return uuid;\n}\n\nfunction getDeviceInfo() {\n  return {\n    screenWidth: window.screen.width,\n    screenHeight: window.screen.height,\n    screenOrientation: window.innerWidth > window.innerHeight ? 'landscape' : 'portrait',\n    viewportWidth: window.innerWidth,\n    viewportHeight: window.innerHeight,\n  };\n}\n\nfunction getCookie(key) {\n  const cookie = document.cookie.split(';')\n    .map((x) => decodeURIComponent(x.trim()).split(/=(.*)/s))\n    .find(([k]) => k === key);\n\n  return cookie ? cookie[1] : null;\n}\n\nfunction setCookie(key, value, options = {}) {\n  const expires = options.expires || 730;\n  const date = new Date();\n  date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n  const expiresString = `expires=${date.toUTCString()}`;\n\n  document.cookie = `${key}=${value}; ${expiresString}; path=/ ; domain=.${getDomainWithoutWWW()};`;\n}\n\nexport const getVisitorStatus = ({\n  expiryDays = 30,\n  cookieName = 's_nr',\n  domain = `.${(new URL(window.location.origin)).hostname}`,\n}) => {\n  const currentTime = new Date().getTime();\n  const cookieValue = getCookie(cookieName) || '';\n  const cookieAttributes = { expires: new Date(currentTime + expiryDays * 24 * 60 * 60 * 1000) };\n\n  if (domain) {\n    cookieAttributes.domain = domain;\n  }\n\n  if (!cookieValue) {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  const [storedTime, storedState] = cookieValue.split('-').map((value) => value.trim());\n\n  if (currentTime - storedTime < 30 * 60 * 1000 && storedState === 'New') {\n    setCookie(cookieName, `${currentTime}-New`, cookieAttributes);\n    return 'New';\n  }\n\n  setCookie(cookieName, `${currentTime}-Repeat`, cookieAttributes);\n  return 'Repeat';\n};\n\nfunction getOrGenerateUserId() {\n  const amcvCookieValue = getCookie(AMCV_COOKIE);\n\n  if (!amcvCookieValue || (amcvCookieValue.indexOf('MCMID|') === -1)) {\n    const fpidValue = generateUUIDv4();\n    return {\n      FPID: [{\n        id: fpidValue,\n        authenticatedState: 'ambiguous',\n        primary: true,\n      }],\n    };\n  }\n\n  return {\n    ECID: [{\n      id: amcvCookieValue.match(/MCMID\\|([^|]+)/)?.[1],\n      authenticatedState: 'ambiguous',\n      primary: true,\n    }],\n  };\n}\n\nfunction getUpdatedVisitAttempt() {\n  const { hostname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('secondHit')) || 0;\n\n  const isAdobeDomain = hostname === 'www.adobe.com' || hostname === 'www.stage.adobe.com';\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('secondHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nfunction getUpdatedAcrobatVisitAttempt() {\n  const { hostname, pathname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('acrobatSecondHit')) || 0;\n\n  const isAdobeDomain = (hostname === 'www.adobe.com' || hostname === 'www.stage.adobe.com') && /\\/acrobat/.test(pathname);\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('acrobatSecondHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nfunction getUpdatedDxVisitAttempt() {\n  const { hostname } = window.location;\n  const secondVisitAttempt = Number(localStorage.getItem('dxHit')) || 0;\n\n  const isAdobeDomain = (hostname === 'business.adobe.com' || hostname === 'business.stage.adobe.com' || hostname === 'www.marketo.com' || hostname === 'engage.marketo.com');\n  const consentCookieValue = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n\n  if (!consentCookieValue?.includes('C0002:0') && isAdobeDomain && secondVisitAttempt <= 2) {\n    const updatedVisitAttempt = secondVisitAttempt === 0 ? 1 : secondVisitAttempt + 1;\n    localStorage.setItem('dxHit', updatedVisitAttempt);\n    return updatedVisitAttempt;\n  }\n\n  return secondVisitAttempt;\n}\n\nexport function getPageNameForAnalytics() {\n  const { hostname, pathname } = new URL(window.location.href);\n  const urlRegions = Object.fromEntries(['ae_ar', 'ae_en', 'africa', 'apac', 'ar', 'at', 'au', 'be', 'be_en', 'be_fr', 'be_nl',\n    'bg', 'br', 'ca', 'ca_es', 'ca_fr', 'ch', 'ch_de', 'ch_fr', 'ch_it', 'cin', 'cis_en', 'cis_ru', 'cl', 'cn', 'co', 'cr', 'cs',\n    'cs_cz', 'cy', 'cy_en', 'cz', 'da', 'da_dk', 'de', 'de_de', 'dk', 'ec', 'ee', 'eeurope', 'eg_ar', 'eg_en', 'en', 'en_gb',\n    'en_us', 'es', 'es_es', 'eu_es', 'fi', 'fi_fi', 'fr', 'fr_fr', 'gr', 'gr_el', 'gr_en', 'gt', 'hk', 'hk_en', 'hk_zh', 'hr',\n    'hr_hr', 'hu', 'hu_hu', 'id_en', 'id_id', 'ie', 'il', 'il_en', 'il_he', 'in', 'in_hi', 'it', 'it_it', 'ja', 'ja_jp', 'jp',\n    'ko', 'ko_kr', 'kr', 'kw_ar', 'kw_en', 'la', 'lt', 'lu', 'lu_de', 'lu_en', 'lu_fr', 'lv', 'mena', 'mena_ar', 'mena_en',\n    'mena_fr', 'mt', 'mx', 'my_en', 'my_ms', 'na', 'nb', 'nb_no', 'ng', 'nl', 'nl_nl', 'no', 'nz', 'pe', 'ph_en', 'ph_fil',\n    'pl', 'pl_pl', 'pr', 'pt', 'pt_br', 'qa_ar', 'qa_en', 'ro', 'ro_ro', 'rs', 'ru', 'ru_ru', 'sa_ar', 'sa_en', 'se', 'sea',\n    'sg', 'si', 'sk', 'sk_sk', 'sl_si', 'sv', 'sv_se', 'th', 'th_en', 'th_th', 'tr', 'tr_tr', 'tw', 'tw_cn', 'ua', 'uk', 'uk_ua',\n    'us', 'vn_en', 'vn_vi', 'za', 'zh-Hans', 'zh-Hant', 'zh-tw', 'zh_cn', 'zh_tw'].map((r) => [r, 1]));\n\n  const path = pathname.replace(/\\.(aspx|php|html)/g, '').split('/').filter((s) => s && !urlRegions[s.toLowerCase()]).join(':');\n  return `${hostname.replace('www.', '')}${path ? `:${path}` : ''}`;\n}\n\nexport function getProcessedPageNameForAnalytics() {\n  const pageName = getPageNameForAnalytics().toLowerCase();\n  const pageArray = pageName.split(':');\n\n  const FILTERS = {\n    lightroom: ['lightroom.adobe.com', 'embed', 'shares', 'libraries', 'gallery', 'learn', 'tutorial', 'discover', 'remix', 'api', 'feedback', 'lrdesktop', 'albums', 'shared-with-you', 'search', 'gallery', 'incomplete', 'assets', 'u', 'slideshow'],\n    stock: ['stock.adobe.com', '3d-assets', 'aaid', 'category', 'collections', 'contributor', 'download', 'downloadfiledirectly', 'id', 'images', 'Library', 'pages', 'sc', 'search', 'stock-photo', 'templates', 'urn', 'video', 'editorial', 'free', 'audio', 'premium', 'login', 'generate', 'artisthub'],\n    xd: ['xd.adobe.com', 'embed', 'grid', 'screen', 'specs', 'view', 'spec'],\n    express: ['express.adobe.com', 'aaid', 'accept-invite', 'branding', 'design', 'design-remix', 'folders', 'libraries', 'manage-access', 'page', 'post', 'remix', 'sc', 'sp', 'urn', 'video', 'new', 'projects', 'app-licensing', 'app-licensing-homepage'],\n    account: ['accounts.adobe.com', 'account.adobe.com', '30_free_days', '60_free_days', '90_free_days', 'agent_chat', 'cancel-plan', 'change-plan', 'change reason selected modal', 'complete', 'cs_help', 'edit-payment', 'modal', 'new-change-plan-offers-loaded', 'no_offershown', 'offer_search', 'plans', 'promotion', 'review', 'save_offer', 'switch', 'temp_license_prod', 'billing-history', 'cancel-reason', 'change reason selected modal', 'cs_help', 'details', 'manage plan modal', 'modal', 'offer_search', 'orders', 'other', 'plan-benefits-modal', 'plan-details', 'returns', 'save_offer', 'downloads'],\n    adminconsole: ['adminconsole.adobe.com', 'account', 'administrators', 'add-products', 'all-packages', 'billing-history', 'contract', 'contracts-and-agreements', 'enterprise', 'identity', 'packages', 'products', 'profile', 'profiles', 'overview', 'quick-assign-products', 'renew-products', 'requests', 'review-user-introductions', 'settings', 'storage', 'support', 'user-management', 'users', 'version.xml', 'all-users', 'directories', 'summary', 'user-groups'],\n    community: ['community.adobe.com', 'account-payment-plan-discussions', 'acrobat-discussions', 'acrobat-reader-discussions', 'acrobat-reader-mobile-discussions', 'acrobat-sdk-discussions', 'acrobat-services-api-discussions', 'adobe-acrobat-online-discussions', 'adobe-acrobat-sign-discussions', 'adobe-aero-bugs', 'adobe-aero-discussions', 'adobe-color-discussions', 'adobe-express-bugs', 'adobe-express-discussions', 'adobe-firefly-bugs', 'adobe-firefly-discussions', 'adobe-firefly-ideas', 'adobe-fonts-discussions', 'adobe-learning-manager-discussions', 'adobe-media-encoder-discussions', 'adobe-scan-discussions', 'adobe-xd-discussions', 'after-effects-beta-discussions', 'after-effects-bugs', 'after-effects-discussions', 'after-effects-ideas', 'air-discussions', 'animate-discussions', 'audition-discussions', 'badges', 'bridge-discussions', 'business-catalyst-discussions-read-only', 'camera-raw-discussions', 'captivate-discussions', 'character-animator-discussions', 'coldfusion-discussions', 'color-management-discussions', 'connect-discussions', 'contentarchivals', 'creative-cloud-desktop-discussions', 'creative-cloud-services-discussions', 'digital-editions-discussions', 'dimension-discussions', 'download-install-discussions', 'dreamweaver-discussions', 'enterprise-teams-discussions', 'exchange-discussions', 'fireworks-discussions', 'flash-player-discussions', 'forums', 'framemaker-discussions', 'fresco-discussions', 'illustrator-discussions', 'illustrator-draw-discussions', 'illustrator-on-the-ipad-discussions', 'incopy-discussions', 'indesign-discussions', 'kudos', 'lightroom-classic-bugs', 'lightroom-classic-discussions', 'lightroom-classic-ideas', 'lightroom-ecosystem-cloud-based-bugs', 'lightroom-ecosystem-cloud-based-discussions', 'lightroom-ecosystem-cloud-based-ideas', 'mixamo-discussions', 'muse-discussions', 'photoshop-beta-bugs', 'photoshop-beta-discussions', 'photoshop-discussions', 'photoshop-ecosystem-bugs', 'photoshop-ecosystem-discussions', 'photoshop-ecosystem-ideas', 'photoshop-elements-discussions', 'photoshop-express-discussions', 'photoshop-sketch-discussions', 'postscript-discussions', 'premiere-elements-discussions', 'premiere-pro-beta-bugs', 'premiere-pro-beta-discussions', 'premiere-pro-bugs', 'premiere-pro-discussions', 'premiere-pro-ideas', 'premiere-rush-discussions', 'robohelp-discussions', 'stock-contributors-discussions', 'stock-discussions', 'substance-3d-designer-discussions', 'substance-3d-painter-bugs', 'substance-3d-painter-discussions', 'substance-3d-plugins-discussions', 'substance-3d-sampler-discussions', 'substance-3d-stager-discussions', 't5', 'team-projects-discussions', 'the-lounge-discussions', 'type-typography-discussions', 'user', 'using-the-community-discussions', 'video', 'video-hardware-discussions', 'video-lounge-discussions', 'xd-discussions'],\n    acrobat: ['acrobat.adobe.com', 'aaid', 'documents', 'gdrive', 'id', 'link', 'onedrive', 'sc', 'urn'],\n    behance: ['behance.net', 'appreciated', 'collection', 'collections', 'dailycc', 'discover', 'drafts', 'editor', 'followers', 'following', 'font', 'gallery', 'inbox', 'info', 'insights', 'joblist', 'live', 'loggedout', 'moodboard', 'profile', 'projects', 'report', 'resume', 'search', 'talent'],\n    fonts: ['fonts.adobe.com', 'confirm', 'fonts', 'results', 'select', 'upload', 'vs'],\n    photoshop: ['photoshop.adobe.com', 'id', 'urn', 'aaid', 'sc', 'us', 'ap', 'eu', 'va6c2', 'va7'],\n    plan: ['plan.adobe.com', 'cancel', 'cancel-reason', 'change', 'entitlements', 'interest', 'learn-more', 'loss-aversion-page', 'offers', 'offers-loaded', 'quiz', 'reasons', 'review', 'select-licenses', 'switch', 'switch-plan', 'view', 'plans', 'view-offer-details', 'saved', 'results'],\n    color: ['color.adobe.com', 'cloud', 'color', 'color-accessibility', 'color-contrast-analyzer', 'color-wheel', 'color-wheel-game', 'image', 'image-gradient', 'mythemes', 'urn', 'aaid', 'sc', 'library', 'trends', 'create'],\n    creative: ['creative.adobe.com', 'code', 'redeem', 'share'],\n    portfolio: ['portfolio.adobe.com', 'account-swaps', 'admin', 'preview', 'editor', 'firsteditor', 'switch-theme', 'user'],\n    schedule: ['schedule.adobe.com', 'calendar', 'connect', 'finalise'],\n    newexpress: ['new.express.adobe.com', 'aaid', 'branding', 'brands', 'design', 'design-remix', 'id', 'libraries', 'link', 'page', 'post', 'sc', 'sp', 'template', 'urn', 'video', 'webpage', 'your-stuff'],\n  };\n\n  const SPECIAL_DOMAINS = [\n    'lightroom.adobe.com', 'stock.adobe.com', 'xd.adobe.com', 'express.adobe.com',\n    'accounts.adobe.com', 'account.adobe.com', 'adminconsole.adobe.com',\n    'community.adobe.com', 'acrobat.adobe.com', 'behance.net', 'fonts.adobe.com',\n    'photoshop.adobe.com', 'plan.adobe.com', 'color.adobe.com', 'creative.adobe.com',\n    'portfolio.adobe.com', 'schedule.adobe.com', 'new.express.adobe.com',\n  ];\n\n  const signMatch = pageName.match(/.*\\.echosign\\..*|.*\\.adobesign\\..*|.*documents\\.adobe\\.com.*/);\n  if (signMatch) {\n    return signMatch[1];\n  }\n  if (document.title && document.title.includes('404')) {\n    return 'adobe.com:404';\n  }\n  if (pageName.match(/^stock\\.adobe\\.com:..:(1|2|3[^\\d]|4|5|6|7|8|9)|^stock\\.adobe\\.com:(1|2|3[^\\d]|4|5|6|7|8|9)/)) {\n    return 'stock.adobe.com:file';\n  }\n  for (const [, filter] of Object.entries(FILTERS)) {\n    if (pageName.startsWith(filter[0])) {\n      const filtered = pageArray.filter((value) => filter.includes(value)).join(':');\n      return SPECIAL_DOMAINS.includes(filtered) ? pageName : filtered;\n    }\n  }\n\n  return pageName;\n}\n\nfunction resolveAgiCampaignAndFlag() {\n  const { hostname, pathname, href } = window.location;\n  const consentValue = getCookie('OptanonConsent');\n  const EXPIRY_TIME_IN_DAYS = 90;\n  const CAMPAIGN_PAGE_VALUE = '1';\n  const ACROBAT_DOMAIN_VALUE = '2';\n\n  if (!consentValue?.includes('C0002:1')) {\n    return { agiCampaign: false, setAgICampVal: false };\n  }\n\n  const agiCookie = getCookie('agiCamp');\n  const setAgiCookie = (value) => {\n    setCookie('agiCamp', value, {\n      expires: EXPIRY_TIME_IN_DAYS,\n      domain: getDomainWithoutWWW(),\n    });\n  };\n\n  const campaignRegex = /ttid=(all-in-one|reliable|versatile|combine-organize-e-sign|webforms-edit-e-sign)/;\n  const isGotItPage = pathname.includes('/acrobat/campaign/acrobats-got-it.html') && campaignRegex.test(href);\n  const isAcrobatDomain = hostname === 'acrobat.adobe.com' || (hostname === 'www.adobe.com' && pathname.includes('/acrobat'));\n\n  let agiCampaign = false;\n\n  if (isGotItPage && (!agiCookie || agiCookie !== ACROBAT_DOMAIN_VALUE)) {\n    setAgiCookie(CAMPAIGN_PAGE_VALUE);\n    agiCampaign = CAMPAIGN_PAGE_VALUE;\n  } else if (isAcrobatDomain && (!agiCookie || agiCookie !== CAMPAIGN_PAGE_VALUE)) {\n    if (agiCookie === ACROBAT_DOMAIN_VALUE) return { agiCampaign: false, setAgICampVal: false };\n    setAgiCookie(ACROBAT_DOMAIN_VALUE);\n    agiCampaign = ACROBAT_DOMAIN_VALUE;\n  }\n\n  const setAgICampVal = agiCampaign === CAMPAIGN_PAGE_VALUE || agiCampaign === ACROBAT_DOMAIN_VALUE;\n  return { agiCampaign, setAgICampVal };\n}\n\nfunction getGlobalPrivacyControl() {\n  if (!navigator || !navigator.globalPrivacyControl) return '';\n  return navigator.globalPrivacyControl.toString();\n}\n\nfunction getEntityId() {\n  if (window.location.href === 'https://www.adobe.com/express/') {\n    return 'a2c4e4e4-eaa9-11ed-a05b-0242ac120003';\n  }\n  const metaTag = document.querySelector('meta[name=\"entity_id\"]');\n  return metaTag ? metaTag.getAttribute('content') : null;\n}\n\nfunction getPrimaryProduct() {\n  const productNameMeta = document.querySelector('meta[name=\"primaryproductname\"]');\n  return productNameMeta?.content || null;\n}\n\nconst LOCALE_MAPPINGS = {\n  '': 'en-US', ar: 'es-AR', br: 'pt-BR', ca: 'en-CA', ca_fr: 'fr-CA', cl: 'es-CL', co: 'es-CO', la: 'es-LA', mx: 'es-MX', pe: 'es-PE', africa: 'en-AFRICA', be_fr: 'fr-BE', be_en: 'en-BE', be_nl: 'nl-BE', cy_en: 'en-CY', dk: 'da-DK', de: 'de-DE', ee: 'et-EE', es: 'es-ES', fr: 'fr-FR', gr_en: 'en-GR', ie: 'en-IE', il_en: 'en-IL', it: 'it-IT', lv: 'lv-LV', lt: 'lt-LT', lu_de: 'de-LU', lu_en: 'en-LU', lu_fr: 'fr-LU', hu: 'hu-HU', mt: 'en-MT', mena_en: 'en-MENA', nl: 'nl-NL', no: 'no-NO', pl: 'pl-PL', pt: 'pt-PT', ro: 'ro-RO', sa_en: 'en-SA', ch_de: 'de-CH', si: 'sl-SI', sk: 'sk-SK', ch_fr: 'fr-CH', fi: 'fi-FI', se: 'sv-SE', ch_it: 'it-CH', tr: 'tr-TR', ae_en: 'en-AE', uk: 'en-UK', at: 'de-AT', cz: 'cs-CZ', bg: 'bg-BG', ru: 'ru-RU', ua: 'uk-UA', il_he: 'iw-IL', ae_ar: 'ar-AE', mena_ar: 'ar-MENA', sa_ar: 'ar-SA', au: 'en-AU', hk_en: 'en-HK', in: 'en-IN', id_id: 'in-ID', id_en: 'en-ID', my_ms: 'ms-MY', my_en: 'en-MY', nz: 'en-NZ', ph_en: 'en-PH', ph_fil: 'fil-PH', sg: 'en-SG', th_en: 'en-TH', in_hi: 'hi-IN', th_th: 'th-TH', cn: 'zh-CN', hk_zh: 'zh-HK', tw: 'zh-hant-TW', jp: 'ja-JP', kr: 'ko-KR', langstore: 'en-US', za: 'en-ZA', ng: 'en-NG', cr: 'es-CR', ec: 'es-EC', pr: 'es-PR', gt: 'es-GT', eg_ar: 'ar-EG', kw_ar: 'ar-KW', qa_ar: 'ar-QA', eg_en: 'en-EG', kw_en: 'en-KW', qa_en: 'en-QA', gr_el: 'el-GR', vn_en: 'en-VN', vn_vi: 'vi-VN', cis_ru: 'ru-CIS', cis_en: 'en-CIS',\n};\n\nexport function getLanguageCode(locale) {\n  const prefix = locale?.prefix?.replace(/^\\//, '') || '';\n  return LOCALE_MAPPINGS[prefix] || LOCALE_MAPPINGS[''];\n}\n\nfunction getUpdatedContext({\n  screenWidth, screenHeight, screenOrientation,\n  viewportWidth, viewportHeight, localTime, timezoneOffset,\n}) {\n  return {\n    device: {\n      screenHeight,\n      screenWidth,\n      screenOrientation,\n    },\n    environment: {\n      type: 'browser',\n      browserDetails: {\n        viewportWidth,\n        viewportHeight,\n      },\n    },\n    placeContext: {\n      localTime,\n      localTimezoneOffset: timezoneOffset,\n    },\n  };\n}\n\nfunction isFirstVisit() {\n  const identityCookie = getCookie(KNDCTR_COOKIE_KEYS[0]);\n  if (!identityCookie) {\n    window.marketingtech = window.marketingtech || {};\n    window.marketingtech.isFirstVisit = true;\n    return true;\n  }\n  return false;\n}\n\nconst getMartechCookies = () => document.cookie.split(';')\n  .map((x) => x.trim().split('='))\n  .filter(([key]) => KNDCTR_COOKIE_KEYS.includes(key))\n  .map(([key, value]) => ({ key, value }));\n\nfunction createRequestPayload({ updatedContext, pageName, processedPageName, locale, hitType }) {\n  const prevPageName = getCookie('gpv');\n  const isCollectCall = hitType === 'propositionDisplay';\n  const isPageViewCall = hitType === 'pageView';\n  const webPageDetails = {\n    URL: window.location.href,\n    siteSection: window.location.hostname,\n    server: window.location.hostname,\n    isErrorPage: false,\n    isHomePage: false,\n    name: pageName,\n    pageViews: { value: Number(isPageViewCall) },\n  };\n  const consentCookie = getCookie(OPT_ON_AND_CONSENT_COOKIE) || '';\n\n  const consentState = (() => {\n    const hasOptOnCookie = getCookie(OPT_ON_AND_CONSENT_COOKIE);\n    if (!hasOptOnCookie) return 'unknown';\n    return getCookie(KNDCTR_CONSENT_COOKIE) ? 'post' : 'pre';\n  })();\n\n  const eventMergeId = generateUUIDv4();\n\n  const eventObj = {\n    xdm: {\n      ...updatedContext,\n      identityMap: getOrGenerateUserId(),\n      web: {\n        webPageDetails,\n        webInteraction: isPageViewCall || isCollectCall ? undefined : {\n          name: 'Martech-API',\n          type: 'other',\n          linkClicks: { value: 1 },\n        },\n        webReferrer: { URL: document.referrer },\n      },\n      timestamp: new Date().toISOString(),\n      eventType: hitTypeEventTypeMap[hitType],\n      eventMergeId,\n      ...(getPrimaryProduct() && { productListItems: [{ SKU: getPrimaryProduct() }] }),\n    },\n    data: {\n      __adobe: {\n        target: {\n          is404: false,\n          authState: 'loggedOut',\n          hitType,\n          isMilo: true,\n          adobeLocale: getLanguageCode(locale),\n          hasGnav: true,\n          ...(getEntityId() ? { 'entity.id': getEntityId() } : {}),\n        },\n      },\n      eventMergeId,\n      _adobe_corpnew: {\n        configuration: { edgeConfigId: dataStreamId },\n        digitalData: {\n          page: { pageInfo: { language: getLanguageCode(locale) } },\n          diagnostic: { franklin: { implementation: 'milo' } },\n          previousPage: { pageInfo: { pageName: prevPageName } },\n          primaryUser: { primaryProfile: { profileInfo: { authState: 'loggedOut', returningStatus: getVisitorStatus({}) } } },\n        },\n        otherConsents: { configuration: { advertising: (!!consentCookie?.includes('C0004:1')).toString() } },\n        user: { firstVisit: isFirstVisit() },\n        cmp: { state: consentState },\n        web: {\n          location: {\n            href: window.location.href,\n            origin: window.location.origin,\n            protocol: window.location.protocol,\n            host: window.location.host,\n            hostname: window.location.hostname,\n            port: window.location.port,\n            pathname: window.location.pathname,\n            search: window.location.search,\n            hash: window.location.hash,\n          },\n        },\n      },\n      marketingtech: {\n        adobe: {\n          alloy: {\n            approach: 'martech-API',\n            personalisation: 'hybrid',\n          },\n        },\n      },\n    },\n  };\n\n  if (isPageViewCall) {\n    const {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    } = window.location;\n    const { data, xdm } = eventObj;\n    const { digitalData } = data._adobe_corpnew;\n    const { pageInfo } = digitalData.page;\n    const { agiCampaign, setAgICampVal } = resolveAgiCampaignAndFlag();\n    pageInfo.pageName = pageName;\n    pageInfo.processedPageName = processedPageName;\n    pageInfo.location = {\n      href, origin, protocol, host, hostname, port, pathname, search, hash,\n    };\n    pageInfo.siteSection = webPageDetails.siteSection;\n    digitalData.diagnostic.franklin.implementation = 'milo';\n    digitalData.primaryUser.primaryProfile.profileInfo = {\n      ...digitalData.primaryUser.primaryProfile.profileInfo,\n      entitlementCreativeCloud: 'unknown',\n      entitlementStatusCreativeCloud: 'unknown',\n    };\n    data.web = {\n      webPageDetails,\n      webReferrer: { URL: document.referrer },\n    };\n    data.eventType = hitTypeEventTypeMap[hitType];\n\n    if (getUpdatedVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        libraryVersions: 'alloy-api',\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          secondVisits: 'setEvent',\n        },\n      };\n    }\n    if (getUpdatedAcrobatVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          acrobatSecondVisits: 'setEvent',\n        },\n      };\n    }\n    if (getUpdatedDxVisitAttempt() === 2) {\n      digitalData.adobe = {\n        ...digitalData.adobe,\n        libraryVersions: 'alloy-api',\n        experienceCloud: {\n          ...digitalData.adobe?.experienceCloud,\n          dxVisits: 'setEvent',\n        },\n      };\n    }\n    digitalData.adobe = {\n      ...digitalData.adobe,\n      experienceCloud: {\n        ...digitalData.adobe?.experienceCloud,\n        agiCampaign: setAgICampVal ? agiCampaign : '',\n      },\n      gpc: getGlobalPrivacyControl(),\n    };\n    xdm.implementationDetails = {\n      name: 'https://ns.adobe.com/experience/alloy',\n      version: '2.0',\n      environment: 'browser',\n    };\n  }\n\n  const eventValue = isCollectCall ? { events: [{ ...eventObj }] } : { event: { ...eventObj } };\n\n  return {\n    ...eventValue,\n    query: {\n      identity: { fetch: ['ECID'] },\n      personalization: isCollectCall ? undefined : {\n        schemas: [\n          'https://ns.adobe.com/personalization/default-content-item',\n          'https://ns.adobe.com/personalization/html-content-item',\n          'https://ns.adobe.com/personalization/json-content-item',\n          'https://ns.adobe.com/personalization/redirect-item',\n          'https://ns.adobe.com/personalization/ruleset-item',\n          'https://ns.adobe.com/personalization/message/in-app',\n          'https://ns.adobe.com/personalization/message/content-card',\n          'https://ns.adobe.com/personalization/dom-action',\n        ],\n        surfaces: [`web://${window.location.host + window.location.pathname}`],\n        decisionScopes: ['__view__'],\n      },\n    },\n    meta: {\n      target: { migration: true },\n      state: {\n        domain: getDomainWithoutWWW(),\n        cookiesEnabled: true,\n        entries: getMartechCookies(),\n      },\n    },\n  };\n}\n\nfunction updateMartechCookies(cookieData) {\n  cookieData?.forEach(({ key, value }) => {\n    const currentCookie = getCookie(key);\n    if (!currentCookie) {\n      setCookie(encodeURIComponent(key), value);\n    }\n  });\n}\n\nfunction updateAMCVCookie(ECID) {\n  const cookieValue = getCookie(AMCV_COOKIE);\n\n  if (!cookieValue) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `MCMID|${ECID}`);\n  } else if (cookieValue.indexOf('MCMID|') === -1) {\n    setCookie(encodeURIComponent(AMCV_COOKIE), `${cookieValue}|MCMID|${ECID}`);\n  }\n}\n\nfunction getUrl(isCollectCall) {\n  const PAGE_URL = new URL(window.location.href);\n  const { host } = window.location;\n  const query = PAGE_URL.searchParams.get('env');\n  const url = `https://edge.adobedc.net/ee/v2/${isCollectCall ? 'collect' : 'interact'}`;\n\n  /* c8 ignore start */\n  if (query || host.includes('localhost') || host.includes('.page')\n    || host.includes('.live')) {\n    return url;\n  }\n\n  /* c8 ignore start */\n  if (host.includes('stage.adobe')\n    || host.includes('corp.adobe')\n    || host.includes('graybox.adobe')) {\n    return `https://www.stage.adobe.com/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n  }\n\n  const { origin } = window.location;\n  return `${origin}/experienceedge/v2/${isCollectCall ? 'collect' : 'interact'}`;\n}\n\nexport const createRequestUrl = ({\n  env,\n  hitType,\n}) => {\n  const TARGET_API_URL = getUrl(hitType === 'propositionDisplay');\n  const { hostname } = window.location;\n  if (hostname.includes('business.adobe')) {\n    dataStreamId = DATA_STREAM_IDS_PROD.business;\n  } else if (\n    hostname.includes('business.stage.adobe')\n    || hostname.includes('bacom--adobecom.hlx')\n    || hostname.includes('bacom--adobecom.aem')\n  ) {\n    dataStreamId = DATA_STREAM_IDS_STAGE.business;\n  } else {\n    dataStreamId = env === 'prod' ? DATA_STREAM_IDS_PROD.default : DATA_STREAM_IDS_STAGE.default;\n  }\n  return `${TARGET_API_URL}?dataStreamId=${dataStreamId}&requestId=${generateUUIDv4()}`;\n};\n\nconst setGpvCookie = (pageName) => {\n  const expires = new Date();\n  expires.setTime(expires.getTime() + 1800000);\n  setCookie('gpv', pageName, { expires });\n};\n\nconst getPayloadsByType = (data, type) => data?.handle?.filter((d) => d.type === type)\n  .map((d) => d.payload)\n  .reduce((acc, curr) => [...acc, ...curr], []);\n\nconst setWindowAlloy = (alloyData) => {\n  const get = (obj, path) => path.split('.').reduce((current, segment) => (current !== undefined && current !== null ? current[segment] : undefined), obj);\n\n  const set = (obj, path, val) => {\n    path.split('.').reduce((current, segment, index, segments) => {\n      if (index === segments.length - 1) current[segment] = val;\n      else current[segment] = current[segment] || {};\n      return current[segment];\n    }, obj);\n\n    return obj;\n  };\n  window.alloy_all = window.alloy_all || { get, set };\n  if (alloyData?.destinations) {\n    const xlgValue = 'data._adobe_corpnew.digitalData.adobe.xlg';\n    const existingXlg = window.alloy_all.get(window.alloy_all, xlgValue) || '';\n    const xlgIds = existingXlg ? new Set(existingXlg.split(',')) : new Set();\n\n    for (const destination of alloyData.destinations) {\n      for (const segment of destination.segments) {\n        const segmentId = segment.id;\n        if (!xlgIds.has(segmentId)) xlgIds.add(segmentId);\n      }\n    }\n    const updatedXlg = Array.from(xlgIds).join(',');\n    window.alloy_all.set(window.alloy_all, xlgValue, updatedXlg);\n  }\n};\n\nconst setTTMetaAndAlloyTarget = (propositions) => {\n  const regex = /,|:/;\n  const isEmpty = (val) => !val || val?.length === 0;\n  const offerNames = [];\n  const activityNames = [];\n  let targetResponse = window.alloy_all.get(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response') || '';\n  const clean = (str) => (str || '').replace(regex, '');\n\n  propositions.forEach((proposition) => {\n    proposition.items?.forEach(({ meta }) => {\n      if (isEmpty(meta)) return;\n\n      const offerName = meta['option.name'];\n      const activityName = meta['activity.name'];\n      window.ttMETA = window.ttMETA || [];\n      if (offerNames.indexOf(offerName) === -1 || activityNames.indexOf(activityName) === -1) {\n        offerNames.push(offerName);\n        activityNames.push(activityName);\n        const data = {\n          CampaignName: activityName,\n          RecipeName: meta['experience.name'],\n          CampaignId: meta['activity.id'],\n          RecipeId: meta['experience.id'],\n          OfferId: meta['option.id'],\n          OfferName: offerName,\n          TrafficId: meta['experience.trafficAllocationId'],\n          TrafficType: meta['experience.trafficAllocationType'],\n        };\n\n        window.ttMETA.push(data);\n\n        const activityId = data.CampaignId;\n        if (targetResponse.indexOf(activityId) === -1) {\n          // If there is already a response string, append a comma\n          if (targetResponse) targetResponse += ',';\n\n          targetResponse += `T:${[activityId, activityName, data.OfferId, offerName, data.RecipeId, data.RecipeName, data.TrafficId, data.TrafficType].map(clean).join(':')}`;\n        }\n      }\n    });\n  });\n  window.alloy_all.set(window.alloy_all, 'data._adobe_corpnew.digitalData.adobe.target.response', targetResponse);\n};\n\nfunction filterPropositionInJson(payloads) {\n  return payloads\n    .filter((item) => item?.items?.some((i) => i?.data?.format === 'application/json'))\n    .map(({ items, ...rest }) => ({\n      ...rest,\n      items: items.map(({ data, ...itemRest }) => itemRest),\n    }));\n}\n\nfunction sendPropositionDisplayRequest(filteredPayload, env, requestPayload) {\n  const reqUrl = createRequestUrl({ env, hitType: 'propositionDisplay' });\n  const reqBody = createRequestPayload({ ...requestPayload, hitType: 'propositionDisplay' });\n\n  const decisioning = {\n    propositions: filteredPayload,\n    propositionEventType: { display: 1 },\n  };\n\n  reqBody.events[0].xdm._experience = { decisioning };\n  reqBody.events[0].data._experience = { decisioning };\n\n  reqBody.events[0].xdm.documentUnloading = true;\n  reqBody.events[0].data.documentUnloading = true;\n\n  fetch(reqUrl, {\n    method: 'POST',\n    body: JSON.stringify(reqBody),\n  });\n}\n\nexport const loadAnalyticsAndInteractionData = async (\n  { locale, env, calculatedTimeout },\n) => {\n  const value = getCookie(KNDCTR_CONSENT_COOKIE);\n\n  if (value === 'general=out') {\n    return {};\n  }\n  const getLocalISOString = () => {\n    const date = new Date();\n    const padStart = (string, targetLength, padString) => (`${string}`).padStart(targetLength, padString);\n    const YYYY = date.getFullYear();\n    const MM = padStart(date.getMonth() + 1, 2, '0');\n    const DD = padStart(date.getDate(), 2, '0');\n    const hh = padStart(date.getHours(), 2, '0');\n    const mm = padStart(date.getMinutes(), 2, '0');\n    const ss = padStart(date.getSeconds(), 2, '0');\n    const mmm = padStart(date.getMilliseconds(), 3, '0');\n    const timezoneOffset = Number(date.getTimezoneOffset()) || 0;\n    const ts = timezoneOffset > 0 ? '-' : '+';\n    const th = padStart(Math.floor(Math.abs(timezoneOffset) / 60), 2, '0');\n    const tm = padStart(Math.abs(timezoneOffset) % 60, 2, '0');\n    return `${YYYY}-${MM}-${DD}T${hh}:${mm}:${ss}.${mmm}${ts}${th}:${tm}`;\n  };\n  const localTime = getLocalISOString();\n  const CURRENT_DATE = new Date();\n  const timezoneOffset = CURRENT_DATE.getTimezoneOffset();\n  window.hybridPers = true;\n  const hitType = 'pageView';\n  const pageName = getPageNameForAnalytics();\n  const processedPageName = getProcessedPageNameForAnalytics();\n  const updatedContext = getUpdatedContext({ ...getDeviceInfo(), localTime, timezoneOffset });\n  const requestUrl = createRequestUrl({\n    env,\n    hitType,\n  });\n  const requestPayload = {\n    updatedContext, pageName, processedPageName, locale, env, hitType,\n  };\n  const requestBody = createRequestPayload(requestPayload);\n\n  try {\n    const targetResp = await Promise.race([\n      fetch(requestUrl, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n      }),\n      new Promise((_, reject) => { setTimeout(() => reject(new Error('Request timed out')), calculatedTimeout); }),\n    ]);\n\n    if (!targetResp.ok) {\n      throw new Error('Failed to fetch interact call');\n    }\n    const targetRespJson = await targetResp.json();\n\n    const ECID = targetRespJson.handle\n      .flatMap((item) => item.payload)\n      .find((p) => p.namespace?.code === 'ECID')?.id || null;\n\n    const extractedData = [];\n\n    targetRespJson?.handle?.forEach((item) => {\n      if (item?.type === 'state:store') {\n        item?.payload?.forEach((payload) => {\n          if (payload?.key === KNDCTR_COOKIE_KEYS[0] || payload?.key === KNDCTR_COOKIE_KEYS[1]) {\n            extractedData.push({ ...payload });\n          }\n        });\n      }\n    });\n\n    const resultPayload = getPayloadsByType(targetRespJson, 'personalization:decisions');\n    const filteredPayload = filterPropositionInJson(resultPayload);\n    if (filteredPayload.length) {\n      sendPropositionDisplayRequest(filteredPayload, env, requestPayload);\n    }\n    const alloyData = {\n      destinations: getPayloadsByType(targetRespJson, 'activation:pull'),\n      propositions: resultPayload,\n      inferences: getPayloadsByType(targetRespJson, 'rtml:inferences'),\n      decisions: [],\n    };\n    window.dispatchEvent(new CustomEvent('alloy_sendEvent', { detail: alloyData }));\n    setWindowAlloy(alloyData);\n    setTTMetaAndAlloyTarget(resultPayload);\n\n    updateAMCVCookie(ECID);\n    updateMartechCookies(extractedData);\n\n    if (resultPayload?.length === 0) throw new Error('No propositions found');\n\n    setGpvCookie(pageName);\n    return {\n      type: hitType,\n      result: { propositions: resultPayload },\n    };\n  } catch (err) {\n    if (err.message !== 'No propositions found') {\n      console.log(err);\n    }\n    setGpvCookie(pageName);\n    return {};\n  }\n};\n\nexport default { loadAnalyticsAndInteractionData };\n"],"names":["O","N","F","D","z","$","S","M","_window","window","location","hostname","replace","L","propositionFetch","pageView","propositionDisplay","U","e","Uint8Array","crypto","getRandomValues","o","forEach","t","n","s","toString","padStart","m","document","cookie","split","map","decodeURIComponent","trim","find","_ref","y","arguments","length","undefined","expires","Date","setTime","getTime","i","concat","toUTCString","Q","_ref2","expiryDays","cookieName","domain","URL","origin","r","a","c","ee","_e$match","indexOf","ECID","id","match","authenticatedState","primary","FPID","W","pathname","href","Object","fromEntries","filter","toLowerCase","join","ne","lightroom","stock","xd","express","account","adminconsole","community","acrobat","behance","fonts","photoshop","plan","color","creative","portfolio","schedule","newexpress","title","includes","entries","startsWith","H","querySelector","getAttribute","q","_document$querySelect","content","j","ar","br","ca","ca_fr","cl","co","la","mx","pe","africa","be_fr","be_en","be_nl","cy_en","dk","de","es","fr","gr_en","ie","il_en","it","lv","lt","lu_de","lu_en","lu_fr","hu","mt","mena_en","nl","no","pl","pt","ro","sa_en","ch_de","si","sk","ch_fr","fi","se","ch_it","tr","ae_en","uk","at","cz","bg","ru","ua","il_he","ae_ar","mena_ar","sa_ar","au","hk_en","in","id_id","id_en","my_ms","my_en","nz","ph_en","ph_fil","sg","th_en","in_hi","th_th","cn","hk_zh","tw","jp","kr","langstore","za","ng","cr","ec","pr","gt","eg_ar","kw_ar","qa_ar","eg_en","kw_en","qa_en","gr_el","vn_en","vn_vi","cis_ru","cis_en","G","_e$prefix","prefix","getMartechCookies","_ref4","_ref5","key","value","Y","_ref6","updatedContext","pageName","processedPageName","locale","hitType","siteSection","server","isErrorPage","isHomePage","name","pageViews","Number","l","w","g","f","xdm","identityMap","web","webPageDetails","webInteraction","type","linkClicks","webReferrer","referrer","timestamp","toISOString","eventType","eventMergeId","productListItems","SKU","data","__adobe","target","is404","authState","isMilo","adobeLocale","hasGnav","_adobe_corpnew","configuration","edgeConfigId","digitalData","page","pageInfo","language","diagnostic","franklin","implementation","previousPage","primaryUser","primaryProfile","profileInfo","returningStatus","otherConsents","advertising","user","firstVisit","marketingtech","isFirstVisit","cmp","state","protocol","host","port","search","hash","adobe","alloy","approach","personalisation","_d$adobe","_d$adobe2","_d$adobe3","_d$adobe4","C","u","p","x","v","_","A","k","h","b","E","d","I","agiCampaign","R","setAgICampVal","V","test","entitlementCreativeCloud","entitlementStatusCreativeCloud","_m","localStorage","getItem","setItem","oe","libraryVersions","experienceCloud","secondVisits","_m2","te","acrobatSecondVisits","_m3","dxVisits","gpc","navigator","globalPrivacyControl","implementationDetails","version","environment","events","event","query","identity","fetch","personalization","schemas","surfaces","decisionScopes","meta","migration","cookiesEnabled","B","_ref8","env","searchParams","get","K","P","getPayloadsByType","_e$handle","handle","payload","reduce","be","async","calculatedTimeout","_ref12","J","X","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getTimezoneOffset","Math","floor","abs","hybridPers","_ref3","screenWidth","screenHeight","screenOrientation","viewportWidth","viewportHeight","localTime","timezoneOffset","device","browserDetails","placeContext","localTimezoneOffset","re","screen","width","height","innerWidth","innerHeight","T","_p$handle$flatMap$fin","_p$handle","Promise","race","method","body","JSON","stringify","setTimeout","Error","ok","json","flatMap","_h$namespace","namespace","code","_h$payload","push","_o$items","items","some","_t$data","format","_ref10","_ref11","fe","propositions","propositionEventType","display","_experience","decisioning","documentUnloading","he","destinations","inferences","decisions","dispatchEvent","CustomEvent","detail","alloy_all","set","Set","segments","has","add","Array","from","me","_a$items","_ref9","ttMETA","CampaignName","RecipeName","CampaignId","RecipeId","OfferId","OfferName","TrafficId","TrafficType","ge","encodeURIComponent","ue","_ref7","le","result","message","console","log","we","loadAnalyticsAndInteractionData"],"sourceRoot":""}