{"version":3,"file":"static/js/5311.dc4aecc7.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@adobecom/blocks/merch/merch.js","../node_modules/@adobecom/blocks/global-navigation/global-navigation.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import {\n  createTag, getConfig, loadArea, loadScript, loadStyle, localizeLink, SLD,\n} from '../../utils/utils.js';\nimport { replaceKey } from '../../features/placeholders.js';\n\nexport const CHECKOUT_LINK_CONFIG_PATH = '/commerce/checkout-link.json'; // relative to libs.\n\nexport const PRICE_TEMPLATE_DISCOUNT = 'discount';\nexport const PRICE_TEMPLATE_OPTICAL = 'optical';\nexport const PRICE_TEMPLATE_REGULAR = 'price';\nexport const PRICE_TEMPLATE_STRIKETHROUGH = 'strikethrough';\nexport const PRICE_TEMPLATE_ANNUAL = 'annual';\n\nconst PRICE_TEMPLATE_MAPPING = new Map([\n  ['priceDiscount', PRICE_TEMPLATE_DISCOUNT],\n  [PRICE_TEMPLATE_DISCOUNT, PRICE_TEMPLATE_DISCOUNT],\n  ['priceOptical', PRICE_TEMPLATE_OPTICAL],\n  [PRICE_TEMPLATE_OPTICAL, PRICE_TEMPLATE_OPTICAL],\n  ['priceStrikethrough', PRICE_TEMPLATE_STRIKETHROUGH],\n  [PRICE_TEMPLATE_STRIKETHROUGH, PRICE_TEMPLATE_STRIKETHROUGH],\n  ['priceAnnual', PRICE_TEMPLATE_ANNUAL],\n  [PRICE_TEMPLATE_ANNUAL, PRICE_TEMPLATE_ANNUAL],\n]);\n\nexport const PLACEHOLDER_KEY_DOWNLOAD = 'download';\n\nexport const CC_SINGLE_APPS = [\n  ['3D_TEXTURING'],\n  ['3DI'],\n  ['ACROBAT', 'ACROBAT_STOCK_BUNDLE'],\n  ['AFTEREFFECTS', 'AFTER_EFFECTS_STOCK_BUNDLE'],\n  ['AUDITION', 'AUDITION_STOCK_BUNDLE'],\n  ['CC_EXPRESS'],\n  ['FLASH', 'FLASH_STOCK_BUNDLE'],\n  ['DREAMWEAVER', 'DREAMWEAVER_STOCK_BUNDLE'],\n  ['EDGE_ANIMATE'],\n  ['ILLUSTRATOR', 'ILLUSTRATOR_STOCK_BUNDLE'],\n  ['INCOPY', 'INCOPY_STOCK_BUNDLE'],\n  ['INDESIGN', 'INDESIGN_STOCK_BUNDLE'],\n  ['PHOTOGRAPHY', 'PHOTOGRAPHY_STOCK_BUNDLE'],\n  ['PHOTOSHOP_LIGHTROOM'],\n  ['PHOTOSHOP', 'PHOTOSHOP_STOCK_BUNDLE'],\n  ['PREMIERE', 'PREMIERE_STOCK_BUNDLE'],\n  ['RUSH'],\n  ['XD'],\n];\n\nconst GeoMap = {\n  ar: 'AR_es',\n  be_en: 'BE_en',\n  be_fr: 'BE_fr',\n  be_nl: 'BE_nl',\n  br: 'BR_pt',\n  ca: 'CA_en',\n  ch_de: 'CH_de',\n  ch_fr: 'CH_fr',\n  ch_it: 'CH_it',\n  cl: 'CL_es',\n  co: 'CO_es',\n  la: 'DO_es',\n  mx: 'MX_es',\n  pe: 'PE_es',\n  africa: 'MU_en',\n  dk: 'DK_da',\n  de: 'DE_de',\n  ee: 'EE_et',\n  eg_ar: 'EG_ar',\n  eg_en: 'EG_en',\n  es: 'ES_es',\n  fr: 'FR_fr',\n  gr_el: 'GR_el',\n  gr_en: 'GR_en',\n  ie: 'IE_en',\n  il_he: 'IL_iw',\n  it: 'IT_it',\n  lv: 'LV_lv',\n  lt: 'LT_lt',\n  lu_de: 'LU_de',\n  lu_en: 'LU_en',\n  lu_fr: 'LU_fr',\n  my_en: 'MY_en',\n  my_ms: 'MY_ms',\n  hu: 'HU_hu',\n  mt: 'MT_en',\n  mena_en: 'DZ_en',\n  mena_ar: 'DZ_ar',\n  nl: 'NL_nl',\n  no: 'NO_nb',\n  pl: 'PL_pl',\n  pt: 'PT_pt',\n  ro: 'RO_ro',\n  si: 'SI_sl',\n  sk: 'SK_sk',\n  fi: 'FI_fi',\n  se: 'SE_sv',\n  tr: 'TR_tr',\n  uk: 'GB_en',\n  at: 'AT_de',\n  cz: 'CZ_cs',\n  bg: 'BG_bg',\n  ru: 'RU_ru',\n  ua: 'UA_uk',\n  au: 'AU_en',\n  in_en: 'IN_en',\n  in_hi: 'IN_hi',\n  id_en: 'ID_en',\n  id_id: 'ID_in',\n  nz: 'NZ_en',\n  sa_ar: 'SA_ar',\n  sa_en: 'SA_en',\n  sg: 'SG_en',\n  cn: 'CN_zh-Hans',\n  tw: 'TW_zh-Hant',\n  hk_zh: 'HK_zh-hant',\n  jp: 'JP_ja',\n  kr: 'KR_ko',\n  za: 'ZA_en',\n  ng: 'NG_en',\n  cr: 'CR_es',\n  ec: 'EC_es',\n  pr: 'US_es', // not a typo, should be US\n  gt: 'GT_es',\n  cis_en: 'AZ_en',\n  cis_ru: 'AZ_ru',\n  sea: 'SG_en',\n  th_en: 'TH_en',\n  th_th: 'TH_th',\n};\n\nexport function getMiloLocaleSettings(locale) {\n  const localePrefix = locale?.prefix || 'US_en';\n  const geo = localePrefix.replace('/', '') ?? '';\n  let [country = 'US', language = 'en'] = (\n    GeoMap[geo] ?? geo\n  ).split('_', 2);\n\n  country = country.toUpperCase();\n  language = language.toLowerCase();\n\n  return {\n    language,\n    country,\n    locale: `${language}_${country}`,\n  };\n}\n\n/* Optional checkout link params that are appended to checkout urls as is */\nexport const CHECKOUT_ALLOWED_KEYS = [\n  'af',\n  'ai',\n  'apc',\n  'appctxid',\n  'cli',\n  'co',\n  'csm',\n  'ctx',\n  'ctxRtUrl',\n  'DCWATC',\n  'dp', // Enable digital payments for iframe context\n  'fr', // represents the commerce app redirecting to UC\n  'gsp',\n  'ijt',\n  'lang',\n  'lo',\n  'mal',\n  'ms',\n  'mv',\n  'mv2',\n  'nglwfdata',\n  'ot',\n  'otac',\n  'pa',\n  'pcid', // Unified Paywall configuration ID for analytics\n  'promoid',\n  'q',\n  'rf',\n  'sc',\n  'scl',\n  'sdid',\n  'sid', // x-adobe-clientsession\n  'spint',\n  'svar',\n  'th',\n  'thm',\n  'trackingid',\n  'usid',\n  'workflowid',\n  'context.guid',\n  'so.ca',\n  'so.su',\n  'so.tr',\n  'so.va',\n  // below keys are mapped to shorted versions.\n  'quantity',\n  'authCode',\n  'checkoutPromoCode',\n  'rurl',\n  'curl',\n  'ctxrturl',\n  'country',\n  'language',\n  'clientId',\n  'context',\n  'productArrangementCode',\n  'offerType',\n  'marketSegment',\n];\n\nexport const CC_SINGLE_APPS_ALL = CC_SINGLE_APPS.flatMap((item) => item);\n\nexport const CC_ALL_APPS = ['CC_ALL_APPS',\n  'CC_ALL_APPS_STOCK_BUNDLE', 'CC_PRO'];\n\nconst NAME_LOCALE = 'LOCALE';\nconst NAME_PRODUCT_FAMILY = 'PRODUCT_FAMILY';\nconst FREE_TRIAL_PATH = 'FREE_TRIAL_PATH';\nconst BUY_NOW_PATH = 'BUY_NOW_PATH';\nconst FREE_TRIAL_HASH = 'FREE_TRIAL_HASH';\nconst BUY_NOW_HASH = 'BUY_NOW_HASH';\nconst OFFER_TYPE_TRIAL = 'TRIAL';\nconst LOADING_ENTITLEMENTS = 'loading-entitlements';\n\nlet log;\nlet upgradeOffer = null;\n\n/**\n * Given a url, calculates the hostname of MAS platform.\n * Supports, www prod, stage, local and feature branches.\n * if params are missing, it will return the latest calculated or default value.\n * @param {string} hostname optional\n * @param {string} maslibs optional\n * @returns base url for mas platform\n */\nexport function getMasBase(hostname, maslibs) {\n  let { baseUrl } = getMasBase;\n  if (!baseUrl) {\n    if (maslibs === 'stage') {\n      baseUrl = 'https://www.stage.adobe.com/mas';\n    } else if (maslibs === 'local') {\n      baseUrl = 'http://localhost:9001';\n    } else if (maslibs) {\n      const extension = /.page$/.test(hostname) ? 'page' : 'live';\n      baseUrl = `https://${maslibs}.${SLD}.${extension}`;\n    } else {\n      baseUrl = 'https://www.adobe.com/mas';\n    }\n    getMasBase.baseUrl = baseUrl;\n  }\n  return baseUrl;\n}\n\nexport async function polyfills() {\n  if (polyfills.promise) return polyfills.promise;\n  let isSupported = false;\n  document.createElement('div', {\n    // eslint-disable-next-line getter-return\n    get is() {\n      isSupported = true;\n    },\n  });\n  if (isSupported) {\n    polyfills.promise = Promise.resolve();\n  } else {\n    const { base } = getConfig();\n    polyfills.promise = await loadScript(`${base}/deps/custom-elements.js`);\n  }\n  return polyfills.promise;\n}\n\nexport async function fetchEntitlements() {\n  fetchEntitlements.promise = fetchEntitlements.promise ?? import('../global-navigation/utilities/getUserEntitlements.js')\n    .then(({ default: getUserEntitlements }) => getUserEntitlements(\n      {\n        params:\n          [\n            { name: 'include', value: 'OFFER.PRODUCT_ARRANGEMENT' }],\n        format: 'raw',\n      },\n    ));\n  return fetchEntitlements.promise;\n}\n\nexport async function fetchCheckoutLinkConfigs(base = '') {\n  fetchCheckoutLinkConfigs.promise = fetchCheckoutLinkConfigs.promise\n    ?? fetch(`${base}${CHECKOUT_LINK_CONFIG_PATH}`).catch((e) => {\n      log?.error('Failed to fetch checkout link configs', e);\n    }).then((mappings) => {\n      if (!mappings?.ok) return { data: [] };\n      return mappings.json();\n    });\n  return fetchCheckoutLinkConfigs.promise;\n}\n\nexport async function getCheckoutLinkConfig(productFamily, productCode, paCode) {\n  let { base } = getConfig();\n  if (/\\.page$/.test(document.location.origin)) {\n    /* c8 ignore next 2 */\n    base = base.replace('.live', '.page');\n  }\n  const checkoutLinkConfigs = await fetchCheckoutLinkConfigs(base);\n  if (!checkoutLinkConfigs.data.length) return undefined;\n  const { locale: { region } } = getConfig();\n\n  const {\n    paCodeConfigs,\n    productCodeConfigs,\n    productFamilyConfigs,\n  } = checkoutLinkConfigs.data.reduce((acc, config) => {\n    if (config[NAME_PRODUCT_FAMILY] === paCode) {\n      acc.paCodeConfigs.push(config);\n    } else if (config[NAME_PRODUCT_FAMILY] === productCode) {\n      acc.productCodeConfigs.push(config);\n    } else if (config[NAME_PRODUCT_FAMILY] === productFamily) {\n      acc.productFamilyConfigs.push(config);\n    }\n    return acc;\n  }, { paCodeConfigs: [], productCodeConfigs: [], productFamilyConfigs: [] });\n\n  // helps to fallback to product family config\n  // if no locale specific config is found below.\n  const productCheckoutLinkConfigs = [\n    ...paCodeConfigs, ...productCodeConfigs, ...productFamilyConfigs,\n  ];\n\n  if (!productCheckoutLinkConfigs.length) return undefined;\n  const checkoutLinkConfig = productCheckoutLinkConfigs.find(\n    ({ [NAME_LOCALE]: locale }) => locale === '',\n  );\n  const checkoutLinkConfigOverride = productCheckoutLinkConfigs.find(\n    ({ [NAME_LOCALE]: locale }) => locale === region,\n  ) ?? {};\n  const overrides = Object.fromEntries(\n    Object.entries(checkoutLinkConfigOverride).filter(([, value]) => value),\n  );\n  const finalConfig = { ...checkoutLinkConfig, ...overrides };\n  Object.entries(finalConfig).forEach(([key, value]) => {\n    if (value === 'X' || value === '❌') {\n      finalConfig[key] = '';\n    }\n  });\n  return finalConfig;\n}\n\nexport async function getDownloadAction(\n  options,\n  imsSignedInPromise,\n  [{\n    offerType,\n    productArrangementCode,\n    productArrangement: { productCode, productFamily: offerFamily } = {},\n  }],\n) {\n  if (options.entitlement !== true) return undefined;\n  const loggedIn = await imsSignedInPromise;\n  if (!loggedIn) return undefined;\n  const entitlements = await fetchEntitlements();\n  if (!entitlements?.length) return undefined;\n  const checkoutLinkConfig = await getCheckoutLinkConfig(\n    offerFamily,\n    productCode,\n    productArrangementCode,\n  );\n  if (!checkoutLinkConfig?.DOWNLOAD_URL) return undefined;\n  const offer = entitlements.find((\n    { offer: { product_arrangement: { family: subscriptionFamily } } },\n  ) => {\n    if (CC_ALL_APPS.includes(subscriptionFamily)) return true; // has all apps\n    if (CC_ALL_APPS.includes(offerFamily)) return false; // hasn't all apps and cta is all apps\n    const singleAppFamily = CC_SINGLE_APPS // has single and and cta is single app\n      .find((singleAppFamilies) => singleAppFamilies.includes(offerFamily));\n    return singleAppFamily?.includes(subscriptionFamily);\n  });\n  if (!offer) return undefined;\n  const config = getConfig();\n  const text = await replaceKey(checkoutLinkConfig.DOWNLOAD_TEXT\n      || PLACEHOLDER_KEY_DOWNLOAD, config);\n  const url = localizeLink(checkoutLinkConfig.DOWNLOAD_URL);\n  const type = offerType?.toLowerCase() ?? '';\n  return { text, className: `download ${type}`, url };\n}\n\nexport async function getUpgradeAction(\n  options,\n  imsSignedInPromise,\n  [{ productArrangement: { productFamily: offerFamily } = {} }],\n) {\n  if (!options.upgrade) return undefined;\n  const loggedIn = await imsSignedInPromise;\n  if (!loggedIn) return undefined;\n  const entitlements = await fetchEntitlements();\n  if (upgradeOffer === null) {\n    upgradeOffer = undefined;\n    // will enter only once\n    upgradeOffer = await document.querySelector('.merch-offers.upgrade [data-wcs-osi]');\n  }\n  await upgradeOffer?.onceSettled();\n  if (upgradeOffer && entitlements?.length && offerFamily) {\n    const { default: handleUpgradeOffer } = await import('./upgrade.js');\n    const upgradeAction = await handleUpgradeOffer(\n      offerFamily,\n      upgradeOffer,\n      entitlements,\n      CC_SINGLE_APPS_ALL,\n      CC_ALL_APPS,\n    );\n    return upgradeAction;\n  }\n  return undefined;\n}\n\nasync function openFragmentModal(path, getModal) {\n  const root = createTag('div');\n  root.style.visibility = 'hidden';\n  createTag('a', { href: `${path}` }, '', { parent: root });\n  const modal = await getModal(null, {\n    id: 'checkout-link-modal',\n    content: root,\n    closeEvent: 'closeModal',\n    class: 'commerce-frame',\n  });\n  await loadArea(modal);\n  root.style.visibility = '';\n  return modal;\n}\n\nexport function appendTabName(url) {\n  const metaPreselectPlan = document.querySelector('meta[name=\"preselect-plan\"]');\n  if (!metaPreselectPlan?.content) return url;\n  const isRelativePath = url.startsWith('/');\n  let urlWithPlan;\n  try {\n    urlWithPlan = isRelativePath ? new URL(`${window.location.origin}${url}`) : new URL(url);\n  } catch (err) {\n    window.lana?.log(`Invalid URL ${url} : ${err}`);\n    return url;\n  }\n  urlWithPlan.searchParams.set('plan', metaPreselectPlan.content);\n  return isRelativePath ? urlWithPlan.href.replace(window.location.origin, '') : urlWithPlan.href;\n}\n\nexport function appendExtraOptions(url, extraOptions) {\n  if (!extraOptions) return url;\n  const extraOptionsObj = JSON.parse(extraOptions);\n  let urlWithExtraOptions;\n  try {\n    urlWithExtraOptions = new URL(url);\n  } catch (err) {\n    window.lana?.log(`Invalid URL ${url} : ${err}`);\n    return url;\n  }\n  Object.keys(extraOptionsObj).forEach((key) => {\n    if (CHECKOUT_ALLOWED_KEYS.includes(key)) {\n      urlWithExtraOptions.searchParams.set(key, extraOptionsObj[key]);\n    }\n  });\n  return urlWithExtraOptions.href;\n}\n\nasync function openExternalModal(url, getModal, extraOptions) {\n  await loadStyle(`${getConfig().base}/blocks/iframe/iframe.css`);\n  const root = createTag('div', { class: 'milo-iframe' });\n  const urlWithTabName = appendTabName(url);\n  const urlWithExtraOptions = appendExtraOptions(urlWithTabName, extraOptions);\n  createTag('iframe', {\n    src: urlWithExtraOptions,\n    frameborder: '0',\n    marginwidth: '0',\n    marginheight: '0',\n    allowfullscreen: 'true',\n    loading: 'lazy',\n  }, '', { parent: root });\n  return getModal(null, {\n    id: 'checkout-link-modal',\n    content: root,\n    closeEvent: 'closeModal',\n    class: 'commerce-frame',\n  });\n}\n\nconst isInternalModal = (url) => /\\/fragments\\//.test(url);\n\nexport async function openModal(e, url, offerType, hash, extraOptions, el) {\n  e.preventDefault();\n  e.stopImmediatePropagation();\n  const { getModal } = await import('../modal/modal.js');\n  await import('../modal/modal.merch.js');\n  const offerTypeClass = offerType === OFFER_TYPE_TRIAL ? 'twp' : 'crm';\n  let modal;\n  if (hash) {\n    const prevHash = window.location.hash.replace('#', '') === hash ? '' : window.location.hash;\n    window.location.hash = hash;\n    window.addEventListener('milo:modal:closed', () => {\n      window.history.pushState({}, document.title, prevHash !== '' ? `#${prevHash}` : `${window.location.pathname}${window.location.search}`);\n    }, { once: true });\n  }\n  if (isInternalModal(url)) {\n    const fragmentPath = url.split(/(hlx|aem).(page|live)/).pop();\n    modal = await openFragmentModal(fragmentPath, getModal);\n  } else if (el?.opens3in1Modal) {\n    const { default: openThreeInOneModal, handle3in1IFrameEvents } = await import('./three-in-one.js');\n    window.addEventListener('message', handle3in1IFrameEvents);\n    modal = await openThreeInOneModal(el);\n  } else {\n    modal = await openExternalModal(url, getModal, extraOptions, el);\n  }\n  if (modal) {\n    modal.classList.add(offerTypeClass);\n  }\n}\n\nexport function setCtaHash(el, checkoutLinkConfig, offerType) {\n  if (!(el && checkoutLinkConfig && offerType)) return undefined;\n  const hash = checkoutLinkConfig[`${(offerType === OFFER_TYPE_TRIAL) ? FREE_TRIAL_HASH : BUY_NOW_HASH}`];\n  if (hash) {\n    el.setAttribute('data-modal-id', hash);\n  }\n  return hash;\n}\n\nconst isProdModal = (url) => {\n  try {\n    return (new URL(url)).hostname.endsWith('.adobe.com');\n  } catch (e) {\n    return false;\n  }\n};\n\nexport async function getModalAction(offers, options, el) {\n  const [{\n    offerType,\n    productArrangementCode,\n    productArrangement: { productCode, productFamily: offerFamily } = {},\n  }] = offers ?? [{}];\n  if (options.modal !== true) return undefined;\n  const checkoutLinkConfig = await getCheckoutLinkConfig(\n    offerFamily,\n    productCode,\n    productArrangementCode,\n  );\n  if (!checkoutLinkConfig) return undefined;\n  const columnName = (offerType === OFFER_TYPE_TRIAL) ? FREE_TRIAL_PATH : BUY_NOW_PATH;\n  const hash = setCtaHash(el, checkoutLinkConfig, offerType);\n  let url = checkoutLinkConfig[columnName];\n  if (!url) return undefined;\n  url = isInternalModal(url) || isProdModal(url)\n    ? localizeLink(checkoutLinkConfig[columnName]) : checkoutLinkConfig[columnName];\n  return {\n    url,\n    handler: (e) => openModal(e, url, offerType, hash, options.extraOptions, el),\n  };\n}\n\nexport async function getCheckoutAction(offers, options, imsSignedInPromise, el) {\n  try {\n    await imsSignedInPromise;\n    const [downloadAction, upgradeAction, modalAction] = await Promise.all([\n      getDownloadAction(options, imsSignedInPromise, offers),\n      getUpgradeAction(options, imsSignedInPromise, offers),\n      getModalAction(offers, options, el),\n    ]);\n    return downloadAction || upgradeAction || modalAction;\n  } catch (e) {\n    log?.error('Failed to resolve checkout action', e);\n    return [];\n  }\n}\n\n/**\n * Activates commerce service and returns a promise resolving to its ready-to-use instance.\n */\nexport async function initService(force = false, attributes = {}) {\n  if (force) {\n    initService.promise = undefined;\n    document.head.querySelector('mas-commerce-service')?.remove();\n    fetchEntitlements.promise = undefined;\n    fetchCheckoutLinkConfigs.promise = undefined;\n  }\n  const { commerce, env: miloEnv, locale: miloLocale } = getConfig();\n\n  const extraAttrs = [\n    'checkout-workflow-step',\n    'force-tax-exclusive',\n    'checkout-client-id',\n    'allow-override',\n  ];\n\n  extraAttrs.forEach((attr) => {\n    const camelCaseAttr = attr.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n    // eslint-disable-next-line no-prototype-builtins\n    if (commerce?.hasOwnProperty(camelCaseAttr)) {\n      const value = commerce[camelCaseAttr];\n      delete commerce[camelCaseAttr];\n      commerce[attr] = value;\n    }\n  });\n  initService.promise = initService.promise ?? polyfills().then(async () => {\n    await import('../../deps/mas/commerce.js');\n    const { language, locale, country } = getMiloLocaleSettings(miloLocale);\n    let service = document.head.querySelector('mas-commerce-service');\n    if (!service) {\n      service = createTag('mas-commerce-service', {\n        locale,\n        language,\n        ...attributes,\n        ...commerce,\n      });\n      if (miloEnv?.name !== 'prod') {\n        service.setAttribute('allow-override', '');\n      }\n      service.registerCheckoutAction(getCheckoutAction);\n      document.head.append(service);\n      await service.readyPromise;\n      service.imsSignedInPromise?.then((isSignedIn) => {\n        if (isSignedIn) fetchEntitlements();\n      });\n    }\n    if (country === 'AU') {\n      await loadStyle(`${getConfig().base}/blocks/merch/au-merch.css`);\n    }\n    return service;\n  });\n  return initService.promise;\n}\n\nexport async function getCommerceContext(el, params) {\n  const wcsOsi = params.get('osi');\n  if (!wcsOsi) return null;\n  const perpetual = params.get('perp') === 'true' || undefined;\n  const promotionCode = (\n    params.get('promo') ?? params.get('promotionCode') ?? el.closest('[data-promotion-code]')?.dataset.promotionCode\n  ) || undefined;\n  return { promotionCode, perpetual, wcsOsi };\n}\n\n/**\n * Checkout parameter can be set on the merch link,\n * code config (scripts.js) or be a default from tacocat.\n * To get the default, 'undefined' should be passed, empty string will trigger an error!\n *\n * clientId - code config -> default (adobe_com)\n * workflow - merch link -> metadata -> default (UCv3)\n * workflowStep - merch link -> default (email)\n * marketSegment - merch link -> default (COM)\n * @param {{params: URLSearchParams, service: {settings: object}}} context\n * @returns checkout context object required to build a checkout url\n */\nexport async function getCheckoutContext(el, params) {\n  const context = await getCommerceContext(el, params);\n  if (!context) return null;\n  const { settings } = await initService();\n  const { checkoutClientId } = settings;\n  const checkoutMarketSegment = params.get('marketSegment');\n  const checkoutWorkflow = params.get('workflow') ?? settings.checkoutWorkflow;\n  const checkoutWorkflowStep = params?.get('workflowStep') ?? settings.checkoutWorkflowStep;\n  const entitlement = params?.get('entitlement');\n  const upgrade = params?.get('upgrade');\n  const modal = params?.get('modal');\n\n  const extraOptions = {};\n  params.forEach((value, key) => {\n    if (CHECKOUT_ALLOWED_KEYS.includes(key)) {\n      extraOptions[key] = value;\n    }\n  });\n\n  return {\n    ...context,\n    checkoutClientId,\n    checkoutWorkflow,\n    checkoutWorkflowStep,\n    checkoutMarketSegment,\n    entitlement,\n    upgrade,\n    modal,\n    extraOptions: JSON.stringify(extraOptions),\n  };\n}\n\nexport async function getPriceContext(el, params) {\n  const context = await getCommerceContext(el, params);\n  if (!context) return null;\n  const displayOldPrice = context.promotionCode ? params.get('old') : undefined;\n  const displayPerUnit = params.get('seat');\n  const displayRecurrence = params.get('term');\n  const displayTax = params.get('tax');\n  const forceTaxExclusive = params.get('exclusive');\n  // The PRICE_TEMPLATE_MAPPING supports legacy OST links\n  const template = PRICE_TEMPLATE_MAPPING.get(params.get('type')) ?? PRICE_TEMPLATE_REGULAR;\n  return {\n    ...context,\n    displayOldPrice,\n    displayPerUnit,\n    displayRecurrence,\n    displayTax,\n    forceTaxExclusive,\n    template,\n  };\n}\n\nexport function reopenModal(cta) {\n  if (cta && cta.getAttribute('data-modal-id') === window.location.hash.replace('#', '')) {\n    cta.click();\n  }\n}\n\nexport async function buildCta(el, params) {\n  const large = !!el.closest('.marquee');\n  const strong = el.firstElementChild?.tagName === 'STRONG' || el.parentElement?.tagName === 'STRONG';\n  if (el.closest('.merch-offers.upgrade')) {\n    params.append('entitlement', 'false');\n  }\n  const context = await getCheckoutContext(el, params);\n  if (!context) return null;\n  const service = await initService();\n  const text = el.textContent?.replace(/^CTA +/, '');\n  const cta = service.createCheckoutLink(context, text);\n  if (el.href.includes('#_tcl')) {\n    el.href = el.href.replace('#_tcl', '');\n  } else {\n    cta.classList.add('con-button');\n    cta.classList.toggle('button-l', large);\n    cta.classList.toggle('blue', strong);\n  }\n  if (context.entitlement !== 'false') {\n    cta.classList.add(LOADING_ENTITLEMENTS);\n    cta.onceSettled().finally(() => {\n      cta.classList.remove(LOADING_ENTITLEMENTS);\n      // after opening a modal, navigating to another page and back we need to reopen the modal\n      reopenModal(cta);\n    });\n  }\n\n  // Adding aria-label for checkout-link using productFamily and customerSegment as placeholder key.\n  if (!cta.getAttribute('aria-label')) {\n    cta.onceSettled().finally(async () => {\n      const productFamily = cta.value[0]?.productArrangement?.productFamily;\n      const marketSegment = cta.value[0]?.marketSegments[0];\n      const customerSegment = marketSegment === 'EDU' ? marketSegment : cta.value[0]?.customerSegment;\n      let ariaLabel = cta.textContent;\n      ariaLabel = productFamily ? `${ariaLabel} - ${await replaceKey(productFamily, getConfig())}` : ariaLabel;\n      ariaLabel = customerSegment ? `${ariaLabel} - ${await replaceKey(customerSegment, getConfig())}` : ariaLabel;\n      cta.setAttribute('aria-label', ariaLabel);\n    });\n  }\n  return cta;\n}\n\nasync function buildPrice(el, params) {\n  const context = await getPriceContext(el, params);\n  if (!context) return null;\n  const service = await initService();\n  const price = service.createInlinePrice(context);\n  return price;\n}\n\nexport default async function init(el) {\n  if (!el?.classList?.contains('merch')) return undefined;\n  const { searchParams } = new URL(el.href);\n  const isCta = searchParams.get('type') === 'checkoutUrl';\n  const merch = await (isCta ? buildCta : buildPrice)(el, searchParams);\n  const service = await initService();\n  log = service.Log.module('merch');\n  if (merch) {\n    log.debug('Rendering:', { options: { ...merch.dataset }, merch, el });\n    el.replaceWith(merch);\n    return merch;\n  }\n  log.warn('Failed to get context:', { el });\n  return null;\n}\n","/* eslint import/no-relative-packages: 0 */\n/* eslint-disable no-async-promise-executor */\nimport {\n  getConfig,\n  getMetadata,\n  loadIms,\n  decorateLinks,\n  loadScript,\n  getGnavSource,\n  getFedsPlaceholderConfig,\n} from '../../utils/utils.js';\nimport {\n  closeAllDropdowns,\n  decorateCta,\n  fetchAndProcessPlainHtml,\n  getActiveLink,\n  getAnalyticsValue,\n  getExperienceName,\n  isActiveLink,\n  icons,\n  isDesktop,\n  isTangentToViewport,\n  lanaLog,\n  loadBaseStyles,\n  loadDecorateMenu,\n  rootPath,\n  loadStyles,\n  logErrorFor,\n  selectors,\n  setActiveDropdown,\n  setCurtainState,\n  setUserProfile,\n  toFragment,\n  trigger,\n  yieldToMain,\n  addMepHighlightAndTargetId,\n  isDarkMode,\n  darkIcons,\n  setDisableAEDState,\n  animateInSequence,\n  transformTemplateToMobile,\n  closeAllTabs,\n  disableMobileScroll,\n  enableMobileScroll,\n  setAsyncDropdownCount,\n  branchBannerLoadCheck,\n  getBranchBannerInfo,\n} from './utilities/utilities.js';\n\nimport { replaceKey, replaceKeyArray } from '../../features/placeholders.js';\n\nimport { getMiloLocaleSettings } from '../merch/merch.js';\n\nconst SIGNIN_CONTEXT = getConfig()?.signInContext;\n\nfunction getHelpChildren() {\n  const { unav } = getConfig();\n  return unav?.unavHelpChildren || [\n    { type: 'Support' },\n    { type: 'Community' },\n  ];\n}\n\nconst getMessageEventListener = () => {\n  const configListener = getConfig().unav?.profile?.messageEventListener;\n  if (configListener) return configListener;\n\n  return (event) => {\n    const { name, payload, executeDefaultAction } = event.detail;\n    if (!name || name !== 'System' || !payload || typeof executeDefaultAction !== 'function') return;\n    switch (payload.subType) {\n      case 'AppInitiated':\n        window.adobeProfile?.getUserProfile()\n          .then((data) => { setUserProfile(data); })\n          .catch(() => { setUserProfile({}); });\n        break;\n      case 'SignOut':\n        executeDefaultAction();\n        break;\n      case 'ProfileSwitch':\n        Promise.resolve(executeDefaultAction()).then((profile) => {\n          if (profile) window.location.reload();\n        });\n        break;\n      default:\n        break;\n    }\n  };\n};\n\nexport const CONFIG = {\n  icons: isDarkMode() ? darkIcons : icons,\n  delays: {\n    mainNavDropdowns: 800,\n    loadDelayed: 3000,\n    keyboardNav: 8000,\n  },\n  features: [\n    'gnav-brand',\n    'gnav-promo',\n    'search',\n    'profile',\n    'app-launcher',\n    'adobe-logo',\n  ],\n  universalNav: {\n    components: {\n      profile: {\n        name: 'profile',\n        attributes: {\n          isSignUpRequired: false,\n          messageEventListener: getMessageEventListener(),\n          componentLoaderConfig: {\n            config: {\n              enableLocalSection: true,\n              enableProfileSwitcher: true,\n              miniAppContext: {\n                logger: {\n                  trace: () => {},\n                  debug: () => {},\n                  info: () => {},\n                  warn: (e) => lanaLog({ message: 'Profile Menu warning', e, tags: 'universalnav', errorType: 'warn' }),\n                  error: (e) => lanaLog({ message: 'Profile Menu error', e, tags: 'universalnav', errorType: 'error' }),\n                },\n              },\n              ...getConfig().unav?.profile?.config,\n            },\n          },\n          complexConfig: getConfig().unav?.profile?.complexConfig || null,\n          callbacks: {\n            onSignIn: () => { window.adobeIMS?.signIn(SIGNIN_CONTEXT); },\n            onSignUp: () => { window.adobeIMS?.signIn(SIGNIN_CONTEXT); },\n          },\n        },\n      },\n      appswitcher: { name: 'app-switcher' },\n      notifications: {\n        name: 'notifications',\n        attributes: {\n          notificationsConfig: {\n            applicationContext: {\n              appID: getConfig().unav?.uncAppId || 'adobecom',\n              ...getConfig().unav?.uncConfig,\n            },\n          },\n        },\n      },\n      help: {\n        name: 'help',\n        attributes: { children: getHelpChildren() },\n      },\n      jarvis: {\n        name: 'jarvis',\n        attributes: {\n          appid: getConfig().jarvis?.id,\n          callbacks: getConfig().jarvis?.callbacks,\n        },\n      },\n      cart: { name: 'cart' },\n    },\n  },\n};\n\nexport const osMap = {\n  Mac: 'macOS',\n  Win: 'windows',\n  Linux: 'linux',\n  CrOS: 'chromeOS',\n  Android: 'android',\n  iPad: 'iPadOS',\n  iPhone: 'iOS',\n};\n\nexport const LANGMAP = {\n  cs: ['cz'],\n  da: ['dk'],\n  de: ['at'],\n  en: ['africa', 'au', 'ca', 'ie', 'in', 'mt', 'ng', 'nz', 'sg', 'za'],\n  es: ['ar', 'cl', 'co', 'cr', 'ec', 'gt', 'la', 'mx', 'pe', 'pr'],\n  et: ['ee'],\n  ja: ['jp'],\n  ko: ['kr'],\n  nb: ['no'],\n  pt: ['br'],\n  sl: ['si'],\n  sv: ['se'],\n  uk: ['ua'],\n  zh: ['cn', 'tw'],\n};\n\n// signIn, decorateSignIn and decorateProfileTrigger can be removed if IMS takes over the profile\nconst signIn = (options = {}) => {\n  if (typeof window.adobeIMS?.signIn !== 'function') {\n    lanaLog({ message: 'IMS signIn method not available', tags: 'gnav', errorType: 'warn' });\n    return;\n  }\n  window.adobeIMS.signIn(options);\n};\n\nconst decorateSignIn = async ({ rawElem, decoratedElem }) => {\n  const dropdownElem = rawElem.querySelector(':scope > div:nth-child(2)');\n  const signInLabel = await replaceKey('sign-in', getFedsPlaceholderConfig());\n  let signInElem;\n\n  if (!dropdownElem) {\n    signInElem = toFragment`<button daa-ll=\"${signInLabel}\" class=\"feds-signIn\">${signInLabel}</button>`;\n\n    signInElem.addEventListener('click', (e) => {\n      e.preventDefault();\n      signIn(SIGNIN_CONTEXT);\n    });\n  } else {\n    signInElem = toFragment`<button daa-ll=\"${signInLabel}\" class=\"feds-signIn\" aria-expanded=\"false\" aria-haspopup=\"true\">${signInLabel}</button>`;\n\n    signInElem.addEventListener('click', (e) => trigger({ element: signInElem, event: e }));\n    signInElem.addEventListener('keydown', (e) => e.code === 'Escape' && closeAllDropdowns());\n    dropdownElem.addEventListener('keydown', (e) => e.code === 'Escape' && closeAllDropdowns());\n\n    dropdownElem.classList.add('feds-signIn-dropdown');\n\n    const dropdownSignInAnchor = dropdownElem.querySelector('[href$=\"?sign-in=true\"]');\n    if (dropdownSignInAnchor) {\n      const dropdownSignInButton = toFragment`<button class=\"feds-signIn\">${dropdownSignInAnchor.textContent}</button>`;\n      dropdownSignInAnchor.replaceWith(dropdownSignInButton);\n      dropdownSignInButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        signIn(SIGNIN_CONTEXT);\n      });\n    } else {\n      lanaLog({ message: 'Sign in link not found in dropdown.', tags: 'gnav', errorType: 'warn' });\n    }\n\n    decoratedElem.append(dropdownElem);\n  }\n\n  decoratedElem.prepend(signInElem);\n};\n\nconst decorateProfileTrigger = async ({ avatar }) => {\n  const [label, profileAvatar] = await replaceKeyArray(\n    ['profile-button', 'profile-avatar'],\n    getFedsPlaceholderConfig(),\n  );\n\n  const buttonElem = toFragment`\n    <button\n      data-cs-mask\n      class=\"feds-profile-button\"\n      aria-expanded=\"false\"\n      aria-controls=\"feds-profile-menu\"\n      aria-label=\"${label}\"\n      daa-ll=\"Account\"\n      aria-haspopup=\"true\"\n    >\n      <img data-cs-mask class=\"feds-profile-img\" src=\"${avatar}\" alt=\"${profileAvatar}\"></img>\n    </button>\n  `;\n\n  return buttonElem;\n};\n\nlet keyboardNav;\nconst setupKeyboardNav = async (newMobileWithLnav) => {\n  keyboardNav = keyboardNav || new Promise(async (resolve) => {\n    const { default: KeyboardNavigation } = await import('./utilities/keyboard/index.js');\n    const instance = new KeyboardNavigation(newMobileWithLnav);\n    resolve(instance);\n  });\n};\n\nconst getBrandImage = (image, brandImageOnly) => {\n  // Return the default Adobe logo if an image is not available\n  if (!image) return brandImageOnly ? CONFIG.icons.brand : CONFIG.icons.company;\n\n  // Try to decorate image as PNG, JPG or JPEG\n  const imgText = image?.textContent || '';\n  const [source, alt] = imgText.split('|');\n  if (source.trim().length) {\n    const img = toFragment`<img src=\"${source.trim()}\" />`;\n    if (alt) img.alt = alt.trim();\n    return img;\n  }\n\n  // Return the default Adobe logo if the image could not be decorated\n  return brandImageOnly ? CONFIG.icons.brand : CONFIG.icons.company;\n};\n\nconst closeOnClickOutside = (e, isLocalNav, navWrapper) => {\n  if (isLocalNav && navWrapper.classList.contains('feds-nav-wrapper--expanded')) return;\n  const newMobileNav = getMetadata('mobile-gnav-v2') !== 'false';\n  if (!isDesktop.matches && !newMobileNav) return;\n\n  const openElemSelector = `${selectors.globalNav} [aria-expanded = \"true\"]:not(.universal-nav-container *), ${selectors.localNav} [aria-expanded = \"true\"]`;\n  const isClickedElemOpen = [...document.querySelectorAll(openElemSelector)]\n    .find((openItem) => openItem.parentElement.contains(e.target));\n\n  if (!isClickedElemOpen) {\n    closeAllDropdowns();\n  }\n};\n\nexport const getUniversalNavLocale = (locale) => {\n  if (!locale.prefix || locale.prefix === '/') return 'en_US';\n  const prefix = locale.prefix.replace('/', '');\n  if (prefix.includes('_')) {\n    const [lang, country] = prefix.split('_').reverse();\n    return `${lang.toLowerCase()}_${country.toUpperCase()}`;\n  }\n\n  if (prefix === 'uk') return 'en_GB';\n  const customLang = Object.keys(LANGMAP).find((key) => LANGMAP[key].includes(prefix));\n  if (customLang) return `${customLang.toLowerCase()}_${prefix.toUpperCase()}`;\n\n  return `${prefix.toLowerCase()}_${prefix.toUpperCase()}`;\n};\n\nconst convertToPascalCase = (str) => str\n  ?.split('-')\n  .map((s) => s.charAt(0).toUpperCase() + s.slice(1))\n  .join(' ');\n\nconst removeLocalNav = () => {\n  lanaLog({ message: 'Gnav Localnav was removed, potential CLS', tags: 'gnav-localnav' });\n  document.querySelector('.feds-localnav')?.remove();\n};\n\nclass Gnav {\n  constructor({ content, block, newMobileNav } = {}) {\n    this.content = content;\n    this.block = block;\n    this.customLinks = getConfig()?.customLinks?.split(',') || [];\n\n    this.blocks = {\n      profile: {\n        rawElem: this.content.querySelector('.profile'),\n        decoratedElem: toFragment`<div data-cs-mask class=\"feds-profile\"></div>`,\n      },\n      search: { config: { icon: CONFIG.icons.search } },\n      breadcrumbs: { wrapper: '' },\n    };\n\n    this.setupUniversalNav();\n    this.elements = {};\n    this.newMobileNav = newMobileNav;\n  }\n\n  // eslint-disable-next-line no-return-assign\n  getOriginalTitle = (firstElem) => this.originalTitle ||= firstElem.textContent?.split('::');\n\n  setupUniversalNav = () => {\n    const meta = getMetadata('universal-nav')?.toLowerCase();\n    this.universalNavComponents = meta?.split(',').map((option) => option.trim())\n      .filter((component) => Object.keys(CONFIG.universalNav.components).includes(component) || component === 'signup');\n    this.useUniversalNav = meta === 'on' || !!this.universalNavComponents?.length;\n    if (this.useUniversalNav) {\n      delete this.blocks.profile;\n      this.blocks.universalNav = toFragment`<div class=\"feds-utilities\"></div>`;\n      this.blocks.universalNav.addEventListener('click', () => {\n        if (this.isToggleExpanded()) this.toggleMenuMobile();\n      }, true);\n    }\n  };\n\n  init = () => logErrorFor(async () => {\n    branchBannerLoadCheck(this.updatePopupPosition);\n    this.elements.curtain = toFragment`<div class=\"feds-curtain\"></div>`;\n\n    // Order is important, decorateTopnavWrapper will render the nav\n    // Ensure any critical task is executed before it\n    const tasks = [\n      // decorateAside is the only async function that fires prior to rendering\n      // (at time of writing). If there is no aside it returns sync -- no problem.\n      // But if there is, we need those functions (import + decorate) to enter the event loop\n      // before the delayed decorateDropdown function does.\n      // the rest is taken care of by the 'await' semantics\n      // We needn't worry about delays now since decorateAside\n      // needed to run anyway prior to decorateTopNavWrapper\n      this.decorateAside,\n      this.decorateMainNav,\n      this.decorateTopNav,\n      this.decorateTopnavWrapper,\n      loadBaseStyles,\n      this.ims,\n      this.addChangeEventListeners,\n    ];\n    const fetchKeyboardNav = () => {\n      setupKeyboardNav(this.isLocalNav());\n    };\n    this.block.addEventListener('click', this.loadDelayed);\n    this.block.addEventListener('keydown', fetchKeyboardNav);\n    setTimeout(this.loadDelayed, CONFIG.delays.loadDelayed);\n    setTimeout(fetchKeyboardNav, CONFIG.delays.keyboardNav);\n    for (const task of tasks) {\n      await yieldToMain();\n      await task();\n    }\n\n    document.addEventListener('click', (e) => closeOnClickOutside(e, this.isLocalNav(), this.elements.navWrapper));\n    isDesktop.addEventListener('change', closeAllDropdowns);\n  }, 'Error in global navigation init', 'gnav', 'error');\n\n  ims = async () => (window.adobeIMS?.initialized ? this.imsReady() : loadIms()\n    .then(() => this.imsReady())\n    .catch((e) => {\n      if (e?.message === 'IMS timeout') {\n        window.addEventListener('onImsLibInstance', () => this.imsReady());\n        return;\n      }\n      lanaLog({ message: 'GNAV: Error with IMS', e, tags: 'gnav', errorType: 'info' });\n    }));\n\n  decorateProductEntryCTA = () => {\n    const button = this.content.querySelector('.product-entry-cta a');\n    if (!button) return null;\n    const cta = decorateCta({ elem: button, type: this.getMainNavItemType(button) });\n    cta.closest('.feds-cta-wrapper').classList.add('feds-product-entry-cta');\n    return cta;\n  };\n\n  decorateTopNav = () => {\n    this.elements.mobileToggle = this.decorateToggle();\n    this.elements.topnav = toFragment`\n      <nav class=\"feds-topnav\" aria-label=\"Main\">\n        <div class=\"feds-brand-container\">\n          ${this.elements.mobileToggle}\n          ${this.decorateBrand()}\n        </div>\n        ${this.elements.navWrapper}\n        ${getMetadata('product-entry-cta')?.toLowerCase() === 'on' ? this.decorateProductEntryCTA() : ''}\n        ${getConfig().searchEnabled === 'on' ? toFragment`<div class=\"feds-client-search\"></div>` : ''}\n        ${this.useUniversalNav ? this.blocks.universalNav : ''}\n        ${getConfig().selfIntegrateUnav ? toFragment`<div class=\"feds-client-unav\"></div>` : ''}\n        ${(!this.useUniversalNav && this.blocks.profile.rawElem) ? this.blocks.profile.decoratedElem : ''}\n        ${this.decorateLogo()}\n      </nav>\n    `;\n  };\n\n  decorateLocalNav = async () => {\n    if (!this.isLocalNav()) {\n      removeLocalNav();\n      return;\n    }\n    const localNavItems = this.elements.navWrapper.querySelector('.feds-nav').querySelectorAll('.feds-navItem:not(.feds-navItem--section, .feds-navItem--mobile-only)');\n    const firstElem = localNavItems[0]?.querySelector('a') || localNavItems[0]?.querySelector('button');\n    if (!firstElem) {\n      lanaLog({ message: 'GNAV: Incorrect authoring of localnav found.', tags: 'gnav', errorType: 'info' });\n      return;\n    }\n    const [title, navTitle = ''] = this.getOriginalTitle(firstElem);\n    let localNav = document.querySelector('.feds-localnav');\n    if (!localNav) {\n      lanaLog({\n        message: 'GNAV: Localnav does not include \\'localnav\\' in its name.',\n        tags: 'gnav',\n        errorType: 'info',\n      });\n      localNav = toFragment`<div class=\"feds-localnav\"/>`;\n      this.block.after(localNav);\n    }\n    localNav.setAttribute('daa-lh', `${title}_localNav`);\n    localNav.append(toFragment`<button class=\"feds-navLink--hoverCaret feds-localnav-title\" aria-haspopup=\"true\" aria-expanded=\"false\" daa-ll=\"${title}_localNav|open\"></button>`, toFragment` <div class=\"feds-localnav-curtain\"></div>`, toFragment` <div class=\"feds-localnav-items\"></div>`, toFragment`<a href=\"#\" class=\"feds-sr-only feds-localnav-exit\">.</a>`);\n\n    const itemWrapper = localNav.querySelector('.feds-localnav-items');\n    const titleLabel = await replaceKey('overview', getFedsPlaceholderConfig());\n\n    localNavItems.forEach((elem, idx) => {\n      const clonedItem = elem.cloneNode(true);\n      const link = clonedItem.querySelector('a, button');\n\n      if (link) {\n        link.dataset.title = link.textContent;\n      }\n\n      if (idx === 0) {\n        localNav.querySelector('.feds-localnav-title').innerText = title.trim();\n        link.textContent = navTitle.trim() || titleLabel;\n      }\n\n      itemWrapper.appendChild(clonedItem);\n    });\n\n    localNav.querySelector('.feds-localnav-title').addEventListener('click', () => {\n      localNav.classList.toggle('feds-localnav--active');\n      const isActive = localNav.classList.contains('feds-localnav--active');\n      localNav.querySelector('.feds-localnav-title').setAttribute('aria-expanded', isActive);\n      localNav.querySelector('.feds-localnav-title').setAttribute('daa-ll', `${title}_localNav|${isActive ? 'close' : 'open'}`);\n    });\n\n    localNav.querySelector('.feds-localnav-curtain').addEventListener('click', (e) => {\n      trigger({ element: e.currentTarget, event: e, type: 'localNav-curtain' });\n    });\n    const promo = document.querySelector('.feds-promo-aside-wrapper');\n    if (promo) localNav.classList.add('has-promo');\n    this.elements.localNav = localNav;\n    firstElem.textContent = title.trim();\n    const isAtTop = () => {\n      const rect = this.elements.localNav.getBoundingClientRect();\n      // note: ios safari changes between -0.34375, 0, and 0.328125\n      return rect.top === 0;\n    };\n    window.addEventListener('scroll', () => {\n      const classList = this.elements.localNav?.classList;\n      if (isAtTop()) {\n        if (!classList?.contains('is-sticky')) {\n          classList?.add('is-sticky');\n        }\n      } else {\n        classList?.remove('is-sticky');\n      }\n    });\n  };\n\n  decorateTopnavWrapper = async () => {\n    const breadcrumbs = isDesktop.matches ? await this.decorateBreadcrumbs() : '';\n    this.elements.topnavWrapper = toFragment`<div class=\"feds-topnav-wrapper\">\n        ${this.elements.topnav}\n        ${breadcrumbs}\n      </div>\n      `;\n\n    this.block.append(\n      this.elements.curtain,\n      this.elements.topnavWrapper,\n    );\n  };\n\n  addChangeEventListeners = () => {\n    // Ensure correct DOM order for elements between mobile and desktop\n    isDesktop.addEventListener('change', () => {\n      if (isDesktop.matches) {\n        // On desktop, search is after nav\n        if (this.elements.mainNav instanceof HTMLElement\n          && this.elements.search instanceof HTMLElement) {\n          this.elements.mainNav.after(this.elements.search);\n        }\n\n        // On desktop, breadcrumbs are below the whole nav\n        if (this.elements.topnav instanceof HTMLElement\n          && this.elements.breadcrumbsWrapper instanceof HTMLElement) {\n          this.elements.topnav.after(this.elements.breadcrumbsWrapper);\n        }\n      } else {\n        // On mobile, nav is after search\n        if (this.elements.mainNav instanceof HTMLElement\n          && this.elements.search instanceof HTMLElement) {\n          this.elements.mainNav.before(this.elements.search);\n        }\n\n        // On mobile, breadcrumbs are before the search and nav\n        if (this.elements.navWrapper instanceof HTMLElement\n          && this.elements.breadcrumbsWrapper instanceof HTMLElement) {\n          this.elements.navWrapper.prepend(this.elements.breadcrumbsWrapper);\n        }\n      }\n    });\n\n    // Add a modifier when the nav is tangent to the viewport and content is partly hidden\n    const toggleContraction = () => {\n      const isOverflowing = isTangentToViewport.matches\n        && this.elements.topnav?.scrollWidth\n        && this.elements.topnav.scrollWidth > document.body.clientWidth;\n\n      this.elements.topnav.classList.toggle(selectors.overflowingTopNav.slice(1), isOverflowing);\n      window.dispatchEvent(new CustomEvent('feds:navOverflow', { detail: { isOverflowing } }));\n    };\n\n    toggleContraction();\n    isTangentToViewport.addEventListener('change', toggleContraction);\n  };\n\n  loadDelayed = async () => {\n    this.ready = this.ready || new Promise(async (resolve) => {\n      try {\n        this.block.removeEventListener('click', this.loadDelayed);\n        this.block.removeEventListener('keydown', this.loadDelayed);\n        if (this.searchPresent()) {\n          const [\n            { default: Search },\n          ] = await Promise.all([\n            import('./features/search/gnav-search.js'),\n            loadStyles(rootPath('features/search/gnav-search.css')),\n          ]);\n          this.Search = Search;\n        }\n\n        if (!this.useUniversalNav) {\n          const [{ default: ProfileDropdown }] = await Promise.all([\n            import('./features/profile/dropdown.js'),\n            loadStyles(rootPath('features/profile/dropdown.css')),\n          ]);\n          this.ProfileDropdown = ProfileDropdown;\n        }\n\n        resolve();\n      } catch (e) {\n        lanaLog({ message: 'GNAV: Error within loadDelayed', e, tags: 'gnav', errorType: 'warn' });\n        resolve();\n      }\n    });\n\n    return this.ready;\n  };\n\n  imsReady = async () => {\n    if (!window.adobeIMS.isSignedInUser() || !this.useUniversalNav) setUserProfile({});\n\n    const tasks = [this.useUniversalNav ? this.decorateUniversalNav : this.decorateProfile];\n\n    try {\n      for await (const task of tasks) {\n        await yieldToMain();\n        await task();\n      }\n    } catch (e) {\n      lanaLog({\n        e,\n        tags: 'gnav',\n        errorType: 'info',\n        message: `GNAV: issues within imsReady - ${this.useUniversalNav ? 'decorateUniversalNav' : 'decorateProfile'}`,\n      });\n    }\n  };\n\n  decorateProfile = async () => {\n    const { rawElem, decoratedElem } = this.blocks.profile;\n    if (!rawElem) return;\n\n    const isSignedInUser = window.adobeIMS.isSignedInUser();\n\n    // If user is not signed in, decorate the 'Sign In' element\n    if (!isSignedInUser) {\n      await decorateSignIn({ rawElem, decoratedElem });\n      return;\n    }\n\n    // If user is signed in, decorate the profile avatar\n    const accessToken = window.adobeIMS.getAccessToken();\n    const { env } = getConfig();\n    const headers = new Headers({ Authorization: `Bearer ${accessToken.token}` });\n    const profileData = await fetch(`https://${env.adobeIO}/profile`, { headers });\n\n    if (profileData.status !== 200) {\n      lanaLog({\n        message: 'GNAV: decorateProfile has failed to fetch profile data',\n        e: `${profileData.statusText} url: ${profileData.url}`,\n        tags: 'gnav',\n        errorType: 'info',\n      });\n      return;\n    }\n\n    const { sections, user: { avatar } } = await profileData.json();\n\n    this.blocks.profile.buttonElem = await decorateProfileTrigger({ avatar });\n    decoratedElem.append(this.blocks.profile.buttonElem);\n\n    // Decorate the profile dropdown\n    // after user interacts with button or after 3s have passed\n    let decorationTimeout;\n\n    const decorateDropdown = async (e) => {\n      this.blocks.profile.buttonElem.removeEventListener('click', decorateDropdown);\n      clearTimeout(decorationTimeout);\n      await this.loadDelayed();\n      this.blocks.profile.dropdownInstance = new this.ProfileDropdown({\n        rawElem,\n        decoratedElem,\n        avatar,\n        sections,\n        buttonElem: this.blocks.profile.buttonElem,\n        // If the dropdown has been decorated due to a click, open it\n        openOnInit: e instanceof Event,\n      });\n    };\n\n    this.blocks.profile.buttonElem.addEventListener('click', decorateDropdown);\n    decorationTimeout = setTimeout(decorateDropdown, CONFIG.delays.loadDelayed);\n  };\n\n  decorateUniversalNav = async () => {\n    const config = getConfig();\n    const locale = getUniversalNavLocale(config.locale);\n    const environment = config.env.name === 'prod' ? 'prod' : 'stage';\n    const visitorGuid = window.alloy ? await window.alloy('getIdentity')\n      .then((data) => data?.identity?.ECID).catch(() => undefined) : undefined;\n    const experienceName = getExperienceName();\n\n    const getDevice = () => {\n      const agent = navigator.userAgent;\n      for (const [os, osName] of Object.entries(osMap)) {\n        if (agent.includes(os)) return osName;\n      }\n      return 'linux';\n    };\n\n    const unavVersion = new URLSearchParams(window.location.search).get('unavVersion') || '1.4';\n    await Promise.all([\n      loadScript(`https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.js`),\n      loadStyles(`https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.css`, true),\n    ]);\n\n    const getChildren = () => {\n      const children = [CONFIG.universalNav.components.profile];\n      // reset sign up value on change\n      children[0].attributes.isSignUpRequired = false;\n\n      this.universalNavComponents?.forEach((component) => {\n        if (component === 'profile') return;\n        if (component === 'signup') {\n          children[0].attributes.isSignUpRequired = true;\n          return;\n        }\n\n        children.push(CONFIG.universalNav.components[component]);\n      });\n\n      return children;\n    };\n\n    const onAnalyticsEvent = (data) => {\n      if (!data) return;\n      if (!data.event) data.event = { type: data.type, subtype: data.subtype };\n      if (!data.source) data.source = { name: data.workflow?.toLowerCase().trim() };\n\n      const getInteraction = () => {\n        const {\n          event: { type, subtype } = {},\n          source: { name } = {},\n          content: { name: contentName } = {},\n        } = data;\n\n        switch (`${name}|${type}|${subtype}${contentName ? `|${contentName}` : ''}`) {\n          case 'profile|click|sign-in':\n            return `Sign In|gnav|${experienceName}|unav`;\n          case 'profile|render|component':\n            return `Account|gnav|${experienceName}|unav`;\n          case 'profile|click|account':\n            return `View Account|gnav|${experienceName}|unav`;\n          case 'profile|click|sign-out':\n            return `Sign Out|gnav|${experienceName}|unav`;\n          case 'app-switcher|render|component':\n            return 'AppLauncher.appIconToggle';\n          case `app-switcher|click|app|${contentName}`:\n            return `AppLauncher.appClick.${convertToPascalCase(contentName)}`;\n          case 'app-switcher|click|footer|adobe-home':\n            return 'AppLauncher.adobe.com';\n          case 'app-switcher|click|footer|all-apps':\n            return 'AppLauncher.allapps';\n          case 'app-switcher|click|footer|adobe-dot-com':\n            return 'AppLauncher.adobe.com';\n          case 'app-switcher|click|footer|see-all-apps':\n            return 'AppLauncher.allapps';\n          case 'unc|click|icon':\n            return 'Open Notifications panel';\n          case 'unc|click|link':\n            return 'Open Notification';\n          case 'unc|click|markRead':\n            return 'Mark Notification as read';\n          case 'unc|click|dismiss':\n            return 'Dismiss Notifications';\n          case 'unc|click|markUnread':\n            return 'Mark Notification as unread';\n          default:\n            return null;\n        }\n      };\n      const interaction = getInteraction();\n\n      if (!interaction) return;\n      // eslint-disable-next-line no-underscore-dangle\n      window._satellite?.track('event', {\n        xdm: {},\n        data: { web: { webInteraction: { name: interaction } } },\n      });\n    };\n\n    const getConfiguration = () => ({\n      target: this.blocks.universalNav,\n      env: environment,\n      locale,\n      countryCode: getMiloLocaleSettings(getConfig().locale)?.country || 'US',\n      imsClientId: window.adobeid?.client_id,\n      theme: isDarkMode() ? 'dark' : 'light',\n      analyticsContext: {\n        consumer: {\n          name: 'adobecom',\n          version: '1.0',\n          platform: 'Web',\n          device: getDevice(),\n          os_version: navigator.platform,\n        },\n        event: { visitor_guid: visitorGuid },\n        onAnalyticsEvent,\n      },\n      children: getChildren(),\n      isSectionDividerRequired: getConfig()?.unav?.showSectionDivider,\n      showTrayExperience: (!isDesktop.matches),\n    });\n\n    // Exposing UNAV config for consumers\n    CONFIG.universalNav.universalNavConfig = getConfiguration();\n    await window.UniversalNav(CONFIG.universalNav.universalNavConfig);\n    this.decorateAppPrompt({ getAnchorState: () => window.UniversalNav.getComponent?.('app-switcher') });\n    isDesktop.addEventListener('change', () => {\n      window.UniversalNav.reload(getConfiguration());\n    });\n  };\n\n  decorateAppPrompt = async ({ getAnchorState } = {}) => {\n    const state = getMetadata('app-prompt')?.toLowerCase();\n    const entName = getMetadata('app-prompt-entitlement')?.toLowerCase();\n    const promptPath = getMetadata('app-prompt-path')?.toLowerCase();\n    const hasMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i.test(navigator.userAgent);\n\n    if (state === 'off'\n      || !window.adobeIMS?.isSignedInUser()\n      || !isDesktop.matches\n      || hasMobileUA\n      || !entName?.length\n      || !promptPath?.length) return;\n\n    const { base } = getConfig();\n    const [\n      webappPrompt,\n    ] = await Promise.all([\n      import('../../features/webapp-prompt/webapp-prompt.js'),\n      loadStyles(`${base}/features/webapp-prompt/webapp-prompt.css`),\n    ]);\n\n    webappPrompt.default({ promptPath, entName, parent: this.blocks.universalNav, getAnchorState });\n  };\n\n  loadSearch = () => {\n    const instanceAlreadyExists = !!this.blocks?.search?.instance;\n    const searchNotInContent = !this.searchPresent();\n    if (instanceAlreadyExists || searchNotInContent) return null;\n\n    return this.loadDelayed().then(() => {\n      this.blocks.search.instance = new this.Search(this.blocks.search.config);\n    }).catch(() => { });\n  };\n\n  isToggleExpanded = () => this.elements.mobileToggle?.getAttribute('aria-expanded') === 'true';\n\n  isLocalNav = () => this.newMobileNav && this\n    .elements\n    .navWrapper\n    ?.querySelectorAll('.feds-nav > section.feds-navItem')\n    ?.length <= 1;\n\n  hasMegaMenu = () => this\n    .elements\n    .navWrapper\n    ?.querySelectorAll('.feds-nav > section.feds-navItem')\n    ?.length >= 1;\n\n  toggleMenuMobile = () => {\n    const toggle = this.elements.mobileToggle;\n    const isExpanded = this.isToggleExpanded();\n    if (!isExpanded && this.newMobileNav) {\n      const sections = document.querySelectorAll('header.new-nav .feds-nav > section.feds-navItem > button.feds-navLink');\n      animateInSequence(sections, 0.075);\n      if (this.isLocalNav() && this.hasMegaMenu()) {\n        disableMobileScroll();\n        const section = sections[0];\n        queueMicrotask(() => section.click());\n      }\n    } else if (isExpanded && this.isLocalNav()) {\n      enableMobileScroll();\n    }\n    toggle?.setAttribute('aria-expanded', !isExpanded);\n    document.body.classList.toggle('disable-scroll', !isExpanded);\n    this.elements.navWrapper?.classList?.toggle('feds-nav-wrapper--expanded', !isExpanded);\n    closeAllDropdowns();\n    setCurtainState(!isExpanded);\n    toggle?.setAttribute('daa-ll', `hamburgermenu|${isExpanded ? 'open' : 'close'}`);\n  };\n\n  decorateToggle = () => {\n    if (!this.mainNavItemCount || (this.newMobileNav && !this.hasMegaMenu())) return '';\n\n    const toggle = toFragment`<button\n      class=\"feds-toggle\"\n      daa-ll=\"hamburgermenu|open\"\n      aria-expanded=\"false\"\n      aria-haspopup=\"true\"\n      aria-label=\"Navigation menu\"\n      aria-controls=\"feds-nav-wrapper\"\n      data-feds-preventAutoClose>\n      </button>`;\n\n    const setHamburgerPadding = () => {\n      if (isDesktop.matches) {\n        this.elements.mainNav.style.removeProperty('padding-bottom');\n      } else {\n        const offset = Math.ceil(this.elements.topnavWrapper.getBoundingClientRect().bottom);\n        this.elements.mainNav.style.setProperty('padding-bottom', `${2 * offset}px`);\n      }\n    };\n\n    const onToggleClick = async () => {\n      this.toggleMenuMobile();\n\n      if (this.blocks?.search?.instance) {\n        this.blocks.search.instance.clearSearchForm();\n      } else {\n        await this.loadSearch();\n      }\n\n      if (this.isToggleExpanded()) setHamburgerPadding();\n    };\n\n    toggle.addEventListener('click', () => logErrorFor(onToggleClick, 'Toggle click failed', 'gnav', 'error'));\n\n    const onDeviceChange = () => {\n      if (isDesktop.matches) {\n        toggle.setAttribute('aria-expanded', false);\n        this.elements.navWrapper.classList.remove('feds-nav-wrapper--expanded');\n        document.body.classList.remove('disable-scroll');\n        setCurtainState(false);\n        closeAllDropdowns();\n        this.blocks?.search?.instance?.clearSearchForm();\n      }\n    };\n\n    isDesktop.addEventListener('change', () => logErrorFor(onDeviceChange, 'Toggle logic failed on device change', 'gnav', 'error'));\n\n    return toggle;\n  };\n\n  decorateGenericLogo = ({ selector, classPrefix, includeLabel = true, analyticsValue } = {}) => {\n    const rawBlock = this.content.querySelector(selector);\n    if (!rawBlock) return '';\n\n    // Get all non-image links\n    const imgRegex = /(\\.png|\\.jpg|\\.jpeg)/;\n    const blockLinks = [...rawBlock.querySelectorAll('a')];\n    const link = blockLinks.find((blockLink) => !imgRegex.test(blockLink.href)\n      && !imgRegex.test(blockLink.textContent));\n\n    if (!link) return '';\n\n    // Check which elements should be rendered\n    const isBrandImage = rawBlock.matches(selectors.brandImageOnly);\n    const renderImage = !rawBlock.matches('.no-logo');\n    const renderLabel = !isBrandImage && includeLabel && !rawBlock.matches('.image-only');\n\n    if (!renderImage && !renderLabel) return '';\n\n    // Create image element\n    const getImageEl = () => {\n      if (isDarkMode()) {\n        const allSvgImgs = rawBlock.querySelectorAll('picture img[src$=\".svg\"]');\n        if (allSvgImgs.length === 2) return allSvgImgs[1];\n\n        const images = blockLinks.filter((blockLink) => imgRegex.test(blockLink.href)\n          || imgRegex.test(blockLink.textContent));\n        if (images.length === 2) return getBrandImage(images[1], isBrandImage);\n      }\n      const svgImg = rawBlock.querySelector('picture img[src$=\".svg\"]');\n      if (svgImg) return svgImg;\n\n      const image = blockLinks.find((blockLink) => imgRegex.test(blockLink.href)\n        || imgRegex.test(blockLink.textContent));\n      return getBrandImage(image, isBrandImage);\n    };\n\n    const brandImageClass = isBrandImage ? ` ${selectors.brandImageOnly.slice(1)}` : '';\n    const imageEl = renderImage\n      ? toFragment`<span class=\"${classPrefix}-image${brandImageClass}\">${getImageEl()}</span>`\n      : '';\n\n    // Create label element\n    const labelEl = renderLabel\n      ? toFragment`<span class=\"${classPrefix}-label\">${link.textContent}</span>`\n      : '';\n\n    // Create final template\n    const decoratedElem = toFragment`\n      <a href=\"${link.href}\" class=\"${classPrefix}\" daa-ll=\"${analyticsValue}\">\n        ${imageEl}\n        ${labelEl}\n      </a>`;\n\n    // Add accessibility attributes if just an image is rendered\n    if (!renderLabel && link.textContent.length) decoratedElem.setAttribute('aria-label', link.textContent);\n\n    return decoratedElem;\n  };\n\n  decorateAside = async () => {\n    this.elements.aside = '';\n    const promoPath = getMetadata('gnav-promo-source');\n    const fedsPromoWrapper = document.querySelector('.feds-promo-aside-wrapper');\n\n    if (!promoPath) {\n      fedsPromoWrapper?.remove();\n      this.block.classList.remove('has-promo');\n      return this.elements.aside;\n    }\n\n    const { default: decorate } = await import('./features/aside/aside.js');\n    if (!decorate) return this.elements.aside;\n    this.elements.aside = await decorate({ headerElem: this.block, fedsPromoWrapper, promoPath });\n    fedsPromoWrapper.append(this.elements.aside);\n    return this.elements.aside;\n  };\n\n  decorateBrand = () => this.decorateGenericLogo({\n    selector: '.gnav-brand',\n    classPrefix: 'feds-brand',\n    analyticsValue: 'Brand',\n  });\n\n  decorateLogo = () => this.decorateGenericLogo({\n    selector: '.adobe-logo',\n    classPrefix: 'feds-logo',\n    includeLabel: false,\n    analyticsValue: 'Logo',\n  });\n\n  decorateMainNav = async () => {\n    const breadcrumbs = isDesktop.matches ? '' : await this.decorateBreadcrumbs();\n    this.elements.mainNav = toFragment`<div class=\"feds-nav\" role=\"list\"></div>`;\n    this.elements.navWrapper = toFragment`\n      <div class=\"feds-nav-wrapper\" id=\"feds-nav-wrapper\">\n        ${breadcrumbs}\n        ${isDesktop.matches ? '' : this.decorateSearch()}\n        ${this.elements.mainNav}\n        ${isDesktop.matches ? this.decorateSearch() : ''}\n      </div>\n    `;\n\n    // Get all main menu items, but exclude any that are nested inside other features\n    const items = [...this.content.querySelectorAll('h2, p:only-child > strong > a, p:only-child > em > a')]\n      .filter((item) => CONFIG.features.every((feature) => !item.closest(`.${feature}`)));\n\n    // Save number of items to decide whether a hamburger menu is required\n    this.mainNavItemCount = items.length;\n\n    for await (const [index, item] of items.entries()) {\n      await yieldToMain();\n      const mainNavItem = this.decorateMainNavItem(item, index);\n      if (mainNavItem) {\n        this.elements.mainNav.appendChild(mainNavItem);\n      }\n    }\n    if (this.newMobileNav) {\n      await this.decorateLocalNav();\n    }\n    return this.elements.mainNav;\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getMainNavItemType = (item) => {\n    const itemTopParent = item.closest('div');\n    const isLinkGroup = !!item.closest('.link-group');\n    const hasSyncDropdown = itemTopParent instanceof HTMLElement\n      && !isLinkGroup && itemTopParent.childElementCount > 1;\n    if (hasSyncDropdown) return 'syncDropdownTrigger';\n    const hasAsyncDropdown = itemTopParent instanceof HTMLElement\n      && itemTopParent.closest('.large-menu') instanceof HTMLElement;\n    if (hasAsyncDropdown) return 'asyncDropdownTrigger';\n    const isPrimaryCta = item.closest('strong') instanceof HTMLElement;\n    if (isPrimaryCta) return 'primaryCta';\n    const isSecondaryCta = item.closest('em') instanceof HTMLElement;\n    if (isSecondaryCta) return 'secondaryCta';\n    const isText = !(item.querySelector('a') instanceof HTMLElement);\n    if (isText) return 'text';\n    return 'link';\n  };\n\n  // update GNAV popup position based on branch banner\n  updatePopupPosition = (activePopup) => {\n    const popup = activePopup || this.elements.mainNav.querySelector('.feds-navItem--section.feds-dropdown--active .feds-popup');\n    if (!popup) return;\n    const yOffset = window.scrollY || Math.abs(parseInt(document.body.style.top, 10)) || 0;\n    const navOffset = this.block.classList.contains('has-promo')\n      ? 'var(--feds-height-nav) - var(--global-height-navPromo)'\n      : 'var(--feds-height-nav)';\n    popup.removeAttribute('style');\n    popup.style.top = `calc(${yOffset}px - ${navOffset} - 2px)`;\n    const { isPresent, isSticky, height } = getBranchBannerInfo();\n    if (isPresent) {\n      const delta = yOffset - height;\n      if (isSticky) {\n        popup.style.height = `calc(100dvh - ${height}px + 2px)`;\n      } else {\n        popup.style.top = `calc(0px - var(--feds-height-nav) + ${Math.max(delta, 0)}px - 2px)`;\n        popup.style.height = `calc(100dvh + ${Math.min(delta, 0)}px + 2px)`;\n      }\n    }\n  };\n\n  decorateMainNavItem = (item, index) => {\n    const itemType = this.getMainNavItemType(item);\n\n    const itemHasActiveLink = ['syncDropdownTrigger', 'link'].includes(itemType)\n      && getActiveLink(item.closest('div')) instanceof HTMLElement;\n    const activeModifier = itemHasActiveLink ? ` ${selectors.activeNavItem.slice(1)}` : '';\n\n    const makeTabActive = (popup) => {\n      const tabbuttons = popup.querySelectorAll('.global-navigation .tabs button');\n      const tabpanels = popup.querySelectorAll('.global-navigation .tab-content [role=\"tabpanel\"]');\n      closeAllTabs(tabbuttons, tabpanels);\n      const { origin, pathname } = window.location;\n      const url = `${origin}${pathname}`;\n      setTimeout(() => {\n        const activeLink = [\n          ...popup.querySelectorAll('a:not([data-modal-hash])'),\n        ].find((el) => (el.href === url || el.href.startsWith(`${url}?`) || el.href.startsWith(`${url}#`)));\n        const tabIndex = activeLink ? +activeLink.parentNode.id : 0;\n        const selectTab = popup.querySelectorAll('.tab')[tabIndex];\n        const daallTab = selectTab.getAttribute('daa-ll');\n        selectTab.setAttribute('daa-ll', `${daallTab.replace('click', 'open')}`);\n        selectTab?.click();\n        selectTab.setAttribute('daa-ll', `${daallTab.replace('open', 'click')}`);\n        selectTab?.focus();\n      }, 100);\n    };\n\n    function observeDropdown(dropdownTrigger) {\n      const observer = new MutationObserver(() => {\n        const isExpanded = dropdownTrigger.getAttribute('aria-expanded') === 'true';\n        const analyticsValue = `header|${isExpanded ? 'Close' : 'Open'}`;\n        dropdownTrigger.setAttribute('daa-lh', analyticsValue);\n      });\n      observer.observe(dropdownTrigger, { attributeFilter: ['aria-expanded'] });\n    }\n\n    // Copying dropdown contents to localNav items\n    const decorateLocalNavItems = (navItem, template) => {\n      const elements = [...document.querySelectorAll('.feds-localnav .feds-navItem')].find(\n        (el) => {\n          const link = el.querySelector('a, button');\n          return link.dataset.title?.trim() === navItem.textContent;\n        },\n      );\n      if (elements) {\n        const dropdownBtn = elements.querySelector('button');\n        elements.innerHTML = template.innerHTML;\n        // To override the textcontent of button of first item of localnav\n        if (dropdownBtn) {\n          elements.querySelector('button').textContent = dropdownBtn.textContent;\n        }\n        // Reattach click events & mutation observers, as cloned elem don't retain event listeners\n        elements.querySelector('.feds-localnav-items button')?.addEventListener('click', (e) => {\n          trigger({ element: e.currentTarget, event: e, type: 'localNavItem' });\n        });\n\n        const dropdownTrigger = elements.querySelector('.feds-localnav-items button[aria-expanded]');\n        if (dropdownTrigger) observeDropdown(dropdownTrigger);\n\n        elements.querySelectorAll('.feds-menu-headline').forEach((elem) => {\n          // Reattach click event listener to headlines\n          elem?.setAttribute('role', 'button');\n          elem?.setAttribute('tabindex', 0);\n          elem?.removeAttribute('aria-level');\n          elem?.setAttribute('aria-haspopup', true);\n          elem?.setAttribute('aria-expanded', false);\n          elem?.addEventListener('click', (e) => {\n            trigger({ element: e.currentTarget, event: e, type: 'headline' });\n          });\n          elem.textContent = elem.textContent?.trim();\n        });\n      }\n    };\n\n    // All dropdown decoration is delayed\n    const delayDropdownDecoration = ({ template } = {}) => {\n      let decorationTimeout;\n\n      const decorateDropdown = () => logErrorFor(async () => {\n        template.removeEventListener('click', decorateDropdown);\n        clearTimeout(decorationTimeout);\n\n        const menuLogic = await loadDecorateMenu();\n\n        await menuLogic.decorateMenu({\n          item,\n          template,\n          type: itemType,\n        });\n\n        if (this.newMobileNav) {\n          const popup = template.querySelector('.feds-popup');\n          let originalContent = popup.innerHTML;\n\n          if (!isDesktop.matches && popup) {\n            originalContent = await transformTemplateToMobile(popup, item, this.isLocalNav());\n            popup.querySelector('.close-icon')?.addEventListener('click', this.toggleMenuMobile);\n          }\n          isDesktop.addEventListener('change', async () => {\n            enableMobileScroll();\n            if (isDesktop.matches) {\n              popup.innerHTML = originalContent;\n              this.block.classList.remove('new-nav');\n            } else {\n              originalContent = await transformTemplateToMobile(popup, item, this.isLocalNav());\n              popup.querySelector('.close-icon')?.addEventListener('click', this.toggleMenuMobile);\n              this.block.classList.add('new-nav');\n            }\n          });\n          if (this.isLocalNav()) {\n            decorateLocalNavItems(item, template);\n          }\n        }\n      }, 'Decorate dropdown failed', 'gnav', 'info');\n\n      template.addEventListener('click', decorateDropdown);\n      decorationTimeout = setTimeout(decorateDropdown, CONFIG.delays.mainNavDropdowns);\n    };\n\n    // Decorate item based on its type\n    switch (itemType) {\n      case 'syncDropdownTrigger':\n      case 'asyncDropdownTrigger': {\n        const dropdownTrigger = toFragment`<button\n          class=\"feds-navLink feds-navLink--hoverCaret\"\n          aria-expanded=\"false\"\n          aria-haspopup=\"true\"\n          daa-ll=\"${getAnalyticsValue(item.textContent, index + 1)}\"\n          daa-lh=\"header|Open\">\n            ${item.textContent.trim()}\n          </button>`;\n\n        const isSectionMenu = item.closest('.section') instanceof HTMLElement;\n        const tag = isSectionMenu ? 'section' : 'div';\n        const sectionModifier = isSectionMenu ? ' feds-navItem--section' : '';\n        const sectionDaaLh = isSectionMenu ? ` daa-lh='${getAnalyticsValue(item.textContent)}'` : '';\n        const triggerTemplate = toFragment`\n          <${tag} role=\"listitem\" class=\"feds-navItem${sectionModifier}${activeModifier}\" ${sectionDaaLh}>\n            ${dropdownTrigger}\n          </${tag}>`;\n\n        // Toggle trigger's dropdown on click\n        dropdownTrigger.addEventListener('click', (e) => {\n          if (!isDesktop.matches && this.newMobileNav && isSectionMenu) {\n            const popup = dropdownTrigger.nextElementSibling;\n            // document.body.style.top should always be set\n            // at this point by calling disableMobileScroll\n            if (popup && this.isLocalNav()) {\n              this.updatePopupPosition(popup);\n            }\n            makeTabActive(popup);\n          } else if (isDesktop.matches && this.newMobileNav && isSectionMenu) {\n            const popup = dropdownTrigger.nextElementSibling;\n            if (popup) popup.style.removeProperty('top');\n          }\n          trigger({ element: dropdownTrigger, event: e, type: 'dropdown' });\n          setActiveDropdown(dropdownTrigger);\n        });\n\n        // Update analytics value when dropdown is expanded/collapsed\n        observeDropdown(dropdownTrigger);\n\n        delayDropdownDecoration({ template: triggerTemplate });\n        return addMepHighlightAndTargetId(triggerTemplate, item);\n      }\n      case 'primaryCta':\n      case 'secondaryCta':\n        // Remove its 'em' or 'strong' wrapper\n        item.parentElement.replaceWith(item);\n\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\" role=\"listitem\">\n            ${decorateCta({ elem: item, type: itemType, index: index + 1 })}\n          </div>`, item);\n      case 'link': {\n        let customLinkModifier = '';\n        let removeCustomLink = false;\n        const linkElem = item.querySelector('a');\n        const customLinksSection = item.closest('.link-group');\n        linkElem.className = 'feds-navLink';\n        linkElem.setAttribute('daa-ll', getAnalyticsValue(linkElem.textContent, index + 1));\n\n        if (customLinksSection) {\n          const removeLink = () => {\n            const url = new URL(linkElem.href);\n            linkElem.setAttribute('href', `${url.origin}${url.pathname}${url.search}`);\n            if (isActiveLink(linkElem)) {\n              linkElem.removeAttribute('href');\n            }\n            const linkHash = url.hash.slice(2);\n            return !this.customLinks.includes(linkHash);\n          };\n          [...customLinksSection.classList].splice(1).forEach((className) => {\n            customLinkModifier = ` feds-navItem--${className}`;\n          });\n          removeCustomLink = removeLink();\n        } else if (itemHasActiveLink) {\n          linkElem.removeAttribute('href');\n          linkElem.setAttribute('role', 'link');\n          linkElem.setAttribute('aria-disabled', 'true');\n          linkElem.setAttribute('aria-current', 'page');\n          linkElem.setAttribute('tabindex', 0);\n        }\n\n        const linkTemplate = toFragment`\n          <div class=\"feds-navItem${activeModifier}${customLinkModifier}\" role=\"listitem\">\n            ${linkElem}\n          </div>`;\n        return removeCustomLink ? '' : addMepHighlightAndTargetId(linkTemplate, item);\n      }\n      case 'text':\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\">\n            ${item.textContent}\n          </div>`, item);\n      default:\n        /* c8 ignore next 3 */\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\">\n            ${item}\n          </div>`, item);\n    }\n  };\n\n  decorateBreadcrumbs = async () => {\n    if (!this.block.classList.contains('has-breadcrumbs')) return null;\n    if (this.elements.breadcrumbsWrapper) return this.elements.breadcrumbsWrapper;\n    const breadcrumbsElem = this.block.querySelector('.breadcrumbs');\n    // Breadcrumbs are not initially part of the nav, need to decorate the links\n    if (breadcrumbsElem) decorateLinks(breadcrumbsElem);\n    const { default: createBreadcrumbs } = await import('./features/breadcrumbs/breadcrumbs.js');\n    this.elements.breadcrumbsWrapper = await createBreadcrumbs(breadcrumbsElem);\n    return this.elements.breadcrumbsWrapper;\n  };\n\n  searchPresent = () => !!this.content.querySelector('.search');\n\n  decorateSearch = () => {\n    if (!this.searchPresent()) return null;\n\n    this.blocks.search.config.trigger = toFragment`\n      <button class=\"feds-search-trigger\" aria-label=\"Search\" aria-expanded=\"false\" aria-controls=\"feds-search-bar\" daa-ll=\"Search\">\n        ${this.blocks.search.config.icon}\n        <span class=\"feds-search-close\"></span>\n      </button>`;\n\n    this.elements.search = toFragment`\n      <div class=\"feds-search\">\n        ${this.blocks.search.config.trigger}\n      </div>`;\n\n    // Replace the aria-label value once placeholder is fetched\n    replaceKey('search', getFedsPlaceholderConfig()).then((placeholder) => {\n      if (placeholder && placeholder.length) {\n        this.blocks.search.config.trigger.setAttribute('aria-label', placeholder);\n      }\n    });\n\n    this.blocks.search.config.trigger.addEventListener('click', async () => {\n      await this.loadSearch();\n    });\n\n    return this.elements.search;\n  };\n}\n\nexport default async function init(block) {\n  const { mep } = getConfig();\n  const sourceUrl = await getGnavSource();\n  let newMobileNav = new URLSearchParams(window.location.search).get('newNav');\n  newMobileNav = newMobileNav ? newMobileNav !== 'false' : getMetadata('mobile-gnav-v2') !== 'off';\n  const [url, hash = ''] = sourceUrl.split('#');\n  if (hash === '_noActiveItem') {\n    setDisableAEDState();\n  }\n  const content = await fetchAndProcessPlainHtml({ url });\n  if (!content) {\n    const error = new Error('Could not create global navigation. Content not found!');\n    error.tags = 'gnav';\n    error.url = url;\n    error.errorType = 'error';\n    lanaLog({ message: error.message, ...error });\n    throw error;\n  }\n  setAsyncDropdownCount(content.querySelectorAll('.large-menu').length);\n  const gnav = new Gnav({\n    content,\n    block,\n    newMobileNav,\n  });\n  if (newMobileNav && !isDesktop.matches) block.classList.add('new-nav');\n  await gnav.init();\n  if (gnav.isLocalNav()) block.classList.add('local-nav');\n  block.setAttribute('daa-im', 'true');\n  const mepMartech = mep?.martech || '';\n  block.setAttribute('daa-lh', `gnav|${getExperienceName()}${mepMartech}`);\n  if (isDarkMode()) block.classList.add('feds--dark');\n  block.classList.add('ready');\n  return gnav;\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","GeoMap","ar","be_en","be_fr","be_nl","br","ca","ch_de","ch_fr","ch_it","cl","co","la","mx","pe","africa","dk","de","ee","eg_ar","eg_en","es","fr","gr_el","gr_en","ie","il_he","it","lv","lt","lu_de","lu_en","lu_fr","my_en","my_ms","hu","mt","mena_en","mena_ar","nl","no","pl","pt","ro","si","sk","fi","se","tr","uk","at","cz","bg","ru","ua","au","in_en","in_hi","id_en","id_id","nz","sa_ar","sa_en","sg","cn","tw","hk_zh","jp","kr","za","ng","cr","ec","pr","gt","cis_en","cis_ru","sea","th_en","th_th","getMiloLocaleSettings","locale","_localePrefix$replace","_GeoMap$geo","geo","prefix","replace","country","language","split","toUpperCase","toLowerCase","concat","flatMap","item","SIGNIN_CONTEXT","_getConfig","getConfig","signInContext","keyboardNav","CONFIG","icons","isDarkMode","darkIcons","delays","mainNavDropdowns","loadDelayed","features","universalNav","components","profile","name","attributes","isSignUpRequired","messageEventListener","getMessageEventListener","_getConfig$unav","configListener","unav","event","_window$adobeProfile","payload","executeDefaultAction","detail","subType","window","adobeProfile","getUserProfile","then","data","setUserProfile","catch","Promise","resolve","location","reload","componentLoaderConfig","config","enableLocalSection","enableProfileSwitcher","miniAppContext","logger","trace","debug","info","warn","lanaLog","message","tags","errorType","error","_getConfig$unav2","complexConfig","_getConfig$unav3","callbacks","onSignIn","_window$adobeIMS","adobeIMS","signIn","onSignUp","_window$adobeIMS2","appswitcher","notifications","notificationsConfig","applicationContext","appID","_getConfig$unav4","uncAppId","_getConfig$unav5","uncConfig","help","children","unavHelpChildren","type","getHelpChildren","jarvis","appid","_getConfig$jarvis","id","_getConfig$jarvis2","cart","osMap","Mac","Win","Linux","CrOS","Android","iPad","iPhone","LANGMAP","cs","da","en","et","ja","ko","nb","sl","sv","zh","_window$adobeIMS3","options","arguments","length","undefined","getBrandImage","image","brandImageOnly","brand","company","imgText","textContent","source","alt","trim","img","toFragment","_templateObject5","_taggedTemplateLiteral","getUniversalNavLocale","includes","lang","reverse","customLang","keys","find","key","Gnav","_getConfig3","_this","content","block","newMobileNav","firstElem","_firstElem$textConten","this","originalTitle","_getMetadata","_this$universalNavCom","meta","getMetadata","universalNavComponents","map","option","filter","component","useUniversalNav","blocks","_templateObject6","addEventListener","isToggleExpanded","toggleMenuMobile","logErrorFor","async","branchBannerLoadCheck","updatePopupPosition","elements","curtain","_templateObject7","tasks","decorateAside","decorateMainNav","decorateTopNav","decorateTopnavWrapper","loadBaseStyles","ims","addChangeEventListeners","fetchKeyboardNav","default","KeyboardNavigation","newMobileWithLnav","setupKeyboardNav","isLocalNav","setTimeout","task","yieldToMain","document","closeOnClickOutside","navWrapper","classList","contains","isDesktop","matches","openElemSelector","selectors","globalNav","localNav","querySelectorAll","openItem","parentElement","target","closeAllDropdowns","_window$adobeIMS4","initialized","imsReady","loadIms","button","querySelector","cta","decorateCta","elem","getMainNavItemType","closest","add","_getMetadata2","mobileToggle","decorateToggle","topnav","_templateObject8","decorateBrand","decorateProductEntryCTA","searchEnabled","_templateObject9","selfIntegrateUnav","_templateObject10","rawElem","decoratedElem","decorateLogo","_localNavItems$","_localNavItems$2","removeLocalNav","_document$querySelect","remove","localNavItems","title","navTitle","getOriginalTitle","_templateObject11","after","setAttribute","append","_templateObject12","_templateObject13","_templateObject14","_templateObject15","itemWrapper","titleLabel","replaceKey","getFedsPlaceholderConfig","forEach","idx","clonedItem","cloneNode","link","dataset","innerText","appendChild","toggle","isActive","trigger","element","currentTarget","isAtTop","getBoundingClientRect","top","_this$elements$localN","breadcrumbs","decorateBreadcrumbs","topnavWrapper","_templateObject16","mainNav","HTMLElement","search","breadcrumbsWrapper","before","prepend","toggleContraction","_this$elements$topnav","isOverflowing","isTangentToViewport","scrollWidth","body","clientWidth","overflowingTopNav","slice","dispatchEvent","CustomEvent","ready","removeEventListener","searchPresent","Search","all","loadStyles","rootPath","ProfileDropdown","isSignedInUser","decorateUniversalNav","decorateProfile","_ref","dropdownElem","signInLabel","signInElem","_templateObject2","code","dropdownSignInAnchor","dropdownSignInButton","_templateObject3","replaceWith","preventDefault","_templateObject","decorateSignIn","accessToken","getAccessToken","env","headers","Headers","Authorization","token","profileData","fetch","adobeIO","status","statusText","url","sections","user","avatar","json","decorationTimeout","buttonElem","_ref2","label","profileAvatar","replaceKeyArray","_templateObject4","decorateProfileTrigger","decorateDropdown","clearTimeout","dropdownInstance","openOnInit","Event","environment","visitorGuid","alloy","_data$identity","identity","ECID","experienceName","getExperienceName","getDevice","agent","navigator","userAgent","os","osName","entries","unavVersion","URLSearchParams","get","loadScript","getChildren","_this$universalNavCom2","push","onAnalyticsEvent","_data$workflow","_window$_satellite","subtype","workflow","interaction","getInteraction","contentName","str","s","charAt","join","_satellite","track","xdm","web","webInteraction","getConfiguration","_getMiloLocaleSetting","_window$adobeid","_getConfig2","countryCode","imsClientId","adobeid","client_id","theme","analyticsContext","consumer","version","platform","device","os_version","visitor_guid","isSectionDividerRequired","showSectionDivider","showTrayExperience","universalNavConfig","UniversalNav","decorateAppPrompt","getAnchorState","_window$UniversalNav$","_window$UniversalNav","getComponent","_getMetadata3","_getMetadata4","_getMetadata5","_window$adobeIMS5","state","entName","promptPath","hasMobileUA","test","base","webappPrompt","parent","_this$blocks","instanceAlreadyExists","instance","searchNotInContent","_this$elements$mobile","getAttribute","_this$elements$navWra","_this$elements$navWra2","_this$elements$navWra3","isExpanded","animateInSequence","hasMegaMenu","disableMobileScroll","section","queueMicrotask","click","enableMobileScroll","setCurtainState","mainNavItemCount","_templateObject17","setHamburgerPadding","style","removeProperty","offset","Math","ceil","bottom","setProperty","onToggleClick","_this$blocks2","clearSearchForm","loadSearch","onDeviceChange","_this$blocks3","selector","classPrefix","includeLabel","analyticsValue","rawBlock","imgRegex","blockLinks","blockLink","href","isBrandImage","renderImage","renderLabel","brandImageClass","imageEl","_templateObject18","getImageEl","allSvgImgs","images","svgImg","labelEl","_templateObject19","_templateObject20","aside","promoPath","fedsPromoWrapper","decorate","headerElem","decorateGenericLogo","_templateObject21","_templateObject22","decorateSearch","items","every","feature","index","mainNavItem","decorateMainNavItem","decorateLocalNav","itemTopParent","isLinkGroup","childElementCount","activePopup","popup","yOffset","scrollY","abs","parseInt","navOffset","removeAttribute","isPresent","isSticky","height","getBranchBannerInfo","delta","max","min","itemType","itemHasActiveLink","getActiveLink","activeModifier","activeNavItem","observeDropdown","dropdownTrigger","MutationObserver","observe","attributeFilter","delayDropdownDecoration","template","menuLogic","loadDecorateMenu","decorateMenu","originalContent","innerHTML","_popup$querySelector","transformTemplateToMobile","_popup$querySelector2","decorateLocalNavItems","navItem","el","_link$dataset$title","_elements$querySelect","dropdownBtn","_elem$textContent","_templateObject23","getAnalyticsValue","isSectionMenu","tag","sectionModifier","sectionDaaLh","triggerTemplate","_templateObject24","nextElementSibling","tabbuttons","tabpanels","closeAllTabs","origin","pathname","activeLink","startsWith","tabIndex","parentNode","selectTab","daallTab","focus","makeTabActive","setActiveDropdown","addMepHighlightAndTargetId","_templateObject25","customLinkModifier","removeCustomLink","linkElem","customLinksSection","className","removeLink","URL","isActiveLink","linkHash","hash","customLinks","splice","linkTemplate","_templateObject26","_templateObject27","_templateObject28","breadcrumbsElem","decorateLinks","createBreadcrumbs","_templateObject29","icon","_templateObject30","placeholder","_templateObject31","wrapper","setupUniversalNav","init","mep","sourceUrl","getGnavSource","setDisableAEDState","fetchAndProcessPlainHtml","Error","setAsyncDropdownCount","gnav","mepMartech","martech"],"sourceRoot":""}