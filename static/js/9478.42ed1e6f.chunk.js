"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[9478],{9478:(e,t,n)=>{n.r(t),n.d(t,{initJarvisChat:()=>w,openChat:()=>l});n(6850);var a,o,i,r=!1,d=e=>({chatConversationId:e["event.context_guid"],chatConversationSessionId:e["event.session_guid"],chatWorkflow:e["event.workflow"],chatCategory:e["event.category"],chatSubcategory:e["event.subcategory"],chatType:e["event.type"],chatSubtype:e["event.subtype"],chatUserguid:e["event.user_guid"],chatLanguage:e["event.language"],chatPagename:e["event.pagename"],chatVisitorguid:e["event.visitor_guid"],chatUrl:e["event.url"],chatOrgguid:e["event.org_guid"],chatReferrer:e["event.referrer"],chatClientId:e["source.client_id"],chatSourceName:e["source.name"],chatPlatform:e["source.platform"],chatContentName:e["content.name"],chatEnv:e["env.com.name"]}),c=e=>{var t,n;(e=>{var t,n;const a={variationId:e["exp.variation_id"],actionBlockId:e["exp.action_block_id"],campaignId:e["exp.campaign_id"],containerId:e["exp.container_id"],controlGroupId:e["exp.control_group_id"],treatmentId:e["exp.treatment_id"],surfaceId:e["exp.surface_id"]};if(Object.keys(a).forEach((e=>{a[e]||delete a[e]})),!Object.keys(a).length)return;(e=>{var t;let n=!1;if(!e)return n;const a=null===(t=window.digitalData.sophiaResponse)||void 0===t?void 0:t.fromPage;return n=Array.isArray(a)?a.some((t=>(null===t||void 0===t?void 0:t.campaignId)===e)):(null===a||void 0===a?void 0:a.campaignId)===e,n})(a.campaignId)||((t=window.digitalData).sophiaResponse||(t.sophiaResponse={}),(n=window.digitalData.sophiaResponse).fromPage||(n.fromPage=[]),Array.isArray(window.digitalData.sophiaResponse.fromPage)?window.digitalData.sophiaResponse.fromPage.push(a):window.digitalData.sophiaResponse.fromPage=a)})(e),null===(t=window._satellite)||void 0===t||t.track("event",{xdm:{},data:{web:{webInteraction:{name:null===(n=window.digitalData.primaryEvent)||void 0===n||null===(n=n.eventInfo)||void 0===n?void 0:n.eventName}},_adobe_corpnew:{digitalData:{primaryEvent:window.digitalData.primaryEvent,chat:window.digitalData.chat,sophiaResponse:window.digitalData.sophiaResponse}}}})},v=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((t,n)=>{let a=t;return a+="".concat(a&&":").concat(e[n]||""),a}),"")},l=e=>{var t;r||window.location.assign("https://helpx.adobe.com");const n=null===(t=window.AdobeMessagingExperienceClient)||void 0===t?void 0:t.openMessagingWindow;if("function"===typeof n&&!(()=>{var e;const t=window.AdobeMessagingExperienceClient;return(null===t||void 0===t?void 0:t.isAdobeMessagingClientInitialized())&&"hidden"!==(null===t||void 0===t||null===(e=t.getMessagingExperienceState())||void 0===e?void 0:e.windowState)})())if(e){var a,o,i;const t=null===(a=e.target.tagName)||void 0===a?void 0:a.toLowerCase();n({sourceType:t,sourceText:"img"===t?null===(o=e.target.alt)||void 0===o?void 0:o.trim():null===(i=e.target.innerText)||void 0===i?void 0:i.trim()})}else n({})},s=async(e,t,n)=>{var s,w,u,g;const p="https://".concat("prod"!==e.env.name?"stage-":"","client.messaging.adobe.com/latest/AdobeMessagingClient");let h,y;await Promise.all([o("".concat(p,".css")),a("".concat(p,".js"))]),e.locale.ietf.includes("-")?[h,y]=e.locale.ietf.split("-"):([y,h]=e.locale.prefix.replace("/","").split("_"),"africa"===y&&(y="ZA")),window.AdobeMessagingExperienceClient.initialize({appid:i("jarvis-surface-id")||e.jarvis.id,appver:i("jarvis-surface-version")||e.jarvis.version,env:"prod"!==e.env.name?"stage":"prod",clientId:null===(s=window.adobeid)||void 0===s?void 0:s.client_id,accessToken:null!==(w=window.adobeIMS)&&void 0!==w&&w.isSignedInUser()?"Bearer ".concat(null===(u=window.adobeIMS.getAccessToken())||void 0===u?void 0:u.token):void 0,lazyLoad:!0,loadedVia:"milo",language:h||"en",region:y,cookiesEnabled:(null===(g=window.adobePrivacy)||void 0===g||null===(g=g.activeCookieGroups())||void 0===g?void 0:g.length)>1,cookies:{mcid:window.alloy?await window.alloy("getIdentity").then((e=>{var t;return null===e||void 0===e||null===(t=e.identity)||void 0===t?void 0:t.ECID})).catch((()=>{})):void 0},callbacks:{initCallback:e=>{var t;r=!(null===e||void 0===e||null===(t=e.releaseControl)||void 0===t||!t.showAdobeMessaging)},onReadyCallback:()=>{n&&l(t)},initErrorCallback:()=>{},chatStateCallback:()=>{},getContextCallback:()=>{},signInProvider:()=>{var t;return null===(t=window.adobeIMS)||void 0===t?void 0:t.signIn(e.signInContext)},analyticsCallback:e=>{var t,n,a,o,i;if(!window.alloy_all||!window.digitalData)return;const r=null===e||void 0===e||null===(t=e.events)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(r&&!(e=>"init"===e["event.workflow"]&&"request"===e["event.type"]||"Chat"===e["event.workflow"]&&"load"===e["event.type"]&&"window"===e["event.subtype"])(r)){if("launch"===(null===(n=r["event.subcategory"])||void 0===n?void 0:n.toLowerCase())&&"init"===(null===(a=r["event.workflow"])||void 0===a?void 0:a.toLowerCase())){var l,s;if("render"===(null===(l=r["event.type"])||void 0===l?void 0:l.toLowerCase()))return void(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","event.subcategory","event.subtype","content.name","event.type"])),eventAction:v(e,["event.subcategory","content.name","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=d(e),window.digitalData.chat.chatInfo.chatConversationUnread=e["content.name"],c(e)})(r);if("click"===(null===(s=r["event.type"])||void 0===s?void 0:s.toLowerCase()))return void(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","event.subcategory","event.subtype","content.name","event.type"])),eventAction:v(e,["event.subcategory","event.subtype","content.name","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=d(e),window.digitalData.chat.chatInfo.chatConversationUnread=e["content.name"],c(e)})(r)}"auth-subproduct"!==(null===(o=r["content.name"])||void 0===o?void 0:o.toLowerCase())?"5-star-survey"!==(null===(i=r["content.name"])||void 0===i?void 0:i.toLowerCase())?r["event.error_code"]&&r["event.error_type"]?(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","event.subtype","event.type"]),":error"),eventAction:"".concat(v(e,["event.subcategory","event.subtype","event.type"]),":error")}},window.digitalData.chat={},window.digitalData.chat.chatInfo=d(e),window.digitalData.chat.chatInfo.chatErrorCode=e["event.error_code"],window.digitalData.chat.chatInfo.chatErrorType=e["event.error_type"],window.digitalData.chat.chatInfo.chatErrorDescription=e["event.error_desc"],c(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","content.name","event.subtype","event.type"])),eventAction:v(e,["event.subcategory","content.name","event.subtype","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=d(e),c(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","content.name","event.subtype","event.type","content.id"])),eventAction:v(e,["event.subcategory","content.name","event.subtype","event.type"])}},c(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(v(e,["event.workflow","content.name","event.subtype","event.type"])),eventAction:v(e,["event.subcategory","content.name","event.subtype","event.type"])}},window.digitalData.chat={chatInfo:{primaryProduct:{productName:e["event.subtype"]}}},c(e)})(r)}}}})},w=async(e,t,n,d)=>{var c;if(null===e||void 0===e||!e.jarvis)return;a=t,o=n;const v=null===(c=(i=d)("jarvis-on-demand"))||void 0===c?void 0:c.toLowerCase(),w=v?"on"===v:e.jarvis.onDemand;document.addEventListener("click",(async t=>{t.target.closest('[href*="#open-jarvis-chat"]')&&(t.preventDefault(),w&&!r?await s(e,t,w):l(t))})),w||await s(e)}}}]);
//# sourceMappingURL=9478.42ed1e6f.chunk.js.map