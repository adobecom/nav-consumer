{"version":3,"file":"static/js/4180.74a086e5.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/blocks/global-navigation/utilities/menu/menu.js"],"sourcesContent":["import {\n  decorateCta,\n  fetchAndProcessPlainHtml,\n  getActiveLink,\n  getAnalyticsValue,\n  icons,\n  isDesktop,\n  logErrorFor,\n  selectors,\n  setActiveDropdown,\n  toFragment,\n  trigger,\n  yieldToMain,\n  addMepHighlightAndTargetId,\n} from '../utilities.js';\n\nconst decorateHeadline = (elem, index) => {\n  if (!(elem instanceof HTMLElement)) return null;\n\n  const headline = toFragment`<div class=\"feds-menu-headline\">\n      ${elem.textContent.trim()}\n    </div>`;\n\n  const setHeadlineAttributes = () => {\n    if (isDesktop.matches) {\n      headline.setAttribute('role', 'heading');\n      headline.removeAttribute('tabindex');\n      headline.setAttribute('aria-level', 2);\n      headline.removeAttribute('aria-haspopup', true);\n      headline.removeAttribute('aria-expanded', false);\n      headline.removeAttribute('daa-ll');\n    } else {\n      headline.setAttribute('role', 'button');\n      headline.setAttribute('tabindex', 0);\n      headline.removeAttribute('aria-level');\n      headline.setAttribute('aria-haspopup', true);\n      headline.setAttribute('aria-expanded', false);\n      headline.setAttribute('daa-ll', getAnalyticsValue(headline.textContent, index));\n    }\n  };\n\n  setHeadlineAttributes();\n  isDesktop.addEventListener('change', setHeadlineAttributes);\n\n  headline.addEventListener('click', (e) => {\n    if (isDesktop.matches) return;\n\n    trigger({ element: headline, event: e, type: 'headline' });\n    setActiveDropdown(headline);\n  });\n\n  // Since heading is turned into a div, it can be safely removed\n  elem.remove();\n\n  return headline;\n};\n\nconst decorateLinkGroup = (elem, index) => {\n  if (!(elem instanceof HTMLElement) || !elem.querySelector('a')) return '';\n\n  // TODO: allow links with image and no label\n  const image = elem.querySelector('picture');\n  const link = elem.querySelector('a');\n  const description = elem.querySelector('p:nth-child(2)');\n  const modifierClasses = [...elem.classList]\n    .filter((className) => className !== 'link-group')\n    .map((className) => `feds-navLink--${className}`);\n  const imageElem = image ? toFragment`<div class=\"feds-navLink-image\">${image}</div>` : '';\n  const descriptionElem = description ? toFragment`<div class=\"feds-navLink-description\">${description.textContent}</div>` : '';\n  const contentElem = link ? toFragment`<div class=\"feds-navLink-content\">\n      <div class=\"feds-navLink-title\">${link.textContent}</div>\n      ${descriptionElem}\n    </div>` : '';\n  const linkGroup = toFragment`<a\n    href=\"${link.href}\"\n    class=\"feds-navLink${modifierClasses.length ? ` ${modifierClasses.join(' ')}` : ''}\"\n    daa-ll=\"${getAnalyticsValue(link.textContent, index)}\">\n      ${imageElem}\n      ${contentElem}\n    </a>`;\n  if (link?.target) linkGroup.target = link.target;\n\n  return linkGroup;\n};\n\nconst decorateElements = ({ elem, className = 'feds-navLink', itemIndex = { position: 0 } } = {}) => {\n  const decorateLink = (link) => {\n    // Increase analytics index every time a link is decorated\n    itemIndex.position += 1;\n\n    // Decorate link group\n    if (link.matches('.link-group')) {\n      return decorateLinkGroup(link, itemIndex.position);\n    }\n\n    // If the link is wrapped in a 'strong' or 'em' tag, make it a CTA\n    if (link.parentElement.tagName === 'STRONG' || link.parentElement.tagName === 'EM') {\n      const type = link.parentElement.tagName === 'EM' ? 'secondaryCta' : 'primaryCta';\n      // Remove its 'em' or 'strong' wrapper\n      link.parentElement.replaceWith(link);\n\n      return decorateCta({ elem: link, type, index: itemIndex.position });\n    }\n\n    // Simple links get analytics attributes and appropriate class name\n    link.setAttribute('daa-ll', getAnalyticsValue(link.textContent, itemIndex.position));\n    link.classList.add(className);\n\n    return link;\n  };\n\n  const linkSelector = 'a, .link-group';\n\n  // If the element is a link, decorate it and return it directly\n  if (elem.matches(linkSelector)) {\n    return decorateLink(elem);\n  }\n\n  // Otherwise, this might be a collection of elements;\n  // decorate all links in the collection and return it\n  elem.querySelectorAll(linkSelector).forEach((link) => {\n    link.replaceWith(decorateLink(link));\n  });\n\n  return elem;\n};\n\n// Current limitation: we can only add one link\nconst decoratePromo = (elem, index) => {\n  const isDarkTheme = elem.matches('.dark');\n  const isImageOnly = elem.matches('.image-only');\n  const imageElem = elem.querySelector('picture');\n\n  if (!isImageOnly) {\n    const content = [...elem.querySelectorAll(':scope > div')]\n      .find((section) => !(section.querySelector('picture') instanceof HTMLElement));\n    content?.classList.add('feds-promo-content');\n  }\n\n  decorateElements({ elem, className: 'feds-promo-link', index });\n\n  const decorateImage = () => {\n    const linkElem = elem.querySelector('a');\n    const imageWrapper = imageElem.closest(`${selectors.gnavPromo} > div`);\n    let promoImageElem;\n\n    if (linkElem instanceof HTMLElement) {\n      promoImageElem = toFragment`<a class=\"feds-promo-image\" href=\"${linkElem.href}\">\n          ${imageElem}\n        </a>`;\n    } else {\n      // TODO: is there really any use-case where a promo doesn't have a link?\n      promoImageElem = toFragment`<div class=\"feds-promo-image\">\n          ${imageElem}\n        </div>`;\n    }\n\n    // If the promo is set to 'image-only',\n    // replace the whole promo content with the decorated image\n    if (isImageOnly) {\n      elem.replaceChildren(promoImageElem);\n    } else {\n    // Otherwise, just replace the image container with the decorated image\n      imageWrapper?.replaceWith(promoImageElem);\n    }\n  };\n\n  // Wrap the image in an anchor tag\n  if (imageElem instanceof HTMLElement) {\n    decorateImage();\n  }\n\n  elem.classList = 'feds-promo';\n\n  if (isDarkTheme) {\n    elem.classList.add('feds-promo--dark');\n  }\n\n  return toFragment`<div class=\"feds-promo-wrapper\">\n      ${elem}\n    </div>`;\n};\n\nconst decorateColumns = async ({ content, separatorTagName = 'H5' } = {}) => {\n  const hasMultipleColumns = content.children.length > 1;\n  // Headline index is defined in the context of a whole menu\n  let headlineIndex = 0;\n\n  // The resulting template structure should follow these rules:\n  // * a menu can have multiple columns;\n  // * a column can have multiple sections;\n  // * a section can have a headline and a collection of item(s)\n  for await (const column of [...content.children]) {\n    await yieldToMain();\n    const wrapperClass = hasMultipleColumns ? 'feds-menu-column' : 'feds-menu-content';\n    const itemDestinationClass = hasMultipleColumns ? 'feds-menu-section' : 'feds-menu-column';\n    const wrapper = toFragment`<div class=\"${wrapperClass}\"></div>`;\n    let itemDestination = toFragment`<div class=\"${itemDestinationClass}\"></div>`;\n    let menuItems;\n    // Item index is defined in the context of a particular column\n    const itemIndex = { position: 0 };\n\n    const resetDestination = () => {\n      // First, if the previous destination has children,\n      // append it to the wrapper\n      if (itemDestination.childElementCount) {\n        wrapper.append(itemDestination);\n      }\n\n      // Create a new destination\n      itemDestination = toFragment`<div class=\"${itemDestinationClass}\"></div>`;\n    };\n\n    while (column.children.length) {\n      await yieldToMain();\n      const columnElem = column.firstElementChild;\n\n      if (columnElem.matches(selectors.columnBreak)) {\n        resetDestination();\n        columnElem.remove();\n      } else if (columnElem.tagName === separatorTagName) {\n        headlineIndex += 1;\n        // When encountering a separator (h5 for header, h2 for footer),\n        // add the previous section to the column\n        resetDestination();\n        // If the separator splits content into columns, reset the analytics index\n        if (!hasMultipleColumns) itemIndex.position = 0;\n\n        // Analysts requested no headings in the dropdowns,\n        // turning it into a simple div\n        const sectionHeadline = decorateHeadline(columnElem, headlineIndex);\n        menuItems = toFragment`<div class=\"feds-menu-items\" daa-lh=\"${getAnalyticsValue(sectionHeadline.textContent.trim())}\"></div>`;\n\n        itemDestination.append(sectionHeadline, menuItems);\n\n        if (column.querySelector(selectors.columnBreak)) {\n          wrapper.classList.add(`${wrapperClass}--group`);\n          if (column.querySelectorAll(selectors.columnBreak).length > 1) wrapper.classList.add(`${wrapperClass}--wide`);\n\n          const wideColumn = document.createElement('div');\n          wideColumn.append(...column.childNodes);\n          menuItems.append(wideColumn);\n          await decorateColumns({ content: menuItems });\n        }\n      } else if (columnElem.matches(selectors.gnavPromo)) {\n        // When encountering a promo, add the previous section to the column\n        resetDestination();\n        // Since the promo is alone on a column, reset the analytics index\n        itemIndex.position = 0;\n\n        const promoElem = decoratePromo(columnElem, itemIndex);\n\n        itemDestination.append(promoElem);\n      } else {\n        const decoratedElem = decorateElements({ elem: columnElem, itemIndex });\n        columnElem.remove();\n\n        // If an items template has been previously created,\n        // add the current element to it;\n        // otherwise append the element to the section\n        const elemDestination = menuItems || itemDestination;\n        elemDestination.append(decoratedElem);\n      }\n    }\n\n    // Append the last column section to the column\n    wrapper.append(itemDestination);\n    // Replace column with parsed template\n    column.replaceWith(wrapper);\n  }\n};\n\nconst decorateCrossCloudMenu = (content) => {\n  const crossCloudMenuEl = content.querySelector('.cross-cloud-menu');\n  if (!crossCloudMenuEl) return;\n\n  decorateElements({ elem: crossCloudMenuEl });\n  crossCloudMenuEl.className = 'feds-crossCloudMenu-wrapper';\n  crossCloudMenuEl.querySelector('div').className = 'feds-crossCloudMenu';\n  crossCloudMenuEl.querySelectorAll('ul li').forEach((el, index) => {\n    if (index === 0) el.querySelector('a')?.prepend(toFragment`${icons.home}`);\n    el.className = 'feds-crossCloudMenu-item';\n  });\n\n  content.append(crossCloudMenuEl);\n};\n\n// Current limitation: after an h5 (or h2 in the case of the footer)\n// is found in a menu column, no new sections can be created without a heading\nconst decorateMenu = (config) => logErrorFor(async () => {\n  let menuTemplate;\n  if (config.type === 'syncDropdownTrigger') {\n    const itemTopParent = config.item.closest('div');\n    // The initial heading is already part of the item template,\n    // it can be safely removed\n    const initialHeadingElem = itemTopParent.querySelector('h2');\n    itemTopParent.removeChild(initialHeadingElem);\n\n    menuTemplate = toFragment`<div class=\"feds-popup\">\n        ${itemTopParent}\n      </div>`;\n\n    await decorateColumns({ content: menuTemplate });\n  }\n\n  if (config.type === 'asyncDropdownTrigger') {\n    const pathElement = config.item.querySelector('a');\n    if (!(pathElement instanceof HTMLElement)) return;\n\n    const content = await fetchAndProcessPlainHtml({ url: pathElement.href });\n\n    if (!content) return;\n\n    const menuContent = toFragment`<div class=\"feds-menu-content\">${content.innerHTML}</div>`;\n    menuTemplate = toFragment`<div class=\"feds-popup\">\n        <div class=\"feds-menu-container\">\n          ${menuContent}\n        </div>\n      </div>`;\n    addMepHighlightAndTargetId(menuTemplate, content);\n\n    decorateCrossCloudMenu(menuTemplate);\n\n    await decorateColumns({ content: menuContent });\n\n    if (getActiveLink(menuTemplate) instanceof HTMLElement) {\n      // Special handling on desktop, as content is loaded async;\n      // bolding the item text would normally push the content\n      // to the right, potentially causing CLS\n      const resetActiveState = () => {\n        config.template.style.width = '';\n        config.template.classList.remove(selectors.deferredActiveNavItem.slice(1));\n      };\n\n      if (isDesktop.matches) {\n        config.template.style.width = `${config.template.offsetWidth}px`;\n        config.template.classList.add(selectors.deferredActiveNavItem.slice(1));\n        isDesktop.addEventListener('change', resetActiveState, { once: true });\n        window.addEventListener('feds:navOverflow', resetActiveState, { once: true });\n      }\n\n      config.template.classList.add(selectors.activeNavItem.slice(1));\n    }\n\n    config.template.classList.add('feds-navItem--megaMenu');\n  }\n\n  if (config.type === 'footerMenu') {\n    await decorateColumns({ content: config.item, separatorTagName: 'H2' });\n  }\n\n  config.template?.append(menuTemplate);\n}, 'Decorate menu failed', 'errorType=info,module=gnav-menu');\n\nexport default { decorateMenu, decorateLinkGroup };\n"],"names":["decorateHeadline","elem","index","HTMLElement","headline","toFragment","_templateObject","_taggedTemplateLiteral","textContent","trim","setHeadlineAttributes","isDesktop","matches","setAttribute","removeAttribute","getAnalyticsValue","addEventListener","e","trigger","element","event","type","setActiveDropdown","remove","decorateLinkGroup","querySelector","image","link","description","modifierClasses","classList","filter","className","map","concat","imageElem","_templateObject2","descriptionElem","_templateObject3","contentElem","_templateObject4","linkGroup","_templateObject5","href","length","join","target","decorateElements","itemIndex","position","arguments","undefined","decorateLink","parentElement","tagName","replaceWith","decorateCta","add","linkSelector","querySelectorAll","forEach","decoratePromo","isDarkTheme","isImageOnly","content","find","section","decorateImage","linkElem","imageWrapper","closest","selectors","gnavPromo","promoImageElem","_templateObject6","_templateObject7","replaceChildren","_templateObject8","decorateColumns","async","separatorTagName","hasMultipleColumns","children","headlineIndex","column","yieldToMain","wrapperClass","itemDestinationClass","wrapper","_templateObject9","menuItems","itemDestination","_templateObject10","resetDestination","childElementCount","append","_templateObject11","columnElem","firstElementChild","columnBreak","sectionHeadline","_templateObject12","wideColumn","document","createElement","childNodes","promoElem","decoratedElem","menu_default","decorateMenu","config","logErrorFor","_config$template","menuTemplate","itemTopParent","item","initialHeadingElem","removeChild","_templateObject14","pathElement","fetchAndProcessPlainHtml","url","menuContent","_templateObject15","innerHTML","_templateObject16","addMepHighlightAndTargetId","crossCloudMenuEl","el","_el$querySelector","prepend","_templateObject13","icons","home","decorateCrossCloudMenu","getActiveLink","resetActiveState","template","style","width","deferredActiveNavItem","slice","offsetWidth","once","window","activeNavItem"],"sourceRoot":""}