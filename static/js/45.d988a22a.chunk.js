"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[45],{45:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var a=l(4705),o=l(13),r=l(585),s=(l(5853),l(5771),l(6715),l(1608),l(3658),e=>[...e.querySelectorAll("a[href],button:not([disabled])")]),n=e=>[...e.querySelectorAll("a, button, .feds-menu-headline")].filter((e=>{const t=e.closest(".feds-menu-items"),l=null===t||void 0===t?void 0:t.previousElementSibling;return!t||"true"===(null===l||void 0===l?void 0:l.getAttribute("aria-expanded"))}));function i(){let{triggerEl:e,e:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:l,curr:a}=function(){var e;const t=[...document.querySelectorAll(o.selectors.localNavItems)],l=document.querySelector(o.selectors.expandedPopupTrigger),a=null===(e=document.activeElement.closest(o.selectors.localNavItem))||void 0===e?void 0:e.querySelector(o.selectors.localNavItems),r=t.indexOf(a);return{items:t,curr:r,prev:(0,o.getPreviousVisibleItemPosition)(r,t),next:(0,o.getNextVisibleItemPosition)(r,t),openTrigger:l}}(),s=e||l[a];if(null!==s&&void 0!==s&&s.hasAttribute("aria-haspopup")&&(t&&t.preventDefault(),"false"===s.getAttribute("aria-expanded"))){const e=s.classList.contains("feds-localnav-title")||s.classList.contains("feds-menu-headline");e&&document.querySelector(o.selectors.localNav).classList.add("feds-localnav--active"),(0,r.trigger)({element:s,type:e?"headline":"localNavItem"})}}function c(e,t){const l=[...document.querySelector(".feds-localnav-items").children].flatMap((e=>{const t=e.querySelector("a, button, .feds-menu-headline");if(!t||!t.matches('[aria-haspopup="true"][aria-expanded="true"]'))return t?[t]:[];const l=e.querySelector(".feds-popup");return l?[t,...e.querySelector(".feds-menu-items")?n(l):s(l)]:[t]})),a=l.indexOf(e),r=e.classList.contains("feds-localnav-title"),c=document.querySelector("".concat(o.selectors.localNav," > button"));if(-1===a&&!r)return;if(r&&1===t&&i({triggerEl:e}),1===t&&e===l.at(-1)||-1===t&&e===l.at(0))return void(null===c||void 0===c||c.focus());var u;if(-1===t&&r)return void(null===(u=l.at(-1))||void 0===u||u.focus());const d=l[(a+t+l.length)%l.length];if(d.focus(),d.matches('[aria-haspopup="true"]')){const e=d.matches('[aria-expanded="false"]');if(i({triggerEl:d}),-1===t&&e){var v;null===(v=(d.parentElement.querySelector(".feds-menu-items")?n(d.parentElement):s(d.parentElement.querySelector(".feds-popup"))).at(-1))||void 0===v||v.focus()}}}var u=class{constructor(){var e,t;(0,a.A)(this,"handleKeyDown",(e=>{const{code:t,target:l}=e,a=l.classList.contains(o.selectors.headline.slice(1));switch(t){case"Space":case"Enter":e.stopPropagation(),e.preventDefault(),a?(0,r.trigger)({element:l,event:e,type:"headline"}):e.target.click();break;case"Escape":var s,n;if(e.preventDefault(),this.localNav.classList.contains(o.selectors.localNavActive.slice(1)))null===(s=this.localNavTrigger)||void 0===s||s.click(),null===(n=this.localNavTrigger)||void 0===n||n.focus();break;case"ArrowDown":case"ArrowUp":e.stopPropagation(),e.preventDefault();c(l,"ArrowDown"===t?1:-1);break}})),(0,a.A)(this,"addEventListeners",(()=>{var e,t;null===(e=this.localNav)||void 0===e||e.addEventListener("keydown",this.handleKeyDown),null===(t=this.exitLink)||void 0===t||t.addEventListener("focus",(e=>{var t;e.preventDefault(),null===(t=this.localNavTrigger)||void 0===t||t.focus()}))})),this.localNav=document.querySelector(o.selectors.localNav),this.localNavTrigger=null===(e=this.localNav)||void 0===e?void 0:e.querySelector(o.selectors.localNavTitle),this.exitLink=null===(t=this.localNav)||void 0===t?void 0:t.querySelector(o.selectors.localNavExit),this.addEventListeners()}}}}]);
//# sourceMappingURL=45.d988a22a.chunk.js.map