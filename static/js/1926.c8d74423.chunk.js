"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[1926,5897],{5897:(e,t,a)=>{a.r(t),a.d(t,{decoratePlaceholderArea:()=>h,replaceKey:()=>s,replaceKeyArray:()=>i,replaceText:()=>u});var n=a(212),o={};window.mph={};var r=async(e,t)=>{try{var a;null===(a=(e.ok?await e.json():{data:[]}).data)||void 0===a||a.forEach((e=>{window.mph[e.key]=e.value,t[e.key]=e.value}))}catch(n){window.lana.log("Error parsing placeholder json: ".concat(n.message),{tags:"placeholders",errorType:"e"})}},l=async e=>{let{config:t,sheet:a,placeholderRequest:l,placeholderPath:c}=e;const s=c||((e,t)=>{const a="".concat(e.locale.contentRoot,"/placeholders.json"),n="default"!==t&&"string"===typeof t&&t.length?"?sheet=".concat(t):"";return"".concat(a).concat(n)})(t,a);return o[s]||(o[s]=((e,t)=>new Promise((async a=>{const o=await t||await(0,n.customFetch)({resource:e,withCacheRules:!0}).catch((()=>({}))),l={};if(Array.isArray(o))for(const e of o)await r(e,l);else await r(o,l);a(l)})))(s,l)),o[s]};async function c(e,t,a){var o,r;let c=!1;const s="en-US",i=(0,n.getMetadata)("disable-geo-placeholders")||"off",u=()=>{const e=t.locale.contentRoot,a=t.locale.prefix;return a.length?e.endsWith(a)?e.replace(a,""):e.replace("".concat(a,"/"),"/"):e},h=async()=>{const e={locale:{ietf:s,contentRoot:u()}},t=await l({config:e,sheet:a}).catch((()=>({})));return c=!0,t};if(null!==(o=t.placeholders)&&void 0!==o&&o[e])return t.placeholders[e];let f;if(f="on"===i?await h():await l({config:t,sheet:a}),"string"===typeof(null===(r=f)||void 0===r?void 0:r[e]))return f[e];if(!c&&t.locale.ietf!==s){const t=await h();if(null!==t&&void 0!==t&&t[e])return t[e]}return function(e){return e.replaceAll("-"," ")}(e)}async function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("string"!==typeof e||!e.length)return"";return await c(e,t,a)}async function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(!Array.isArray(e)||!e.length)return[];const n=[];e.forEach((e=>{n.push(c(e,t,a))}));return await Promise.all(n)}async function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{(.*?)}}|%7B%7B(.*?)%7D%7D/g,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";if("string"!==typeof e||!e.length)return"";const o=[...e.matchAll(new RegExp(a))];if(!o.length)return e;const r=Array.from(o,(e=>e[1]||e[2])),l=await i(r,t,n);let c=0,s=e.replaceAll(a,(()=>l[c++]));return s=s.replace(/&nbsp;/g,"\xa0"),s}async function h(e){let{placeholderPath:t,placeholderRequest:a,nodes:o}=e;if(!o.length)return;const r=(0,n.getConfig)();await l({placeholderPath:t,config:r,placeholderRequest:a});const c=o.map((async e=>{if(e.nodeType===Node.TEXT_NODE)e.nodeValue=await u(e.nodeValue,r);else if(e.nodeType===Node.ELEMENT_NODE){const t=[...e.attributes].map((async e=>{const t=await u(e.value,r);return{name:e.name,value:t}}));(await Promise.all(t)).forEach((t=>{let{name:a,value:n}=t;e.setAttribute(a,n)}))}}));await Promise.all(c)}}}]);
//# sourceMappingURL=1926.c8d74423.chunk.js.map