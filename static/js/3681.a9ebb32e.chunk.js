"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[3681],{3681:(e,o,n)=>{n.r(o),n.d(o,{default:()=>u});var t=n(775),a=(n(6850),"raw"),r={},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";return["".concat(e),"".concat(e.split("-")[0],";q=0.9"),"en;q=0.8"].join(",")},s=e=>e===a?[]:{clouds:{},arrangement_codes:{},fulfilled_codes:{},offer_families:{},offers:{},list:{fulfilled_codes:[]}},i="creative_cloud",d="document_cloud",l="experience_cloud",f=e=>{if(!Array.isArray(e))return s();const{clouds:o,arrangement_codes:n,fulfilled_codes:t,offer_families:a,offers:r,list:c}=s();return e.forEach((e=>{var s,f;let{fulfilled_items:u,offer:m={}}=e;const h=null===(s=m.product_arrangement)||void 0===s?void 0:s.cloud;o[i]=o[i]||"CREATIVE"===h,o[d]=o[d]||"DOCUMENT"===h,o[l]=o[l]||"EXPERIENCE"===h;const _=null===(f=m.product_arrangement)||void 0===f?void 0:f.family;if(_&&(a[_.toLowerCase()]=!0),m.product_arrangement_code&&(n[m.product_arrangement_code]=!0),Array.isArray(u)&&u.forEach((e=>{let{code:o}=e;o&&-1===c.fulfilled_codes.indexOf(o)&&(t[o]=!0,c.fulfilled_codes.push(o))})),m.offer_id){const{offer_id:e,...o}=m;r[e]=o}})),{clouds:o,arrangement_codes:n,fulfilled_codes:t,offer_families:a,offers:r,list:c}},u=async function(){var e;let{params:o,format:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===(e=window.adobeIMS)||void 0===e||!e.isSignedInUser())return r={},Promise.resolve(s(n));const i=(e=>{const o=[];return Array.isArray(e)&&e.length&&e.forEach((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:n,value:t}=e;"string"===typeof n&&n.length&&o.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t)))})),o.length?"?".concat(o.join("&")):""})(o);return r[i]||(r[i]=r[i]||new Promise((e=>{(async(e,o)=>{let{queryParams:n}=e;const a=(0,t.getConfig)(),r=await window.adobeIMS.getProfile(),i="prod"===a.env.name?"https://www.adobe.com/aos-api/users/".concat(r.userId,"/subscriptions"):"https://www.stage.adobe.com/aos-api/users/".concat(r.userId,"/subscriptions");return await fetch("".concat(i).concat(n),{method:"GET",cache:"no-cache",credentials:"same-origin",signal:AbortSignal.timeout(1e4),headers:{Authorization:"Bearer ".concat(window.adobeIMS.getAccessToken().token),"X-Api-Key":window.adobeIMS.adobeIdData.client_id,"Accept-Language":c(a.locale.ietf)}}).then((e=>200===e.status?e.json():s(o)))})({queryParams:i},n).then((o=>e(o))).catch((()=>e(s(n))))}))),n===a?r[i]:r[i].then((e=>f(e))).catch((()=>s(n)))}}}]);
//# sourceMappingURL=3681.a9ebb32e.chunk.js.map