"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[3269],{3269:(e,t,n)=>{n.r(t),n.d(t,{A:()=>be,B:()=>Pe,C:()=>Ee,D:()=>Le,E:()=>Ie,F:()=>Se,a:()=>l,b:()=>c,c:()=>y,d:()=>E,e:()=>k,f:()=>I,g:()=>T,h:()=>O,i:()=>R,j:()=>_,k:()=>z,l:()=>J,m:()=>X,n:()=>Z,o:()=>G,p:()=>K,q:()=>Y,r:()=>ee,s:()=>ae,t:()=>re,u:()=>le,v:()=>se,w:()=>de,x:()=>pe,y:()=>ve,z:()=>ge});var a=n(4112),i=window.screen.width<550||window.screen.height<550,r=navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints>1,o=navigator.userAgent.includes("Linux")&&navigator.maxTouchPoints>1,l="en-us",c={all:()=>!0,chrome:()=>navigator.userAgent.includes("Chrome")&&!navigator.userAgent.includes("Edg"),firefox:()=>navigator.userAgent.includes("Firefox"),safari:()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),edge:()=>navigator.userAgent.includes("Edg"),android:()=>navigator.userAgent.includes("Android")||o,ios:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||r,windows:()=>navigator.userAgent.includes("Windows"),mac:()=>navigator.userAgent.includes("Macintosh")&&!r,"mobile-device":()=>r||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i.test(navigator.userAgent)||o,phone:()=>c["mobile-device"]()&&i,tablet:()=>c["mobile-device"]()&&!i,desktop:()=>!c["mobile-device"](),loggedout:()=>{var e;return!(null!==(e=window.adobeIMS)&&void 0!==e&&e.isSignedInUser())},loggedin:()=>{var e;return!(null===(e=window.adobeIMS)||void 0===e||!e.isSignedInUser())}},s=Object.keys(c),d="p13n-deleted",u="p13n-replaced",m="not ",f="target-",p="_inline",v="martechReturned",h=new URL(window.location.href),g={all:"all",includeFragments:"include-fragments"},w=!1,y="personalization",b=/[^a-z0-9\- _,&=:]/g,P=["action","selector","pagefilter","page filter","page filter optional"],E={JSON:"json",TEXT:"text"},L="in-block:",k=function(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e;if((e=>null===e||void 0===e?void 0:e.includes("/content/dam/"))(i)||null===(t=i)||void 0===t||!t.includes("/"))return i;if(i.includes("/federal/"))return(0,a.k)(i);let r=(0,a.i)();!i.startsWith(r.codeRoot)&&!i.startsWith("http")&&!i.startsWith("/")&&(i="/".concat(i));try{let e=new URL(i),{hash:t,pathname:a}=e,o=a.split("/")[1],l="#_dnt";return(i.startsWith(r.codeRoot)||i.includes(".hlx.")||i.includes(".aem.")||i.includes(".adobe.")||i.includes("localhost:"))&&(i=!n||"en-US"===r.locale.ietf||t.includes(l)||o in r.locales||i.includes(".json")?a:"".concat(r.locale.prefix).concat(a)),"".concat(i).concat(t.replace(l,""))}catch{return i}},I=e=>null===e||void 0===e?void 0:e.split("/").pop(),A=["insertscript","replacepage","updatemetadata","useblockcode"],C={insertafter:"afterend",insertbefore:"beforebegin",prepend:"afterbegin",append:"beforeend"},M={remove:"remove",replace:"replace",updateAttribute:"updateattribute"};function x(e,t,n){t&&(e.dataset.manifestId=t),n&&(e.dataset.adobeTargetTestid=n)}function j(e){let t=e.toLowerCase().trim();return t.startsWith("/")||t.startsWith("http")?"fragment":"other"}function T(e,t){let n=t||(0,a.i)().placeholders;if(!n)return e;let i=e,r=i.match(/{{(.*?)}}/g);return r&&r.forEach((e=>{let t=e.replace(/{{|}}/g,"").trim();n[t]&&(i=i.replace(e,n[t]))})),i}var S=(e,t,n,i,r)=>{var o;"replace"===t&&e.classList.add(d,u);let l=n;try{let{pathname:e,search:t,hash:a}=new URL(n);l="".concat(e).concat(t).concat(a)}catch{}let c=(0,a.r)("a",{href:l},n);x(c,i,r);let s=null!==e&&void 0!==e&&null!==(o=e.parentElement)&&void 0!==o&&o.closest("p")||"P"===e.nodeName&&t.includes("pend")?c:(0,a.r)("p",void 0,c);return/#.*delay=/.test(l)&&s.classList.add("hide-block"),(e=>{let t=document.querySelector("body > main > div");return t===e||(null===t||void 0===t?void 0:t.contains(e))})(e)&&(0,a.t)("".concat((0,a.s)(c.href),".plain.html"),{as:"fetch",crossorigin:"anonymous",rel:"preload"}),s},O=(e,t)=>{let{content:n,manifestId:i,targetManifestId:r,action:o,modifiers:l}=t;if("replace"===o&&x(e,i,r),"A"===(null===e||void 0===e?void 0:e.nodeName)&&null!==l&&void 0!==l&&l.includes("href"))return e.setAttribute("href",((e,t,n)=>{let a=e.getAttribute("href"),i=T(t);return"insertafter"===n||"append"===n?"".concat(a).concat(i):"insertbefore"===n||"prepend"===n?"".concat(i).concat(a):i})(e,n,o)),x(e,i,r),e;if("fragment"!==j(n)){let t=T(n);if("replace"===o)return e.innerHTML=t,e;let l=(0,a.r)("div",{},t);return x(l,i,r),l}let c=S(e,o,n,i,r);return x(c,i,r),"MAIN"!==(null===e||void 0===e?void 0:e.parentElement.nodeName)?c:(0,a.r)("div",void 0,c)},N={[M.remove]:(e,t)=>{let{content:n}=t;"false"!==n&&e.classList.add(d)},[M.replace]:(e,t)=>{!e||e.classList.contains(u)||e.insertAdjacentElement("beforebegin",O(e,t))},[M.updateAttribute]:(e,t)=>{let{manifestId:n,targetManifestId:a}=t;if(!t.attribute||!t.content)return;let i,[r,o]=t.attribute.split("_");if(t.content=T(t.content),"href"===r&&o){let n=e.getAttribute("href");if("#"===o)e.href+=e.href.includes(t.content)?"":t.content;else try{let e=new URL(n),a=new URLSearchParams(e.search);a.set(o,t.content),e.search=a.toString(),i=e.toString()}catch(l){console.log("Invalid updateAttribute URL: ".concat(n),l.message||l)}}else i=t.content;i&&(e.setAttribute(r,i),x(e,n,a))}},W=function(){var e;(null===(e=(0,a.i)().mep)||void 0===e?void 0:e.preview)&&console.log(...arguments)},R=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.JSON,n=arguments.length>2?arguments[2]:void 0;try{let a=await fetch(k(e),n);if(!a.ok)throw 404===a.status?new Error("File not found"):new Error("Invalid response: ".concat(a.status," ").concat(a.statusText));return await a[t]()}catch(a){W("Error loading content: ".concat(e),a.message||a)}return null},U=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce(((e,n)=>[...e,...n[t]||[]]),n)},V=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(((e,a)=>{var i;return null!==(i=a[t])&&void 0!==i&&i.forEach((n=>{let{selector:i,val:r}=n;if("blocks"===t)return void(e[i]=r);if(i in e)return;let o={action:n.action,fragment:r,selector:i,manifestPath:a.manifestPath,manifestId:n.manifestId,targetManifestId:n.targetManifestId};for(let t in e)e[t].fragment===i&&(e[t]=o);e[i]=o})),{...n,...e}}),{})},_=(e,t)=>{let n=e.replace(/\*\*/g,".*");return new RegExp("^".concat(n,"(\\.html)?$"),"i").test(t)};async function z(e,t){if(!e||!t)return!1;let n=e.endsWith("/")?"".concat(e,"index"):e;n=n.endsWith(".plain.html")?n:"".concat(n,".plain.html");let i=await R(n,E.TEXT);if(!i)return!1;t.innerHTML=i;let{decorateArea:r}=(0,a.i)();return r&&r(t),!0}var B=e=>{let{selector:t,val:n}=e;if(!t||!n)return;let i=t.startsWith("og:")?"property":"name",r=document.querySelector("meta[".concat(i,'="').concat(t,'"]'));r||(r=(0,a.r)("meta",{[i]:t}),document.head.append(r)),r.setAttribute("content",n)};function q(e){return Object.keys(e).reduce(((t,n)=>(t[function(e){let t=e.toLowerCase();return t.includes("countryip")||t.includes("countrychoice")||t.includes("previouspage")?t.replace(b,(e=>["(",")","/","*"].includes(e)?e:"")):t.replace(b,"")}(n)]=e[n],t)),{})}var D=(e,t)=>e?t.replace(e,":nth-child(".concat(e,")")):t;function F(e){let t=e,n={section:"main > div","primary-cta":"strong a","secondary-cta":"em a","action-area":"*:has(> em a, > strong a)","any-marquee-section":'main > div:has([class*="marquee"])',"any-marquee":'[class*="marquee"]',"any-header":":is(h1, h2, h3, h4, h5, h6)"},a=t.match(/^[a-zA-Z/./-]*/),i=a?a[0].toLowerCase():"",r=i.split(/\.|:/)[0],o=t.match(/[0-9]*$/),l=o&&i.match(/^[a-zA-Z]/)?o[0]:"";return!i||["html","body","header","footer","main","div","a","p","strong","em","picture","source","img","h","ul","ol","li"].includes(i)?t:["row","col"].includes(i)?(t=t.replace(i,"> div"),t=D(l,t),t):Object.keys(n).includes(r)?(t=t.replace(r,n[r]),t=D(l,t),t):(i.startsWith(".")||(t=".".concat(t)),l&&(t=t.replace(l,""),t="".concat(t,":nth-child(").concat(l," of ").concat(t,")")),t)}function J(e,t){let n,{sel:a,modifiers:i}=function(e){let t=e,n=[],a=t.split(/\s+#_/);return a.length&&(t=a.shift(),a.forEach((e=>{e.split(/_|#_/).forEach((e=>n.push(e.toLowerCase().trim())))}))),{sel:t,modifiers:n}}(e),r=a.split(">").join(" > ").split(",").join(" , ").replaceAll(/main\s*>?\s*(section\d*)/gi,"$1").split(/\s+/).map(F).join(" ").trim();if(t===M.updateAttribute){let e=r.split(" ").pop();n=e.replace(".",""),r=r.replace(e,"").trim()}return{modifiedSelector:r,modifiers:i,attribute:n}}var H=(e,t)=>{if(!t)return e;try{let{origin:n,pathname:a,search:i}=new URL(e);return"".concat(n).concat(a).concat(i,"#").concat(t)}catch{return"".concat(e,"#").concat(t)}},$=(e,t,n)=>{[...e[0].children].forEach((e=>e.dataset[t]=n))},X=(e,t,n,a)=>{let{manifestId:i,adobeTargetTestid:r}=e.dataset;t?(i&&$(n,"manifestId",i),r&&$(n,"adobeTargetTestid",r)):x(a,i,r)},Z=function(){[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".".concat(d))].forEach((e=>e.remove()))};function G(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".section-metadata").forEach((e=>{[...e.children].forEach((t=>{var n,a;let i=null===(n=t.children[0])||void 0===n?void 0:n.textContent.toLowerCase().trim(),r=null===(a=t.children[1])||void 0===a?void 0:a.textContent.toLowerCase().trim().replaceAll(/\s+/g,"-");!i||!r||"anchor"!==i||e.parentElement.setAttribute("id",r)}))}))}function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=document.querySelector("main > div");return G(t),e.forEach((e=>{let{action:o,content:l,selector:c}=e;if(e.content=n&&"fragment"===j(l)?H(l,p):l,c.startsWith(L))return function(e){var t,n,i,r,o,l;let c,s=e.selector.substring(L.length).trim().split(/\s+/),[d]=s,u=(0,a.i)();if(null!==(n=(t=u.mep).inBlock)&&void 0!==n||(t.inBlock={}),null!==(r=(i=u.mep.inBlock)[d])&&void 0!==r||(i[d]={}),1===s.length&&delete e.selector,s.length>1){if(c=s.slice(1).join(" "),e.selector=c,c.startsWith("https://mas.adobe.com/")){let t=e=>{let{hash:t}=new URL(e),n=t.startsWith("#")?t.substring(1):t,a=new URLSearchParams(n);return a.get("fragment")||a.get("query")};if(c=t(c),c){var m,f;null!==(f=(m=u.mep.inBlock[d]).fragments)&&void 0!==f||(m.fragments={});let{fragments:n}=u.mep.inBlock[d];e.content=t(e.content),n[c]=e}return}if("fragment"===j(c)){var p,v;c.includes("/federal/")&&(c=(0,a.k)(c)),e.content.includes("/federal/")&&(e.content=(0,a.k)(e.content)),null!==(v=(p=u.mep.inBlock[d]).fragments)&&void 0!==v||(p.fragments={});let{fragments:t}=u.mep.inBlock[d];if(delete e.selector,c in t)return;for(let n in t)t[n].content===c&&(t[n]=e);t[c]=e,c=k(c);for(let n in t)t[n].content===c&&(t[n]=e);return void(t[c]=e)}}null!==(l=(o=u.mep.inBlock[d]).commands)&&void 0!==l||(o.commands=[]),u.mep.inBlock[d].commands.push(e)}(e),void(e.selectorType=L);let{els:s,modifiers:d,attribute:u}=function(e,t,n,a){let i=n?t:document,r=e.trim();if(!r)return{};if("fragment"===j(r))try{return{els:i.querySelectorAll('a[href*="'.concat(k(r,!1),'"], a[href*="').concat(k(r,!0),'"]')),modifiers:[g.all,g.includeFragments]}}catch{return{els:[],modifiers:[]}}let o,{modifiedSelector:l,modifiers:c,attribute:s}=J(r,a);try{o=i.querySelectorAll(l)}catch{return W("Invalid selector: ",r),{}}return c.includes(g.all)||!o.length||(o=[o[0]]),{els:o,modifiers:c,attribute:s}}(c,t,i,o);Object.assign(e,{modifiers:d,attribute:u}),null!==s&&void 0!==s&&s.forEach((n=>{if(!n||!(o in N)&&!(o in C)||t&&!t.contains(n)||w&&null!==r&&void 0!==r&&r.contains(n))return;if(o in N)return void N[o](n,e);let a="fragment"===j(c)?n.parentElement:n;null===a||void 0===a||a.insertAdjacentElement(C[o],O(a,e))})),(s.length&&!e.modifiers.includes(g.all)||!e.modifiers.includes(g.includeFragments))&&(e.completed=!0)})),Z(t),e.filter((e=>!e.completed&&e.selectorType!==L))}var Q=(e,t,n,i,r)=>{var o,l,c;let s=(0,a.i)(),d=I(i),u=d.replace(".json","");r&&(u=r),(null===(o=s.mep)||void 0===o?void 0:o.preview)||(d=!1);let m=null===(l=e.action)||void 0===l?void 0:l.toLowerCase().replace("content","").replace("fragment","").replace("tosection","");if(!m)return void W("Row found with empty action field: ",e);let p=e["page filter"]||e["page filter optional"],{selector:v}=e;if(p&&!_(p,new URL(window.location).pathname))return;(null===(c=s.mep)||void 0===c?void 0:c.preview)||(d=!1);let{origin:g}=h;t.forEach((t=>{let a=!!t.includes(f)&&u;if(!e[t]||"false"===e[t].toLowerCase())return;let i={action:m,selector:v,pageFilter:p,content:e[t],selectorType:j(v),manifestId:d,targetManifestId:a};if(m in N&&"fragment"===i.selectorType)n[t].fragments.push({selector:k(i.selector.split(" #_")[0]),val:k(e[t]),action:m,manifestId:d,targetManifestId:a});else if(A.includes(m))if(n[t][m]=n[t][m]||[],"useblockcode"===m){let{blockSelector:i,blockTarget:r}=((e,t,n)=>{var a,i,r,o;let l=e;null!==(a=l)&&void 0!==a&&a.includes("\\")&&(l=null===(i=l)||void 0===i?void 0:i.split("\\").join("/")),(null===(r=l)||void 0===r?void 0:r.startsWith("/"))||(l="/".concat(l));let c=null===(o=l)||void 0===o?void 0:o.split("/").pop();return l=l.startsWith("/libs/")?"".concat(t.miloLibs||t.codeRoot).concat(l.replace("/libs","")):"".concat(n).concat(l),{blockSelector:c,blockTarget:l}})(e[t],s,g);n[t][m].push({selector:i,val:r,pageFilter:p,manifestId:d,targetManifestId:a})}else n[t][m].push({selector:k(v),val:k(e[t]),pageFilter:p,manifestId:d,targetManifestId:a});else(m in N||m in C)&&n[t].commands.push(i)}))};function Y(e,t,n){if(null===e||void 0===e||!e.length)return null;let i={},r=e.map((e=>q(e)));try{var o;let e={},l=Object.keys(r[0]).filter((e=>!P.includes(e)));return l.forEach((t=>{e[t]={commands:[],fragments:[]}})),r.forEach((a=>{Q(a,l,e,t,n)})),i.variants=e,i.variantNames=l,null!==(o=(0,a.i)().mep)&&void 0!==o&&o.preview||(i.manifestId=!1),i}catch(l){W("error parsing personalization manifestConfig:",l,r)}return null}async function ee(e,t,a){"en-US"!==t.locale.ietf&&await n.e(5456).then(n.bind(n,5456)).then((n=>{var i,r;let{processTrackingLabels:o}=n;null!==(r=(i=t.mep).analyticLocalization)&&void 0!==r||(i.analyticLocalization={}),e.forEach(((n,i)=>{let r=e[i],c=r[l]||r.us||r.en||r.key;if(!c)return;c=o(c);let s=o(n[a]);t.mep.analyticLocalization[s]=c}))}))}var te=(e,t)=>{var n;if(!e.includes("countrychoice")&&!e.includes("countryip"))return!1;let a=null===(n=e.match(/\(([^)]+)\)/))||void 0===n||null===(n=n[1])||void 0===n?void 0:n.split(",").map((e=>e.trim()));if(null===a||void 0===a||!a.length)return!1;let{countryChoice:i,countryIP:r}=t.mep,o=e.includes("countrychoice")?i:r;return a.includes(o)};function ne(e,t){if(e.includes("countrychoice")||e.includes("countryip")){let n=e.replace("uk","gb");return te(n,t)}return!1}function ae(e,t){var n,a;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null===e||void 0===e||!e.length||"default"===i)return t;let{countryIP:r,countryChoice:o}=t.mep||{},l=[i.toLowerCase(),null===(n=t.mep)||void 0===n?void 0:n.prefix,t.locale.region.toLowerCase(),...r?["countryip(".concat(r,")")]:[],...o?["countrychoice(".concat(o,")")]:[],t.locale.ietf.toLowerCase(),...t.locale.ietf.toLowerCase().split("-"),"value","other"],c=null===(a=(null!==e&&void 0!==e&&e.length?Object.entries(e[0]):[]).find((e=>{let[n]=e,a=n.toLowerCase();return l.includes(a)||ne(a,t)})))||void 0===a?void 0:a[0];if(c){let n=e.reduce(((e,t)=>(e[t.key]=t[c],e)),{});t.placeholders={...t.placeholders||{},...n}}return ee(e,t,c),t}var ie=e=>{let[t,n]=e.split("param-")[1].split("=");if(!t)return!1;let a=new URLSearchParams(Array.from(h.searchParams,(e=>{let[t,n]=e;return[t.toLowerCase(),null===n||void 0===n?void 0:n.toLowerCase()]}))).get(t.toLowerCase());return null!==a&&(!n||n===a)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.referrer;if(!t)return!1;let n=e.toLowerCase().split("previouspage-")[1];return _(n,new URL(t).pathname)};function oe(e){return e.map((e=>e.trim())).filter(Boolean)}function le(e){return e.reduce(((e,t)=>{let n=[t];return t.startsWith(f)||(n=t.split(/,(?![^(]*\))/)),e[t]=oe(n),e.allNames=[...e.allNames,...oe(t.split(/(?:\([^)]*\))?,|&|\bnot\b/))],e}),{allNames:[]})}var ce=e=>{var t;return"https://www.adobe.com/federal/assets/data/mep-xlg-tags.json?sheet=".concat("prod"===(null===(t=e.env)||void 0===t?void 0:t.name)?"prod":"stage")},se=async()=>{var e,t,n;let i=(0,a.i)();if(null!==(e=i.mep)&&void 0!==e&&e.entitlementMap)return i.mep.entitlementMap;let r=ce(i),o=await R(r,E.JSON);if(!o)return i.consumerEntitlements||{};let l={};return null!==o&&void 0!==o&&null!==(t=o.data)&&void 0!==t&&t.forEach((e=>{let{id:t,tagname:n}=e;l[t]=n})),null!==(n=i.mep)&&void 0!==n||(i.mep={}),i.mep.entitlementMap={...i.consumerEntitlements,...l},i.mep.entitlementMap},de=async e=>{let t=await se();return e.flatMap((e=>{var n;return(null===(n=e.segments)||void 0===n?void 0:n.flatMap((e=>{let n=t[e.id];return n?[n]:[]})))||[]}))};function ue(e){return("uk"===e.toLowerCase()?"gb":e.toLowerCase()).split("_")[0]}async function me(e){var t,n,i;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=(0,a.i)();if(null!==(t=l.mep)&&void 0!==t&&null!==(t=t.variantOverride)&&void 0!==t&&t[e])return l.mep.variantOverride[e];let d=le(r),u=Object.values(await se()).some((e=>d.allNames.includes(e))),p=[];u&&(p=null!==l&&void 0!==l&&null!==(n=l.mep)&&void 0!==n&&n.enablePersV2?[]:await l.entitlements());let v=e=>{var t;return!e||e===(null===o||void 0===o?void 0:o.toLowerCase())||(e.startsWith("param-")?ie(e):e.toLowerCase().startsWith("previouspage-")?re(e):!!(ne(e,l)||null!==(t=p)&&void 0!==t&&t.includes(e))||s.includes(e)&&c[e]())},h=e=>{let t=e.includes(":")?e.split(":")[1]:e;return t.startsWith(f)?v(t):!t.split("&").map((e=>{let t=e.trim().startsWith(m),n=v(e.replace(m,"").trim());return t?!n:n})).includes(!1)};return null!==(i=l.mep)&&void 0!==i&&i.geoLocation&&await async function(e){var t,n;let a=new URLSearchParams(window.location.search),i=a.get("country")||(null===(t=document.cookie.split("; ").find((e=>e.startsWith("international="))))||void 0===t?void 0:t.split("=")[1]),r=(null===(n=a.get("akamaiLocale"))||void 0===n?void 0:n.toLowerCase())||sessionStorage.getItem("akamai");if(e.mep=e.mep||{},i&&(e.mep.countryChoice=ue(i)),r&&(e.mep.countryIP=ue(r)),!e.mep.countryChoice&&e.mep.countryIP)e.mep.countryChoice=e.mep.countryIP;else if(!e.mep.countryIP&&e.mep.countryIPPromise)try{let t=await e.mep.countryIPPromise;t&&(t="uk"===t?"gb":t.split("_")[0],e.mep.countryIP=t,e.mep.countryChoice||(e.mep.countryChoice=t))}catch{W("MEP Error: Unable to get user country")}}(l),r.find((e=>d[e].some(h)))}var fe=e=>({disabled:e.disabled,event:e.event,manifest:e.manifestPath,executionOrder:"1-1",selectedVariant:{commands:[],fragments:[]},selectedVariantName:"default",variantNames:["all"],variants:{},source:["promo"]}),pe=(e,t)=>{var n;null===(n=e.mep)||void 0===n||null===(n=n.experiments)||void 0===n||n.forEach((e=>{var n,a;null!==e&&void 0!==e&&null!==(n=e.selectedVariant)&&void 0!==n&&null!==(n=n.useblockcode)&&void 0!==n&&n.forEach((e=>{let{selector:t,targetManifestId:n}=e;t&&n&&document.querySelectorAll(".".concat(t)).forEach((e=>e.dataset.adobeTargetTestid=n))})),t&&(null===e||void 0===e||null===(a=e.selectedVariant)||void 0===a||null===(a=a.updatemetadata)||void 0===a||a.forEach((e=>{"gnav-source"===(null===e||void 0===e?void 0:e.selector)&&e.targetManifestId&&(t.dataset.adobeTargetTestid=e.targetManifestId)})))}))};async function ve(){var e,t,n,a,i;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{name:l,manifestData:c,manifestPath:s,manifestUrl:d,manifestPlaceholders:u,manifestInfo:m,variantLabel:f,disabled:p,event:v,source:h}=r;if(p&&(!o||!Object.keys(o).length))return fe(r);let g=c;if(!g){let e=await R(s,E.JSON);R&&(g=e)}let w=(null===(e=g)||void 0===e||null===(e=e.experiences)||void 0===e?void 0:e.data)||(null===(t=g)||void 0===t?void 0:t.data)||g;if(!w)return null;let b=m||(null===(n=g)||void 0===n||null===(n=n.info)||void 0===n?void 0:n.data),P=null===b||void 0===b?void 0:b.reduce(((e,t)=>(e[t.key]=t.value,e)),{}),L=null===P||void 0===P||null===(a=P["manifest-override-name"])||void 0===a?void 0:a.toLowerCase(),A=Y(w,s,l||L);if(!A)return W("Error loading personalization manifestConfig: ",l||s),null;let C={"manifest-type":["Personalization","Promo","Test"],"manifest-execution-order":["First","Normal","Last"]};if(b){var M;if(A.manifestType=null===P||void 0===P||null===(M=P["manifest-type"])||void 0===M?void 0:M.toLowerCase(),A.manifestType===y){A.manifestOverrideName=L;let e=L||I(s).replace(".json","");A.analyticsTitle=e.trim().slice(0,15)}let e={"manifest-type":1,"manifest-execution-order":1};Object.keys(P).forEach((t=>{if(!C[t])return;let n=C[t].indexOf(P[t]);e[t]=n>-1?n:1})),A.executionOrder="".concat(e["manifest-execution-order"],"-").concat(e["manifest-type"])}else A.manifestType=C["manifest-type"][1],A.executionOrder="1-1";return A.manifestPath=k(s),A.selectedVariantName=await me(A.manifestPath,A.variantNames,f),A.placeholderData=u||(null===(i=g)||void 0===i||null===(i=i.placeholders)||void 0===i?void 0:i.data),A.name=l,A.manifest=s,A.manifestUrl=d,A.disabled=p,A.event=v,null!==h&&void 0!==h&&h.length&&(A.source=h),A}var he=e=>{let{selector:t,val:n,action:a,manifestId:i,targetManifestId:r}=e;return{selector:k(t),val:k(n),action:a,manifestId:i,targetManifestId:r}};async function ge(e,t){var n,i,r;if(!e)return null;let{manifestPath:o,selectedVariant:l}=e;if(!l||"default"===l)return{experiment:e};let{replacepage:c}=l;return null!==(n=l.replacepage)&&void 0!==n&&n.length&&(t.mep.replacepage=c[0]),null!==(i=l.insertscript)&&void 0!==i&&i.map((e=>(0,a.y)(e.val))),null!==(r=l.updatemetadata)&&void 0!==r&&r.map((e=>B(e))),l.fragments&&(l.fragments=l.fragments.map(he)),{manifestPath:o,experiment:e,blocks:l.useblockcode,fragments:l.fragments,commands:l.commands}}function we(e){if(!e)return!1;let t=Object.create(null);return decodeURIComponent(e).split("---").forEach((e=>{let n=e.trim().split("--");if(n.length>1){let[e,a]=n;t[e]=a}})),t}function ye(e,t){return e.executionOrder===t.executionOrder?0:e.executionOrder>t.executionOrder?1:-1}function be(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.i)(),i={},r=e,o=!1;return null!==(t=n.mep)&&void 0!==t&&t.experiments&&(r=[...e,...n.mep.experiments]),r.forEach((e=>{try{if(null===e||void 0===e||!e.manifest)return;if(e.manifestPath||(e.manifestPath=k(e.manifest)),e.source&&!e.source.includes("target")&&(e.manifest=k(e.manifest)),e.manifestPath in i){var t;let a=i[e.manifestPath],r=e;e.name&&(a=e,r=i[e.manifestPath]),r.source=r.source.concat(a.source),r.name=a.name,r.selectedVariantName=a.selectedVariantName,o="prod"===(null===n||void 0===n||null===(t=n.env)||void 0===t?void 0:t.name)&&a.selectedVariantName.startsWith("target-"),o&&(r.variants=a.variants,r.placeholderData=a.placeholderData),r.selectedVariant=r.variants[r.selectedVariantName],i[e.manifestPath]=r}else i[e.manifestPath]=e;let r=i[e.manifestPath],{selectedVariantName:l,variantNames:c,placeholderData:s}=r;l&&c.includes(l)?r.selectedVariant=r.variants[l]:(r.selectedVariantName="default",r.selectedVariant="default"),ae(s,(0,a.i)(),r.selectedVariantName)}catch(l){var r;W("MEP Error parsing manifests: ".concat(l.toString())),null===(r=window.lana)||void 0===r||r.log("MEP Error parsing manifests: ".concat(l.toString()))}})),Object.keys(i).forEach((e=>{delete i[e].variants})),Object.values(i).sort(ye)}function Pe(e,t){let{action:n,fragment:a,manifestId:i,targetManifestId:r}=e,o=t.href.includes(p)&&!a.includes(p);return n===M.replace?(t.href=a,o&&(t.href+="#".concat(p)),x(t,i,r),a):(n===M.remove&&t.parentElement.remove(),!1)}function Ee(e){let{placeholders:t}=e;t&&Object.entries(t).forEach((e=>{let[n,a]=e;t[n]=T(a,t)}))}async function Le(e){let{manifests:t}=e;if(null===t||void 0===t||!t.length)return;let n=t,i=(0,a.i)();for(let a=0;a<n.length;a+=1){var r;n[a]=await ve(n[a],null===(r=i.mep)||void 0===r?void 0:r.variantOverride)}n=be(n,i),Ee(i);let o=[];for(let a of n){let e=await ge(a,i);e&&o.push(e)}o=o.filter(Boolean),i.mep.experiments=[...i.mep.experiments,...n],i.mep.blocks=V(o,"blocks",i.mep.blocks),i.mep.fragments=V(o,"fragments",i.mep.fragments),i.mep.commands=U(o,"commands",i.mep.commands);let l=document.querySelector("main");if(i.mep.replacepage&&!w&&l){await z(i.mep.replacepage.val,l);let{manifestId:e,targetManifestId:t}=i.mep.replacepage;x(l,e,t)}i.mep.commands=K(i.mep.commands);let c=o.filter((e=>{var t;return(null===(t=e.experiment)||void 0===t?void 0:t.manifestType)===y}));if(!c.length)return;let s=c.map((e=>{var t,n;let a=e.experiment.selectedVariantName.replace(f,"").trim().slice(0,15),i=a.split(":");return(i.length>2||""===(null===(t=i[0])||void 0===t?void 0:t.trim())||""===(null===(n=i[1])||void 0===n?void 0:n.trim()))&&W('MEP Error: When using (optional) column nicknames, please use the following syntax: "<nickname>: <original audience>"'),!a.includes(":")||a.startsWith(":")?"default"===a?"nopzn":a:i[0].trim()})),d=c.map((e=>e.experiment.analyticsTitle));i.mep.martech="|".concat(s.join("--"),"|").concat(d.join("--"))}function ke(e,t){return e?e.toLowerCase().split(/,|(\s+)|(\\n)/g).filter((e=>null===e||void 0===e?void 0:e.trim())).map((e=>({manifestPath:e,source:[t]}))):[]}var Ie=async(e,t,a,i)=>{let r=[];if(e&&(r=ke(e,"pzn")),t){let e=ke(t,"pzn-roc");r=r.concat(e)}if(a){let{default:e}=await n.e(6245).then(n.bind(n,6245));r=r.concat(e(a,h.searchParams))}if(i&&"off"!==i){let e=r.map((e=>{let{manifestPath:t}=e;if(null!==t&&void 0!==t&&t.startsWith("/"))return t;try{return new URL(t).pathname}catch{return t}}));i.split("---").forEach((t=>{let n=t.trim().toLowerCase().split("--")[0];e.includes(n)||r.push({manifestPath:n,source:["mep param"]})}))}return r};async function Ae(e){let{config:t,targetAjoManifests:n,targetAjoPropositions:a}=e;if(n.forEach((e=>{e.source=[t.mep.ajoEnabled?"ajo":"target"]})),t.mep.targetAjoManifests=n,t.mep.enablePersV2?window.addEventListener("alloy_sendEvent",(()=>{(null===a||void 0===a?void 0:a.length)&&window._satellite&&window._satellite.track("propositionDisplay",a)}),{once:!0}):(null===a||void 0===a?void 0:a.length)&&window._satellite&&window._satellite.track("propositionDisplay",a),"postlcp"===t.mep.targetEnabled){let e=new CustomEvent(v,{detail:"Martech returned"});window.dispatchEvent(e)}return n}function Ce(e){return Math.ceil(e/250)/4}function Me(e,t,n,a){let i=function(e){return Ce(Date.now()-e)}(t),r=Ce(n),o="target response time ".concat(i,":timed out ").concat(e,":timeout ").concat(r);a&&(o+=":".concat(a)),window.addEventListener("alloy_sendEvent",(()=>{var e,t;null===(e=window._satellite)||void 0===e||null===(t=e.track)||void 0===t||t.call(e,"event",{documentUnloading:!0,xdm:{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{linkClicks:{value:1},type:"other",name:o}}},data:{_adobe_corpnew:{digitalData:{primaryEvent:{eventInfo:{eventName:o}}}}}})}),{once:!0})}var xe=e=>{var t,n;return null!==(t=null===(n=e.propositions||e.decisions)||void 0===n||null===(n=n.map((e=>{let{id:t}=e;return e.items.map((e=>({...e,id:t})))})))||void 0===n||null===(n=n.flat())||void 0===n||null===(n=n.map((e=>{var t,n,a,i,r,o,l;let c=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content;return c&&(c.manifestLocation||c.manifestContent)?{manifestPath:c.manifestLocation||c.manifestPath,manifestUrl:c.manifestLocation,manifestData:(null===(n=c.manifestContent)||void 0===n||null===(n=n.experiences)||void 0===n?void 0:n.data)||(null===(a=c.manifestContent)||void 0===a?void 0:a.data),manifestPlaceholders:null===(i=c.manifestContent)||void 0===i||null===(i=i.placeholders)||void 0===i?void 0:i.data,manifestInfo:null===(r=c.manifestContent)||void 0===r?void 0:r.info.data,name:(null===(o=e.meta)||void 0===o?void 0:o["activity.name"])||e.id,variantLabel:(null===(l=e.meta)||void 0===l?void 0:l["experience.name"])&&"target-".concat(e.meta["experience.name"])||c.experienceName,meta:e.meta}:null})))||void 0===n?void 0:n.filter(Boolean))&&void 0!==t?t:[]};async function je(e){let{getTargetAjoPersonalization:t}=await n.e(7230).then(n.bind(n,7230)),{targetAjoManifests:a,targetAjoPropositions:i}=await t({handleAlloyResponse:xe,config:e,sendTargetResponseAnalytics:Me});return Ae({config:e,targetAjoManifests:a,targetAjoPropositions:i})}var Te=()=>new Promise((e=>{window.addEventListener(v,(t=>e(t.detail)),{once:!0})}));async function Se(){var e,t,i;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=[],{mepParam:c,mepHighlight:s,mepButton:d,pzn:u,pznroc:m,promo:f,enablePersV2:p,target:v,ajo:h,countryIPPromise:g,mepgeolocation:y,targetInteractionPromise:b,calculatedTimeout:P,postLCP:E}=r,L=(0,a.i)();E?w=!0:(L.mep={updateFragDataProps:X,preview:"off"!==d&&("prod"!==(null===(e=L.env)||void 0===e?void 0:e.name)||c||""===c||d),variantOverride:we(c),highlight:void 0!==s&&"false"!==s,targetEnabled:v,ajoEnabled:h,experiments:[],prefix:(null===(t=L.locale)||void 0===t||null===(t=t.prefix.split("/")[1])||void 0===t?void 0:t.toLowerCase())||l,enablePersV2:p,countryIPPromise:g,geoLocation:y,targetInteractionPromise:b},o=o.concat(await Ie(u,m,f,c)),null!==(i=o)&&void 0!==i&&i.forEach((e=>{if(e.disabled)return;let t=k(e.manifestPath);(0,a.t)(t,{as:"fetch",crossorigin:"anonymous",rel:"preload"})})),(u||m)&&(0,a.t)(ce(L),{as:"fetch",crossorigin:"anonymous",rel:"preload"})),p&&!0===v?o=o.concat(await async function(e){var t;let{config:n,targetInteractionPromise:a,calculatedTimeout:i}=e,r=n.mep.ajoEnabled?"ajo":"target",o=[],l=[];if(null!==n&&void 0!==n&&null!==(t=n.mep)&&void 0!==t&&t.enablePersV2&&a){let{targetInteractionData:e,respTime:t,respStartTime:n}=await a;if(Me(!1,n,i),e.result){var c;let n=Ce(t);performance.clearMarks(),performance.clearMeasures();try{window.lana.log("".concat(r," response time: ").concat(n),{tags:"martech",errorType:"e",sampleRate:.5})}catch(h){console.error("Error logging ".concat(r," response time:"),h)}o=xe(e.result),l=(null===(c=e.result)||void 0===c?void 0:c.propositions)||[]}}return Ae({config:n,targetAjoManifests:o,targetAjoPropositions:l})}({config:L,targetInteractionPromise:b,calculatedTimeout:P})):((!0===v||!0===h)&&(o=o.concat(await je(L))),("postlcp"===v||"postlcp"===h)&&je(L)),E&&(L.mep.targetAjoManifests||await Te(),o=L.mep.targetAjoManifests);try{var I,A;null!==(I=o)&&void 0!==I&&I.length&&await Le({manifests:o}),(null===(A=L.mep)||void 0===A?void 0:A.preview)&&await n.e(7239).then(n.bind(n,7239)).then((e=>{let{saveToMmm:t}=e;return t()}))}catch(M){var C;W("MEP Error: ".concat(M.toString())),null===(C=window.lana)||void 0===C||C.log("MEP Error: ".concat(M.toString()))}}}}]);
//# sourceMappingURL=3269.f89ca329.chunk.js.map