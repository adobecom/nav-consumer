"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[1801],{1801:(t,n,e)=>{e.r(n),e.d(n,{default:()=>d,fetchIconList:()=>f,fetchIcons:()=>u});var o,i=e(1608),a=(e(3658),new Map),c="feds-milo";async function s(t){if(!t)return null;const n=await fetch(t);if(!n.ok)return null;const e={},o=await n.text();return(new DOMParser).parseFromString(o,"image/svg+xml").querySelectorAll("symbol").forEach((t=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg");for(;t.firstChild;)n.appendChild(t.firstChild);[...t.attributes].forEach((t=>n.attributes.setNamedItem(t.cloneNode()))),n.classList.add("icon-milo","icon-milo-".concat(n.id)),e[n.id]=n})),e}async function l(t){const n=(0,i.getFederatedContentRoot)(),e="".concat(n,"/federal/assets/icons/svgs/").concat(t,".svg");try{const n=await async function(t,n){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch SVG for ".concat(n,": ").concat(e.statusText));const o=await e.text(),i=(new DOMParser).parseFromString(o,"image/svg+xml").querySelector("svg");if(!i)throw new Error("No SVG element found in fetched content for ".concat(n));return i.classList.add("icon-milo","icon-milo-".concat(n)),i}(e,t);return a.set(t,n),n}catch(s){var o;return null===(o=window)||void 0===o||o.lana.log("Error fetching federal SVG for ".concat(t,", falling back to Milo icon: ").concat(s),{clientId:c,tags:"icons",errorType:"i"}),null}}async function r(t){if(a.has(t))return a.get(t);const n=await l(t);return n||async function(t){var n;if(!o){const{miloLibs:t,codeRoot:n}=(0,i.getConfig)();o=s("".concat(t||n,"/img/icons/icons.svg"))}const e=await o;if(null!==e&&void 0!==e&&e[t]){const n=e[t].cloneNode(!0);return a.set(t,n),n}return null===(n=window)||void 0===n||n.lana.log("No fallback Milo icon found for ".concat(t),{clientId:c,tags:"icons",errorType:"i"}),null}(t)}async function d(t){const n=[...t].map((async t=>{const n=t.classList[1].replace("icon-","");let o="tooltip"===n?"info":n;if(n.includes("tooltip-")&&(o=n.replace(/tooltip-/,"")),function(t,n){var o,i,a;if(!(null===(o=t.closest("em"))||void 0===o?void 0:o.textContent.includes("|"))||![...t.classList].some((t=>t.includes("tooltip"))))return;const c=t.closest("em");c.className="tooltip-wrapper";const s=c.textContent.split("|"),l=null===(i=s.pop())||void 0===i?void 0:i.trim();if(!l)return;t.dataset.tooltip=l;const r=(null===(a=s.pop())||void 0===a?void 0:a.trim().toLowerCase())||"right";t.className="icon icon-".concat(n," milo-tooltip ").concat(r),[["tabindex","0"],["aria-label",l],["role","button"]].forEach((n=>{let[e,o]=n;t.setAttribute(e,o)})),c.parentElement.replaceChild(t,c),e.e(7356).then(e.bind(e,7356)).then((n=>{let{default:e}=n;e(t)}))}(t,o),t.dataset.svgInjected||!o)return;const i=await r(o);if(i&&!t.dataset.svgInjected){const n=i.cloneNode(!0);t.appendChild(n),t.dataset.svgInjected="true";const e=t.parentElement;(null===e||void 0===e?void 0:e.childNodes.length)>1&&(e.lastChild===t?t.classList.add("margin-inline-start"):e.firstChild===t?(t.classList.add("margin-inline-end"),"LI"===e.parentElement.tagName&&e.parentElement.classList.add("icon-list-item")):t.classList.add("margin-inline-start","margin-inline-end"))}}));await Promise.allSettled(n)}var u=t=>{const{miloLibs:n,codeRoot:e}=t;return s("".concat(n||e,"/img/icons/icons.svg"))};function f(t){return fetch(t).then((t=>t.json())).then((t=>t.data||t.content.data)).catch((t=>{var n;return null===(n=window)||void 0===n||n.lana.log("Failed to fetch iconList: ".concat(t),{clientId:c,tags:"icons",errorType:"i"}),[]}))}}}]);
//# sourceMappingURL=1801.0039b60d.chunk.js.map