"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[2525],{2525:(e,t,n)=>{n.r(t),n.d(t,{initJarvisChat:()=>g,openChat:()=>s});n(6850);var a,o,i,r=!1,d=null,c=e=>({chatConversationId:e["event.context_guid"],chatConversationSessionId:e["event.session_guid"],chatWorkflow:e["event.workflow"],chatCategory:e["event.category"],chatSubcategory:e["event.subcategory"],chatType:e["event.type"],chatSubtype:e["event.subtype"],chatUserguid:e["event.user_guid"],chatLanguage:e["event.language"],chatPagename:e["event.pagename"],chatVisitorguid:e["event.visitor_guid"],chatUrl:e["event.url"],chatOrgguid:e["event.org_guid"],chatReferrer:e["event.referrer"],chatClientId:e["source.client_id"],chatSourceName:e["source.name"],chatPlatform:e["source.platform"],chatContentName:e["content.name"],chatEnv:e["env.com.name"]}),v=e=>{var t,n;(e=>{var t,n;const a={variationId:e["exp.variation_id"],actionBlockId:e["exp.action_block_id"],campaignId:e["exp.campaign_id"],containerId:e["exp.container_id"],controlGroupId:e["exp.control_group_id"],treatmentId:e["exp.treatment_id"],surfaceId:e["exp.surface_id"]};if(Object.keys(a).forEach((e=>{a[e]||delete a[e]})),!Object.keys(a).length)return;(e=>{var t;let n=!1;if(!e)return n;const a=null===(t=window.digitalData.sophiaResponse)||void 0===t?void 0:t.fromPage;return n=Array.isArray(a)?a.some((t=>(null===t||void 0===t?void 0:t.campaignId)===e)):(null===a||void 0===a?void 0:a.campaignId)===e,n})(a.campaignId)||((t=window.digitalData).sophiaResponse||(t.sophiaResponse={}),(n=window.digitalData.sophiaResponse).fromPage||(n.fromPage=[]),Array.isArray(window.digitalData.sophiaResponse.fromPage)?window.digitalData.sophiaResponse.fromPage.push(a):window.digitalData.sophiaResponse.fromPage=a)})(e),null===(t=window._satellite)||void 0===t||t.track("event",{xdm:{},data:{web:{webInteraction:{name:null===(n=window.digitalData.primaryEvent)||void 0===n||null===(n=n.eventInfo)||void 0===n?void 0:n.eventName}},_adobe_corpnew:{digitalData:{primaryEvent:window.digitalData.primaryEvent,chat:window.digitalData.chat,sophiaResponse:window.digitalData.sophiaResponse}}}})},l=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((t,n)=>{let a=t;return a+="".concat(a&&":").concat(e[n]||""),a}),"")},s=e=>{var t;r||window.location.assign("https://helpx.adobe.com");const n=null===(t=window.AdobeMessagingExperienceClient)||void 0===t?void 0:t.openMessagingWindow;if("function"===typeof n&&!(()=>{var e;const t=window.AdobeMessagingExperienceClient;return(null===t||void 0===t?void 0:t.isAdobeMessagingClientInitialized())&&"hidden"!==(null===t||void 0===t||null===(e=t.getMessagingExperienceState())||void 0===e?void 0:e.windowState)})())if(e){var a,o,i;const t=null===(a=e.target.tagName)||void 0===a?void 0:a.toLowerCase();n({sourceType:t,sourceText:"img"===t?null===(o=e.target.alt)||void 0===o?void 0:o.trim():null===(i=e.target.innerText)||void 0===i?void 0:i.trim()})}else n({})},w=async(e,t,n)=>{var w,u,p,g;const h="https://".concat("prod"!==e.env.name?"stage-":"","client.messaging.adobe.com/latest/AdobeMessagingClient");let y,m;await Promise.all([o("".concat(h,".css")),a("".concat(h,".js"))]),e.locale.ietf.includes("-")?[y,m]=e.locale.ietf.split("-"):([m,y]=e.locale.prefix.replace("/","").split("_"),"africa"===m&&(m="ZA")),window.AdobeMessagingExperienceClient.initialize({appid:i("jarvis-surface-id")||e.jarvis.id,appver:i("jarvis-surface-version")||e.jarvis.version,env:"prod"!==e.env.name?"stage":"prod",clientId:null===(w=window.adobeid)||void 0===w?void 0:w.client_id,accessToken:null!==(u=window.adobeIMS)&&void 0!==u&&u.isSignedInUser()?"Bearer ".concat(null===(p=window.adobeIMS.getAccessToken())||void 0===p?void 0:p.token):void 0,lazyLoad:!0,loadedVia:"milo",language:y||"en",region:m,cookiesEnabled:(null===(g=window.adobePrivacy)||void 0===g||null===(g=g.activeCookieGroups())||void 0===g?void 0:g.length)>1,cookies:{mcid:window.alloy?await window.alloy("getIdentity").then((e=>{var t;return null===e||void 0===e||null===(t=e.identity)||void 0===t?void 0:t.ECID})).catch((()=>{})):void 0},callbacks:{initCallback:e=>{var t;r=!(null===e||void 0===e||null===(t=e.releaseControl)||void 0===t||!t.showAdobeMessaging)},onReadyCallback:()=>{n&&s(t)},initErrorCallback:()=>{},chatStateCallback:()=>{},getContextCallback:()=>{let t,n;return d&&(t=d["jarvis-surface-id"],n=d["jarvis-surface-version"],d=null),{appid:t||i("jarvis-surface-id")||e.jarvis.id,appver:n||i("jarvis-surface-version")||e.jarvis.version}},signInProvider:()=>{var t;return null===(t=window.adobeIMS)||void 0===t?void 0:t.signIn(e.signInContext)},analyticsCallback:e=>{var t,n,a,o,i;if(!window.alloy_all||!window.digitalData)return;const r=null===e||void 0===e||null===(t=e.events)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(r&&!(e=>"init"===e["event.workflow"]&&"request"===e["event.type"]||"Chat"===e["event.workflow"]&&"load"===e["event.type"]&&"window"===e["event.subtype"])(r)){if("launch"===(null===(n=r["event.subcategory"])||void 0===n?void 0:n.toLowerCase())&&"init"===(null===(a=r["event.workflow"])||void 0===a?void 0:a.toLowerCase())){var d,s;if("render"===(null===(d=r["event.type"])||void 0===d?void 0:d.toLowerCase()))return void(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","event.subcategory","event.subtype","content.name","event.type"])),eventAction:l(e,["event.subcategory","content.name","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=c(e),window.digitalData.chat.chatInfo.chatConversationUnread=e["content.name"],v(e)})(r);if("click"===(null===(s=r["event.type"])||void 0===s?void 0:s.toLowerCase()))return void(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","event.subcategory","event.subtype","content.name","event.type"])),eventAction:l(e,["event.subcategory","event.subtype","content.name","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=c(e),window.digitalData.chat.chatInfo.chatConversationUnread=e["content.name"],v(e)})(r)}"auth-subproduct"!==(null===(o=r["content.name"])||void 0===o?void 0:o.toLowerCase())?"5-star-survey"!==(null===(i=r["content.name"])||void 0===i?void 0:i.toLowerCase())?r["event.error_code"]&&r["event.error_type"]?(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","event.subtype","event.type"]),":error"),eventAction:"".concat(l(e,["event.subcategory","event.subtype","event.type"]),":error")}},window.digitalData.chat={},window.digitalData.chat.chatInfo=c(e),window.digitalData.chat.chatInfo.chatErrorCode=e["event.error_code"],window.digitalData.chat.chatInfo.chatErrorType=e["event.error_type"],window.digitalData.chat.chatInfo.chatErrorDescription=e["event.error_desc"],v(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","content.name","event.subtype","event.type"])),eventAction:l(e,["event.subcategory","content.name","event.subtype","event.type"])}},window.digitalData.chat={},window.digitalData.chat.chatInfo=c(e),v(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","content.name","event.subtype","event.type","content.id"])),eventAction:l(e,["event.subcategory","content.name","event.subtype","event.type"])}},v(e)})(r):(e=>{window.digitalData.primaryEvent={eventInfo:{eventName:"chat:".concat(l(e,["event.workflow","content.name","event.subtype","event.type"])),eventAction:l(e,["event.subcategory","content.name","event.subtype","event.type"])}},window.digitalData.chat={chatInfo:{primaryProduct:{productName:e["event.subtype"]}}},v(e)})(r)}}}})},u=!1,p=()=>{u||(document.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=document.querySelector(".adbmsg-tooltip");e&&"none"!==e.style.display&&(e.style.display="none")}})),u=!0)},g=async(e,t,n,c)=>{var v;if(null===e||void 0===e||!e.jarvis)return;a=t,o=n;const l=null===(v=(i=c)("jarvis-on-demand"))||void 0===v?void 0:v.toLowerCase(),u=l?"on"===l:e.jarvis.onDemand;document.addEventListener("click",(async t=>{const n=t.target.closest('[href*="#open-jarvis-chat"]');if(n){if(t.target.closest(".global-footer"))try{const e=n.getAttribute("data-jarvis-config");d=e?JSON.parse(e):null}catch(a){}t.preventDefault(),u&&!r?(await w(e,t,u),p()):s(t)}})),u||(await w(e),p())}}}]);
//# sourceMappingURL=2525.8626dbf5.chunk.js.map