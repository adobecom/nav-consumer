"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[638],{8257:(e,t,a)=>{a.r(t),a.d(t,{closeModal:()=>v,default:()=>y,delayedModal:()=>b,findDetails:()=>u,getHashParams:()=>f,getModal:()=>w,sendAnalytics:()=>m});var l=a(6962),o=a(3220),n=(a(722),'a:not(.hide-video), button:not([disabled], .locale-modal-v2 .paddle), input, textarea, select, details, [tabindex]:not([tabindex="-1"])'),i='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n  <g transform="translate(-10500 3403)">\n    <circle cx="10" cy="10" r="10" transform="translate(10500 -3403)"/>\n    <line y1="8" x2="8" transform="translate(10506 -3397)" fill="none" stroke-width="2"/>\n    <line x1="8" y1="8" transform="translate(10506 -3397)" fill="none" stroke-width="2"/>\n  </g>\n</svg>',d=!1,c="",r=!1,s=new Set;function u(e,t){var a;let l=e.replace("#",""),n=t||document.querySelector('a[data-modal-hash="'.concat(e,'"]')),i=(null===n||void 0===n?void 0:n.dataset.modalPath)||(0,o.s)((0,o.f)("-".concat(l))),d=(null===n||void 0===n?void 0:n.getAttribute("aria-label"))||(null===(a=document.querySelector('a[data-modal-id="'.concat(l,'"]')))||void 0===a?void 0:a.getAttribute("aria-label"));return{id:l,path:i,isHash:e===window.location.hash,title:d?"Modal: ".concat(d):null}}function h(e){var t;let a={xdm:{},data:{web:{webInteraction:{name:null===e||void 0===e?void 0:e.type}}}};null!==e&&void 0!==e&&e.data&&(a.data._adobe_corpnew={digitalData:e.data}),null===(t=window._satellite)||void 0===t||t.track("event",a)}function m(e){var t;null!==(t=window._satellite)&&void 0!==t&&t.track?h(e):window.addEventListener("alloy_sendEvent",(()=>{h(e)}),{once:!0})}function v(e){var t;let{id:a}=e,l=new Event("milo:modal:closed");window.dispatchEvent(l),document.querySelectorAll("#".concat(a)).forEach((e=>{var t;if(e.classList.contains("dialog-modal")){let t=document.querySelector("#".concat(a,"~.modal-curtain"));t&&t.remove(),e.remove()}null===(t=document.querySelector('[data-modal-hash="#'.concat(e.id,'"]')))||void 0===t||t.focus()})),document.querySelectorAll(".modal-curtain").length||document.body.classList.remove("disable-scroll"),[...document.querySelectorAll("header, main, footer")].forEach((e=>e.removeAttribute("aria-disabled"))),(window.location.hash.replace("#","")===e.id||"checkout-link-modal"===e.id)&&window.history.pushState(window.history.state,document.title,"".concat(window.location.pathname).concat(window.location.search).concat(c?"".concat(c):"")),c&&(c=""),r&&(null!==(t=document.querySelector("#onetrust-banner-sdk"))&&void 0!==t&&t.focus(),r=!1)}async function w(e,t){var c;if(!(null!==e&&void 0!==e&&e.path&&null!==e&&void 0!==e&&e.id||t))return null;let{id:h,deepLink:m}=e||t;r=m,s.add(h);let w=(0,o.r)("div",{class:"dialog-modal",id:h,role:"dialog","aria-modal":!0}),f=new Event("milo:modal:loaded");if(t&&!(null!==t&&void 0!==t&&t.title)&&(t.title=null===(c=u(window.location.hash,null))||void 0===c?void 0:c.title),t&&function(e,t){let{miloLibs:a,codeRoot:l}=(0,o.i)();(0,o.u)("".concat(a||l,"/blocks/modal/modal.css")),e.id&&(t.id=e.id),e.title&&t.setAttribute("aria-label",e.title),e.class&&t.classList.add(e.class),e.closeEvent&&t.addEventListener(e.closeEvent,(()=>{v(t)})),t.append(e.content)}(t,w),e&&await async function(e,t){let l=e;if(e.includes("/federal/")){let{getFederatedUrl:t}=await a.e(7563).then(a.bind(a,9944));l=t(e)}let n=(0,o.r)("a",{href:l});t.append(n);let{default:i}=await a.e(2042).then(a.bind(a,2042));await i(n)}(e.path,w),d){w.classList.add("delayed-modal");let e=w.querySelector("div.media");if(e){e.classList.add("in-modal");let{miloLibs:t,codeRoot:a}=(0,o.i)();(0,o.u)("".concat(t||a,"/styles/rounded-corners.css"))}}let b,y=null!==h&&void 0!==h&&h.includes("locale-modal")?"localeModal":"milo",p=window.location.hash?window.location.hash.replace("#",""):y,g=(0,o.r)("button",{class:"dialog-close","aria-label":"Close","daa-ll":"".concat(p,":modalClose:buttonClose")},i),L=(0,o.r)("div",{class:"dialog-focus-placeholder",tabindex:0}),E={focusVisible:!0},S=[...w.querySelectorAll(n)],k=w.querySelector("h1, h2, h3, h4, h5");S.length&&function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(S[0])?b=S[0]:k?(k.setAttribute("tabIndex",0),b=k):b=g;let A=!1;if(g.addEventListener("keydown",(e=>{"Tab"!==e.key||!e.shiftKey||(A=!0,L.focus(E))})),L.addEventListener("focus",(()=>{A||g.focus(E),A=!1})),g.addEventListener("click",(e=>{v(w),e.preventDefault()})),w.addEventListener("keydown",(e=>{"Escape"===e.key&&v(w)})),(0,l.c)(w,"".concat(h,"-modal"),(0,o.i)()),w.prepend(g),w.append(L),document.body.append(w),s.delete(h),b.focus({preventScroll:!0,...E}),window.dispatchEvent(f),!w.classList.contains("curtain-off")){document.body.classList.add("disable-scroll");let e=(0,o.r)("div",{class:"modal-curtain is-open","daa-ll":"".concat(p,":modalClose:curtainClose")});e.addEventListener("click",(t=>{t.target===e&&v(w)})),w.insertAdjacentElement("afterend",e),[...document.querySelectorAll("header, main, footer")].forEach((e=>e.setAttribute("aria-disabled","true")))}let q=w.querySelector("iframe");if(q){let l=(null===t||void 0===t?void 0:t.title)||(null===e||void 0===e?void 0:e.title);if(l&&(q.setAttribute("title",l),w.setAttribute("aria-label",l)),q.title?w.setAttribute("aria-label",q.title):q.onload=()=>{try{var e;if(new URL(q.src).origin!==window.location.origin&&q.title)return void w.setAttribute("aria-label",q.title);let t=null===(e=(q.contentDocument||q.contentWindow.document).querySelector("h1, h2, h3, h4, h5, h6"))||void 0===e?void 0:e.textContent.trim();t&&w.setAttribute("aria-label",t),!q.title&&t&&(q.title=t)}catch{}},w.classList.contains("commerce-frame")||w.classList.contains("dynamic-height")){let{default:e}=await a.e(5527).then(a.bind(a,5527));await e({dialog:w,iframe:q})}else q.style.height="100%";(null===t||void 0===t?void 0:t.closeEvent)||w.addEventListener("iframe:modal:closed",(()=>v(w)))}else{let e=w.querySelector("h1, h2, h3, h4, h5, h6");e&&w.setAttribute("aria-label",e.textContent.trim())}return w}function f(e){return e?e.split(":").reduce(((e,t)=>{if(t.startsWith("#"))e.hash=t;else{let[a,l]=t.split("=");"delay"===a&&(e.delay=1e3*parseInt(l,10))}return e}),{}):{}}function b(e){let{hash:t,delay:a}=f(null===e||void 0===e?void 0:e.dataset.modalHash);if(void 0===a||!t)return!1;d=!0;let l=new Event("".concat(t,":modalOpen")),o=window.sessionStorage.getItem("shown:".concat(t));return e.dataset.modalHash=t,e.href=t,null!==o&&void 0!==o&&o.includes(window.location.pathname)||setTimeout((()=>{window.location.replace(t),m(l),window.sessionStorage.setItem("shown:".concat(t),"".concat(o||""," ").concat(window.location.pathname))}),a),!0}function y(e){var t;let{modalHash:a,modalPath:l}=e.dataset;if("remove"===(null===(t=(0,o.i)().mep)||void 0===t||null===(t=t.fragments)||void 0===t||null===(t=t[l])||void 0===t?void 0:t.action)||b(e)||window.location.hash!==a||document.querySelector("div.dialog-modal".concat(a))||s.has(null===a||void 0===a?void 0:a.replace("#","")))return null;let n=u(window.location.hash,e);return n.deepLink=!0,n?w(n):null}window.addEventListener("hashchange",(e=>{if(window.location.hash){var t;let a=u(window.location.hash,null);if(a&&w(a),null!==(t=e.oldURL)&&void 0!==t&&t.includes("#")){let{hash:t}=new URL(e.oldURL);(t.includes("=")||!document.querySelector("".concat(t,":not(.dialog-modal)")))&&(c=t)}}else try{let t=new URL(e.oldURL),a=document.querySelector(".dialog-modal".concat(t.hash));a&&v(a)}catch{}}))}}]);
//# sourceMappingURL=638.2790046e.chunk.js.map