"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8481,5024],{5024:(e,t,n)=>{n.r(t),n.d(t,{dynamicNav:()=>o,foundDisableValues:()=>s});var a=n(775);function s(){const e=(0,a.getMetadata)("dynamic-nav-disable");if(!e)return!1;const t=e.split(",").map((e=>e.split(";"))).filter((e=>{let[t,n]=e;const s=(0,a.getMetadata)(t.toLowerCase());return s&&s.toLowerCase()===n.toLowerCase()}));return!!t.length&&t}function o(e,t){const n="gnavSource",o="dynamicNavKey",i="dynamicNavGroup";if(s())return e;const r=(0,a.getMetadata)("dynamic-nav"),c=(0,a.getMetadata)("dynamic-nav-group");return"reset"===r?(window.sessionStorage.removeItem(n,e),window.sessionStorage.removeItem(o,t),window.sessionStorage.removeItem(i,c),e):"entry"===r?(window.sessionStorage.setItem(n,e),window.sessionStorage.setItem(o,t),c&&window.sessionStorage.setItem(i,c),e):"on"===r&&c&&!function(e){const t=window.sessionStorage.getItem("dynamicNavGroup");return!(!e||!t)&&t.toLowerCase()===e.toLowerCase()}(c)||"on"!==r||t!==window.sessionStorage.getItem(o)?e:window.sessionStorage.getItem(n)||e}},8481:(e,t,n)=>{n.r(t),n.d(t,{ACTIVE:()=>o,ENABLED:()=>i,INACTIVE:()=>r,RESET:()=>c,default:()=>u,tooltipInfo:()=>d});var a=n(5024),s=n(775),o=(n(6850),"active"),i="enabled",r="inactive",c="reset",d={active:"Displayed in green, this status appears when a user is on an entry page or a page with the Dynamic Nav enabled, indicating that the nav is fully functioning.",enabled:'Displayed in yellow, this status indicates that the Dynamic Nav is set to "on," but the user has not yet visited an entry page.',inactive:"Displayed in red, this status indicates that the Dynamic Nav is either not configured or has been disabled.",reset:"Displayed in grey, this status indicates that this page resets the Dynamic Nav."},p=e=>{if(!e.startsWith("https://"))return"";return new URL(e).pathname},l=e=>{const t=window.sessionStorage.getItem("gnavSource"),n=(0,s.getMetadata)("gnav-source")||"Metadata not found: site gnav source",l=(0,s.getMetadata)("dynamic-nav"),u=((e,t,n)=>"on"===e&&t||n)(l,t,n),g=(0,s.getMetadata)("dynamic-nav-disable"),v=(0,a.foundDisableValues)(),h=(0,s.getMetadata)("dynamic-nav-group")||"Group not set",y=window.sessionStorage.getItem("dynamicNavGroup"),m=y&&h.toLowerCase()===y.toLowerCase(),w=m?"Yes":"No",f=((e,t,n)=>"entry"===e?o:"reset"===e?c:t?r:"on"===e&&n?o:"on"!==e||n?r:i)(l,v.length>=1||!m&&"Group not set"!==h,t),S=(0,s.createTag)("div",{class:"dynamic-nav-status"});return S.innerHTML='\n    <span class="title"><span class="dns-badge"></span>Dynamic Nav</span>\n    <section class="details hidden">\n      <span class="dns-close"></span>\n      <div class="message additional-info">\n        <p>Additional Info:\n          <span>'.concat(d[f],'</span>\n        </p>\n      </div>\n      <p class="status">Status: <span>').concat(f,'</span></p> \n      <p class="setting">Setting: <span>').concat(l,'</span></p>\n      <p class="group">Group: <span>').concat(h,'</span></p>\n      <p class="group-match">Group matches stored group: <span>').concat(w,'</span></p>\n      <p class="consumer-key">Consumer key: <span>').concat(e,'</span></p>\n      <div class="nav-source-info">\n        <p>Authored and stored source match: <span>').concat(n===u,"</span></p>\n        <p>Authored Nav Source:\n        <span>").concat(p(n),"</span></p>\n        <p>Stored Nav Source:\n        <span>").concat(p(u),'</span></p>\n      </div>\n      <div class="disable-values">\n      </div>\n    </section>\n  '),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||0===e.length)return;const a=e.split(","),o=(0,s.createTag)("table"),i=Array.isArray(n)&&n.flat();o.innerHTML="\n      <caption>Disable Values</caption>\n      <thead>\n        <tr>\n          <th>Key</th>\n          <th>Value</th>\n          <th>Match?</th>\n        </tr>\n      </thead>\n      <tbody>\n      </tbody>";const r=o.querySelector("tbody");a.forEach((e=>{const t=(0,s.createTag)("tr"),[n,a]=e.split(";"),o=(0,s.createTag)("td"),c=(0,s.createTag)("td"),d=(0,s.createTag)("td");o.innerText=n,c.innerText=a,d.innerText=i&&i.includes(a)?"yes":"no",t.append(o,c,d),r.append(t)})),t.append(o)}(g,S.querySelector(".disable-values"),v),S.classList.add(f),S.addEventListener("click",(()=>{S.querySelector(".details").classList.toggle("hidden"),S.querySelector(".dns-badge").classList.toggle("dns-open")})),S};async function u(){const{dynamicNavKey:e}=(0,s.getConfig)(),t=l(e),n=document.querySelector(".global-navigation");t.querySelector(".dns-close").addEventListener("click",(()=>{n.removeChild(t)})),n&&n.appendChild(t)}}}]);
//# sourceMappingURL=8481.02c0bf15.chunk.js.map