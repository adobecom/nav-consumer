{"version":3,"file":"static/js/1946.89e31a14.chunk.js","mappings":"+QAKMA,G,OAAa,2IACbC,EAAA,kaAQFC,GAAiB,EACjBC,EAAW,GACXC,GAAa,EACXC,EAAmB,IAAIC,IAEtB,SAASC,EAAYC,EAAMC,GAAI,IAAAC,EACpC,IAAMC,EAAKH,EAAKI,QAAQ,IAAK,IACvBC,EAAIJ,GAAMK,SAASC,cAAA,sBAAAC,OAAoCR,EAAI,OAC3DS,GAAO,OAAAJ,QAAA,IAAAA,OAAA,EAAAA,EAAGK,QAAQC,aAAaC,EAAAA,EAAAA,IAAaC,EAAAA,EAAAA,GAAA,IAAAL,OAAgBL,KAC5DW,GAAY,OAAAT,QAAA,IAAAA,OAAA,EAAAA,EAAGU,aAAa,iBAAkE,QAAtDb,EAAKI,SAASC,cAAA,oBAAAC,OAAkCL,EAAE,cAAI,IAAAD,OAAA,EAAjDA,EAAoDa,aAAa,eACpH,MAAO,CACLC,GAAAb,EACAc,KAAAR,EACAS,OAAQlB,IAASmB,OAAOC,SAASC,KACjCC,MAAOR,EAAA,UAAAN,OAAsBM,GAAc,KAE/C,CAEA,SAASS,EAAmBvB,GAAO,IAAAwB,EACjC,IAAMvB,EAAO,CACXwB,IAAK,CAAC,EACNC,KAAM,CAAEC,IAAK,CAAEC,eAAgB,CAAEC,KAAM,OAAA7B,QAAA,IAAAA,OAAA,EAAAA,EAAO8B,SAE5C,OAAA9B,QAAA,IAAAA,GAAAA,EAAO0B,OAAMzB,EAAKyB,KAAKK,eAAiB,CAAEC,YAAahC,EAAM0B,OAC1D,QAD+DF,EACtEL,OAAOc,kBAAA,IAAAT,GAAPA,EAAmBU,MAAM,QAASjC,EACpC,CAEO,SAASkC,EAAcnC,GAAO,IAAAoC,EACxB,QAAPA,EAAAjB,OAAOc,kBAAA,IAAAG,GAAPA,EAAmBF,MACrBX,EAAmBvB,GAEnBmB,OAAOkB,iBAAiB,mBAAmB,KACzCd,EAAmBvB,EACrB,GAAG,CAAEsC,MAAM,GAEf,CAEO,SAASC,EAAWvC,GAAO,IAAAwC,EAChC,IAAQxB,GAAAf,GAAOD,EACTG,EAAa,IAAIsC,MAAM,qBAC7BtB,OAAOuB,cAAcvC,GAErBG,SAASqC,iBAAA,IAAAnC,OAAqBP,IAAM2C,SAASnC,IAAQ,IAAAoC,EACnD,GAAIpC,EAAIqC,UAAUC,SAAS,gBAAiB,CAC1C,IAAMjC,EAAeR,SAASC,cAAA,IAAAC,OAAkBP,EAAE,oBAC9Ca,GACFA,EAAakC,SAEfvC,EAAIuC,QACN,CACuD,QAAvDH,EAAAvC,SAASC,cAAA,sBAAAC,OAAoCC,EAAIO,GAAE,cAAI,IAAA6B,GAAvDA,EAA0DI,OAC5D,IAEK3C,SAASqC,iBAAiB,kBAAkBO,QAC/C5C,SAAS6C,KAAKL,UAAUE,OAAO,kBAGjC,IAAI1C,SAASqC,iBAAiB,yBAC3BC,SAASnC,GAAYA,EAAQ2C,gBAAgB,oBAEjCjC,OAAOC,SAASC,KAAKjB,QAAQ,IAAK,MAClCJ,EAAMgB,IAAmB,wBAAbhB,EAAMgB,KAC/BG,OAAOkC,QAAQC,UAAUnC,OAAOkC,QAAQE,MAAOjD,SAASgB,MAAA,GAAAd,OAAUW,OAAOC,SAASoC,UAAQhD,OAAGW,OAAOC,SAASqC,SAE3G9D,IACFwB,OAAOC,SAASC,KAAO,GACvBF,OAAOC,SAASC,KAAO1B,EACvBA,EAAW,IAGTC,IAC2C,QAA7C4C,EAAAlC,SAASC,cAAc,+BAAsB,IAAAiC,GAA7CA,EAAgDS,QAChDrD,GAAa,EAEjB,CAwCA,eAAsB8D,EAAS1D,EAASC,GAAQ,IAAA0D,EAC9C,KAAO,OAAA3D,QAAA,IAAAA,GAAAA,EAASiB,MAAQ,OAAAjB,QAAA,IAAAA,GAAAA,EAASgB,IAAOf,GAAS,OAAO,KACxD,IAAQe,GAAAb,EAAIyD,SAAAvD,GAAaL,GAAWC,EACpCL,EAAaS,EAEbR,EAAiBgE,IAAI1D,GACrB,IAAMM,GAASqD,EAAAA,EAAAA,GAAU,MAAO,CAAEC,MAAO,eAAgB/C,GAAAb,EAAI6D,KAAM,SAAU,cAAc,IACrFlD,EAAc,IAAI2B,MAAM,qBAK9B,GAHIxC,KAAW,OAAAA,QAAA,IAAAA,GAAAA,EAAQqB,SAAOrB,EAAOqB,MAA8C,QAA9CqC,EAAQ5D,EAAYoB,OAAOC,SAASC,KAAM,aAAI,IAAAsC,OAAA,EAAtCA,EAAyCrC,OAClFrB,GAtCN,SAAwBD,EAAQC,GAC9B,IAAQgE,SAAA9D,EAAU+D,SAAA7D,IAAa8D,EAAAA,EAAAA,MAC/BC,EAAAA,EAAAA,GAAA,GAAA5D,OAAaL,GAAYE,EAAQ,4BAC7BL,EAAOgB,KAAIf,EAAOe,GAAKhB,EAAOgB,IAC9BhB,EAAOsB,OAAOrB,EAAOoE,aAAa,aAAcrE,EAAOsB,OACvDtB,EAAO+D,OAAO9D,EAAO6C,UAAUe,IAAI7D,EAAO+D,OAC1C/D,EAAOsE,YACTrE,EAAOoC,iBAAiBrC,EAAOsE,YAAY,KACzC/B,EAAWtC,EACb,IAEFA,EAAOsE,OAAOvE,EAAOwE,QACvB,CA0BcC,CAAexE,EAAQQ,GAC/BT,SAzBN0E,eAA4B1E,EAAMC,GAChC,IAAIE,EAAOH,EACX,GAAIA,EAAK2E,SAAS,aAAc,CAC9B,IAAQC,gBAAA9D,SAA0B,+BAClCX,EAAOW,EAAgBd,EACzB,CACA,IAAMK,GAAQyD,EAAAA,EAAAA,GAAU,IAAK,CAAEe,KAAA1E,IAC/BF,EAAOsE,OAAOlE,GAGd,IAAQyE,QAASrE,SAAsB,qCACjCA,EAAYJ,EACpB,CAaqB0E,CAAa/E,EAAQiB,KAAMR,GAC1Cf,EAAgB,CAClBe,EAAOqC,UAAUe,IAAI,iBACrB,IAAMmB,EAAavE,EAAOF,cAAc,aACxC,GAAIyE,EAAY,CACdA,EAAWlC,UAAUe,IAAI,YACzB,IAAQI,SAAAgB,EAAUf,SAAAgB,IAAaf,EAAAA,EAAAA,MAE/BC,EAAAA,EAAAA,GAAA,GAAA5D,OADayE,GAAYC,EACR,+BACnB,CACF,CAEA,IAYIC,EAZEC,EAAc,OAAAjF,QAAA,IAAAA,GAAAA,EAAIwE,SAAS,gBAAkB,cAAgB,OAC7DU,EAAqBlE,OAAOC,SAASC,KAAOF,OAAOC,SAASC,KAAKjB,QAAQ,IAAK,IAAMgF,EACpFE,GAAQxB,EAAAA,EAAAA,GAAU,SAAU,CAChCC,MAAO,eACP,aAAc,QACd,YAAAvD,OAAa6E,EAAkB,4BAC9B5F,GACG8F,GAAmBzB,EAAAA,EAAAA,GAAU,MAAO,CAAEC,MAAO,2BAA4ByB,SAAU,IAEnFC,EAAe,CAAEC,cAAc,GAC/BC,EAAmB,IAAIlF,EAAOkC,iBAAiBnD,IAC/CoG,EAAcnF,EAAOF,cAAc,sBAGrCoF,EAAiBzC,QA3EvB,SAAyBlD,GACvB,IAAMC,EAAOD,EAAQ6F,wBACrB,OACE5F,EAAK6F,KAAO,GACT7F,EAAK8F,MAAQ,GACb9F,EAAK+F,SAAW7E,OAAO8E,aAAe3F,SAAS4F,gBAAgBC,eAC/DlG,EAAKmG,QAAUjF,OAAOkF,YAAc/F,SAAS4F,gBAAgBI,YAEpE,CAmEiCC,CAAgBZ,EAAiB,IAC9DR,EAAiBQ,EAAiB,GACzBC,GACTA,EAAYvB,aAAa,WAAY,GACrCc,EAAiBS,GAEjBT,EAAiBG,EAGnB,IAAIkB,GAAkB,EA+BtB,GA7BAlB,EAAMjD,iBAAiB,WAAY2C,IACf,QAAdA,EAAMyB,MAAkBzB,EAAM0B,WAClCF,GAAkB,EAClBjB,EAAiBtC,MAAMwC,GACzB,IAEAF,EAAiBlD,iBAAiB,SAAS,KACpCmE,GAAiBlB,EAAMrC,MAAMwC,GAClCe,GAAkB,CACpB,IAEAlB,EAAMjD,iBAAiB,SAAU2C,IAC/BzC,EAAW9B,GACXuE,EAAE2B,gBACJ,IAEAlG,EAAO4B,iBAAiB,WAAY2C,IAChB,WAAdA,EAAMyB,KACRlE,EAAW9B,EAEf,KACAmG,EAAAA,EAAAA,GAAyBnG,EAAA,GAAAD,OAAWL,EAAE,WAAUgE,EAAAA,EAAAA,MAChD1D,EAAOoG,QAAQvB,GACf7E,EAAO8D,OAAOgB,GACdjF,SAAS6C,KAAKoB,OAAO9D,GACrBZ,EAAiBiH,OAAO3G,GACxBgF,EAAelC,MAAM,CAAE8D,eAAe,KAAStB,IAC/CtE,OAAOuB,cAAc5B,IAEhBL,EAAOqC,UAAUC,SAAS,eAAgB,CAC7CzC,SAAS6C,KAAKL,UAAUe,IAAI,kBAC5B,IAAMmB,GAAUlB,EAAAA,EAAAA,GAAU,MAAO,CAC/BC,MAAO,wBACP,YAAAvD,OAAa6E,EAAkB,8BAEjCL,EAAQ3C,iBAAiB,SAAU4C,IAC7BA,EAAE+B,SAAWhC,GAASzC,EAAW9B,EACvC,IACAA,EAAOwG,sBAAsB,WAAYjC,GACzC,IAAI1E,SAASqC,iBAAiB,yBAC3BC,SAASqC,GAAYA,EAAQZ,aAAa,gBAAiB,SAChE,CAEA,IAAM6C,EAASzG,EAAOF,cAAc,UACpC,GAAI2G,EAAQ,CACV,IAAMlC,GAAQ,OAAA/E,QAAA,IAAAA,OAAA,EAAAA,EAAQqB,SAAS,OAAAtB,QAAA,IAAAA,OAAA,EAAAA,EAASsB,OA0BxC,GAzBI0D,IACFkC,EAAO7C,aAAa,QAASW,GAC7BvE,EAAO4D,aAAa,aAAcW,IAGhCkC,EAAO5F,MACTb,EAAO4D,aAAa,aAAc6C,EAAO5F,OAEzC4F,EAAOC,OAAS,KACd,IAAI,IAAAC,EACF,GAAK,IAAIC,IAAIH,EAAOI,KAAKC,SAAWpG,OAAOC,SAASmG,QAAWL,EAAO5F,MAEpE,YADAb,EAAO4D,aAAa,aAAc6C,EAAO5F,OAK3C,IAAM4D,EAAgE,QAAhEkC,GADYF,EAAOM,iBAAmBN,EAAOO,cAAcnH,UACjCC,cAAc,iCAAwB,IAAA6G,OAAA,EAAhEA,EAAmEM,YAAYC,OACjFzC,GAAezE,EAAO4D,aAAa,aAAca,IAChDgC,EAAO5F,OAAS4D,IAAegC,EAAO5F,MAAQ4D,EACrD,CAAE,MAEF,GAIAzE,EAAOqC,UAAUC,SAAS,mBAAqBtC,EAAOqC,UAAUC,SAAS,kBAAmB,CAC9F,IAAQ+B,QAASG,SAAsC,qCACjDA,EAA4B,CAAE2C,OAAAnH,EAAQoH,OAAAX,GAC9C,MAIEA,EAAOY,MAAMC,OAAS,QAEnB,OAAA9H,QAAA,IAAAA,OAAA,EAAAA,EAAQqE,aAAY7D,EAAO4B,iBAAiB,uBAAuB,IAAME,EAAW9B,IAC3F,KAAO,CACL,IAAMuE,EAAevE,EAAOF,cAAc,0BACtCyE,GAAcvE,EAAO4D,aAAa,aAAcW,EAAa0C,YAAYC,OAC/E,CAEA,OAAOlH,CACT,CAEO,SAASuH,EAAchI,GAC5B,OAAKA,EACEA,EAAQiI,MAAM,KAAKC,QAAO,CAACjI,EAAQE,KACxC,GAAIA,EAAKgI,WAAW,KAClBlI,EAAOoB,KAAOlB,MACT,CACL,IAAOE,EAAKI,GAAON,EAAK8H,MAAM,KAClB,UAAR5H,IACFJ,EAAOmI,MAA4B,IAApBC,SAAS5H,EAAK,IAEjC,CACA,OAAOR,CACT,GAAG,CAAC,GAXiB,CAAC,CAYxB,CAEO,SAASqI,EAAatI,GAC3B,IAAQqB,KAAApB,EAAMmI,MAAAjI,GAAU6H,EAAc,OAAAhI,QAAA,IAAAA,OAAA,EAAAA,EAAIU,QAAQ6H,WAClD,QAAc,IAAVpI,IAAwBF,EAAM,OAAO,EACzCP,GAAiB,EACjB,IAAMW,EAAiB,IAAIoC,MAAA,GAAAjC,OAASP,EAAI,eAClCQ,EAAuBU,OAAOqH,eAAeC,QAAA,SAAAjI,OAAiBP,IACpE,OAAAD,EAAGU,QAAQ6H,UAAYtI,EACvBD,EAAG6E,KAAO5E,EACL,OAAAQ,QAAA,IAAAA,GAAAA,EAAsBkE,SAASxD,OAAOC,SAASoC,WAClDkF,YAAW,KACTvH,OAAOC,SAAShB,QAAQH,GACxBkC,EAAc9B,GACdc,OAAOqH,eAAeG,QAAA,SAAAnI,OAAiBP,GAAI,GAAAO,OAAOC,GAAwB,GAAE,KAAAD,OAAIW,OAAOC,SAASoC,UAClG,GAAGrD,IAEE,CACT,CAGe,SAARyI,EAAsB5I,GAAI,IAAA6I,EAC/B,IAAQN,UAAAtI,EAAWU,UAAAR,GAAcH,EAAGU,QAGpC,GAFwD,YAAxC,QAAZmI,GAAA1E,EAAAA,EAAAA,KAAY2E,WAAA,IAAAD,GAAK,QAALA,EAAZA,EAAiBE,iBAAA,IAAAF,GAAqB,QAArBA,EAAjBA,EAA6B1I,UAAS,IAAA0I,OAAA,EAAtCA,EAAyCG,SACzCV,EAAatI,IAAOmB,OAAOC,SAASC,OAASpB,GAAaK,SAASC,cAAA,mBAAAC,OAAiCP,KACpGJ,EAAiBoJ,IAAI,OAAAhJ,QAAA,IAAAA,OAAA,EAAAA,EAAWG,QAAQ,IAAK,KAAM,OAAO,KAC9D,IAAMC,EAAUN,EAAYoB,OAAOC,SAASC,KAAMrB,GAClD,OAAAK,EAAQuD,UAAW,EACZvD,EAAUqD,EAASrD,GAAW,IACvC,CAGAc,OAAOkB,iBAAiB,cAAerC,IACrC,GAAKmB,OAAOC,SAASC,KAQd,KAAA6H,EACL,IAAMjJ,EAAUF,EAAYoB,OAAOC,SAASC,KAAM,MAC9CpB,GAASyD,EAASzD,IAChB,QAAFiJ,EAAAlJ,EAAEmJ,cAAA,IAAAD,OAAA,EAAFA,EAAUvE,SAAS,QACrBhF,EAAW,IAAI0H,IAAIrH,EAAEmJ,QAAQ9H,KAEjC,MAbE,IACE,IAAMpB,EAAM,IAAIoH,IAAIrH,EAAEmJ,QAChBhJ,EAASG,SAASC,cAAA,gBAAAC,OAA8BP,EAAIoB,OACtDlB,GAAQoC,EAAWpC,EACzB,CAAE,MAEF,I","sources":["../node_modules/@adobecom/blocks/modal/modal.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\n/* eslint-disable import/no-cycle */\nimport { createTag, getMetadata, localizeLink, loadStyle, getConfig } from '../../utils/utils.js';\nimport { decorateSectionAnalytics } from '../../martech/attributes.js';\n\nconst FOCUSABLES = 'a:not(.hide-video), button:not([disabled], .locale-modal-v2 .paddle), input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])';\nconst CLOSE_ICON = `<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n  <g transform=\"translate(-10500 3403)\">\n    <circle cx=\"10\" cy=\"10\" r=\"10\" transform=\"translate(10500 -3403)\"/>\n    <line y1=\"8\" x2=\"8\" transform=\"translate(10506 -3397)\" fill=\"none\" stroke-width=\"2\"/>\n    <line x1=\"8\" y1=\"8\" transform=\"translate(10506 -3397)\" fill=\"none\" stroke-width=\"2\"/>\n  </g>\n</svg>`;\n\nlet isDelayedModal = false;\nlet prevHash = '';\nlet isDeepLink = false;\nconst dialogLoadingSet = new Set();\n\nexport function findDetails(hash, el) {\n  const id = hash.replace('#', '');\n  const a = el || document.querySelector(`a[data-modal-hash=\"${hash}\"]`);\n  const path = a?.dataset.modalPath || localizeLink(getMetadata(`-${id}`));\n  const ariaLabel = a?.getAttribute('aria-label') || document.querySelector(`a[data-modal-id=\"${id}\"]`)?.getAttribute('aria-label');\n  return {\n    id,\n    path,\n    isHash: hash === window.location.hash,\n    title: ariaLabel ? `Modal: ${ariaLabel}` : null,\n  };\n}\n\nfunction fireAnalyticsEvent(event) {\n  const data = {\n    xdm: {},\n    data: { web: { webInteraction: { name: event?.type } } },\n  };\n  if (event?.data) data.data._adobe_corpnew = { digitalData: event.data };\n  window._satellite?.track('event', data);\n}\n\nexport function sendAnalytics(event) {\n  if (window._satellite?.track) {\n    fireAnalyticsEvent(event);\n  } else {\n    window.addEventListener('alloy_sendEvent', () => {\n      fireAnalyticsEvent(event);\n    }, { once: true });\n  }\n}\n\nexport function closeModal(modal) {\n  const { id } = modal;\n  const closeEvent = new Event('milo:modal:closed');\n  window.dispatchEvent(closeEvent);\n\n  document.querySelectorAll(`#${id}`).forEach((mod) => {\n    if (mod.classList.contains('dialog-modal')) {\n      const modalCurtain = document.querySelector(`#${id}~.modal-curtain`);\n      if (modalCurtain) {\n        modalCurtain.remove();\n      }\n      mod.remove();\n    }\n    document.querySelector(`[data-modal-hash=\"#${mod.id}\"]`)?.focus();\n  });\n\n  if (!document.querySelectorAll('.modal-curtain').length) {\n    document.body.classList.remove('disable-scroll');\n  }\n\n  [...document.querySelectorAll('header, main, footer')]\n    .forEach((element) => element.removeAttribute('aria-disabled'));\n\n  const hashId = window.location.hash.replace('#', '');\n  if (hashId === modal.id || modal.id === 'checkout-link-modal') {\n    window.history.pushState(window.history.state, document.title, `${window.location.pathname}${window.location.search}`);\n  }\n  if (prevHash) {\n    window.location.hash = '';\n    window.location.hash = prevHash;\n    prevHash = '';\n  }\n\n  if (isDeepLink) {\n    document.querySelector('#onetrust-banner-sdk')?.focus();\n    isDeepLink = false;\n  }\n}\n\nfunction isElementInView(element) {\n  const rect = element.getBoundingClientRect();\n  return (\n    rect.top >= 0\n    && rect.left >= 0\n    && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)\n    && rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\nfunction getCustomModal(custom, dialog) {\n  const { miloLibs, codeRoot } = getConfig();\n  loadStyle(`${miloLibs || codeRoot}/blocks/modal/modal.css`);\n  if (custom.id) dialog.id = custom.id;\n  if (custom.title) dialog.setAttribute('aria-label', custom.title);\n  if (custom.class) dialog.classList.add(custom.class);\n  if (custom.closeEvent) {\n    dialog.addEventListener(custom.closeEvent, () => {\n      closeModal(dialog);\n    });\n  }\n  dialog.append(custom.content);\n}\n\nasync function getPathModal(path, dialog) {\n  let href = path;\n  if (path.includes('/federal/')) {\n    const { getFederatedUrl } = await import('../../utils/utils.js');\n    href = getFederatedUrl(path);\n  }\n  const block = createTag('a', { href });\n  dialog.append(block);\n\n  // eslint-disable-next-line import/no-cycle\n  const { default: getFragment } = await import('../fragment/fragment.js');\n  await getFragment(block);\n}\n\nexport async function getModal(details, custom) {\n  if (!((details?.path && details?.id) || custom)) return null;\n  const { id, deepLink } = details || custom;\n  isDeepLink = deepLink;\n\n  dialogLoadingSet.add(id);\n  const dialog = createTag('div', { class: 'dialog-modal', id, role: 'dialog', 'aria-modal': true });\n  const loadedEvent = new Event('milo:modal:loaded');\n\n  if (custom && !custom?.title) custom.title = findDetails(window.location.hash, null)?.title;\n  if (custom) getCustomModal(custom, dialog);\n  if (details) await getPathModal(details.path, dialog);\n  if (isDelayedModal) {\n    dialog.classList.add('delayed-modal');\n    const mediaBlock = dialog.querySelector('div.media');\n    if (mediaBlock) {\n      mediaBlock.classList.add('in-modal');\n      const { miloLibs, codeRoot } = getConfig();\n      const base = miloLibs || codeRoot;\n      loadStyle(`${base}/styles/rounded-corners.css`);\n    }\n  }\n\n  const localeModal = id?.includes('locale-modal') ? 'localeModal' : 'milo';\n  const analyticsEventName = window.location.hash ? window.location.hash.replace('#', '') : localeModal;\n  const close = createTag('button', {\n    class: 'dialog-close',\n    'aria-label': 'Close',\n    'daa-ll': `${analyticsEventName}:modalClose:buttonClose`,\n  }, CLOSE_ICON);\n  const focusPlaceholder = createTag('div', { class: 'dialog-focus-placeholder', tabindex: 0 });\n\n  const focusVisible = { focusVisible: true };\n  const focusablesOnLoad = [...dialog.querySelectorAll(FOCUSABLES)];\n  const titleOnLoad = dialog.querySelector('h1, h2, h3, h4, h5');\n  let firstFocusable;\n\n  if (focusablesOnLoad.length && isElementInView(focusablesOnLoad[0])) {\n    firstFocusable = focusablesOnLoad[0]; // eslint-disable-line prefer-destructuring\n  } else if (titleOnLoad) {\n    titleOnLoad.setAttribute('tabIndex', 0);\n    firstFocusable = titleOnLoad;\n  } else {\n    firstFocusable = close;\n  }\n\n  let shiftTabOnClose = false;\n\n  close.addEventListener('keydown', (event) => {\n    if (event.key !== 'Tab' || !event.shiftKey) return;\n    shiftTabOnClose = true;\n    focusPlaceholder.focus(focusVisible);\n  });\n\n  focusPlaceholder.addEventListener('focus', () => {\n    if (!shiftTabOnClose) close.focus(focusVisible);\n    shiftTabOnClose = false;\n  });\n\n  close.addEventListener('click', (e) => {\n    closeModal(dialog);\n    e.preventDefault();\n  });\n\n  dialog.addEventListener('keydown', (event) => {\n    if (event.key === 'Escape') {\n      closeModal(dialog);\n    }\n  });\n  decorateSectionAnalytics(dialog, `${id}-modal`, getConfig());\n  dialog.prepend(close);\n  dialog.append(focusPlaceholder);\n  document.body.append(dialog);\n  dialogLoadingSet.delete(id);\n  firstFocusable.focus({ preventScroll: true, ...focusVisible });\n  window.dispatchEvent(loadedEvent);\n\n  if (!dialog.classList.contains('curtain-off')) {\n    document.body.classList.add('disable-scroll');\n    const curtain = createTag('div', {\n      class: 'modal-curtain is-open',\n      'daa-ll': `${analyticsEventName}:modalClose:curtainClose`,\n    });\n    curtain.addEventListener('click', (e) => {\n      if (e.target === curtain) closeModal(dialog);\n    });\n    dialog.insertAdjacentElement('afterend', curtain);\n    [...document.querySelectorAll('header, main, footer')]\n      .forEach((element) => element.setAttribute('aria-disabled', 'true'));\n  }\n\n  const iframe = dialog.querySelector('iframe');\n  if (iframe) {\n    const title = custom?.title || details?.title;\n    if (title) {\n      iframe.setAttribute('title', title);\n      dialog.setAttribute('aria-label', title);\n    }\n\n    if (iframe.title) {\n      dialog.setAttribute('aria-label', iframe.title);\n    } else {\n      iframe.onload = () => {\n        try {\n          if ((new URL(iframe.src).origin !== window.location.origin) && iframe.title) {\n            dialog.setAttribute('aria-label', iframe.title);\n            return;\n          }\n\n          const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;\n          const iframeHeading = iframeDoc.querySelector('h1, h2, h3, h4, h5, h6')?.textContent.trim();\n          if (iframeHeading) dialog.setAttribute('aria-label', iframeHeading);\n          if (!iframe.title && iframeHeading) iframe.title = iframeHeading;\n        } catch (e) {\n          // Cross-origin iframe, can't access content\n        }\n      };\n    }\n\n    if (dialog.classList.contains('commerce-frame') || dialog.classList.contains('dynamic-height')) {\n      const { default: enableCommerceFrameFeatures } = await import('./modal.merch.js');\n      await enableCommerceFrameFeatures({ dialog, iframe });\n    } else {\n      /* Initially iframe height is set to 0% in CSS for the height auto adjustment feature.\n      The height auto adjustment feature is applicable only to dialogs\n      with the `commerce-frame` or `dynamic-height` classes */\n      iframe.style.height = '100%';\n    }\n    if (!custom?.closeEvent) dialog.addEventListener('iframe:modal:closed', () => closeModal(dialog));\n  } else {\n    const firstHeading = dialog.querySelector('h1, h2, h3, h4, h5, h6');\n    if (firstHeading) dialog.setAttribute('aria-label', firstHeading.textContent.trim());\n  }\n\n  return dialog;\n}\n\nexport function getHashParams(hashStr) {\n  if (!hashStr) return {};\n  return hashStr.split(':').reduce((params, part) => {\n    if (part.startsWith('#')) {\n      params.hash = part;\n    } else {\n      const [key, val] = part.split('=');\n      if (key === 'delay') {\n        params.delay = parseInt(val, 10) * 1000;\n      }\n    }\n    return params;\n  }, {});\n}\n\nexport function delayedModal(el) {\n  const { hash, delay } = getHashParams(el?.dataset.modalHash);\n  if (delay === undefined || !hash) return false;\n  isDelayedModal = true;\n  const modalOpenEvent = new Event(`${hash}:modalOpen`);\n  const pagesModalWasShownOn = window.sessionStorage.getItem(`shown:${hash}`);\n  el.dataset.modalHash = hash;\n  el.href = hash;\n  if (!pagesModalWasShownOn?.includes(window.location.pathname)) {\n    setTimeout(() => {\n      window.location.replace(hash);\n      sendAnalytics(modalOpenEvent);\n      window.sessionStorage.setItem(`shown:${hash}`, `${pagesModalWasShownOn || ''} ${window.location.pathname}`);\n    }, delay);\n  }\n  return true;\n}\n\n// Deep link-based\nexport default function init(el) {\n  const { modalHash, modalPath } = el.dataset;\n  if (getConfig().mep?.fragments?.[modalPath]?.action === 'remove') return null;\n  if (delayedModal(el) || window.location.hash !== modalHash || document.querySelector(`div.dialog-modal${modalHash}`)) return null;\n  if (dialogLoadingSet.has(modalHash?.replace('#', ''))) return null; // prevent duplicate modal loading\n  const details = findDetails(window.location.hash, el);\n  details.deepLink = true;\n  return details ? getModal(details) : null;\n}\n\n// Click-based modal\nwindow.addEventListener('hashchange', (e) => {\n  if (!window.location.hash) {\n    try {\n      const url = new URL(e.oldURL);\n      const dialog = document.querySelector(`.dialog-modal${url.hash}`);\n      if (dialog) closeModal(dialog);\n    } catch (error) {\n      /* do nothing */\n    }\n  } else {\n    const details = findDetails(window.location.hash, null);\n    if (details) getModal(details);\n    if (e.oldURL?.includes('#')) {\n      prevHash = new URL(e.oldURL).hash;\n    }\n  }\n});\n"],"names":["O","R","M","w","E","S","Set","A","t","e","_document$querySelect","o","replace","i","document","querySelector","concat","a","dataset","modalPath","q","x","s","getAttribute","id","path","isHash","window","location","hash","title","C","_window$_satellite","xdm","data","web","webInteraction","name","type","_adobe_corpnew","digitalData","_satellite","track","D","_window$_satellite2","addEventListener","once","u","_document$querySelect3","Event","dispatchEvent","querySelectorAll","forEach","_document$querySelect2","classList","contains","remove","focus","length","body","removeAttribute","history","pushState","state","pathname","search","H","_A","deepLink","add","c","class","role","miloLibs","codeRoot","h","L","setAttribute","closeEvent","append","content","F","async","includes","getFederatedUrl","href","default","_","n","d","r","m","I","k","f","b","tabindex","p","focusVisible","y","g","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","U","v","key","shiftKey","preventDefault","$","prepend","delete","preventScroll","target","insertAdjacentElement","l","onload","_querySelector","URL","src","origin","contentDocument","contentWindow","textContent","trim","dialog","iframe","style","height","P","split","reduce","startsWith","delay","parseInt","W","modalHash","sessionStorage","getItem","setTimeout","setItem","B","_h$mep","mep","fragments","action","has","_t$oldURL","oldURL"],"sourceRoot":""}