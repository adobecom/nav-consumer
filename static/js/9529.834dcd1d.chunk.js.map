{"version":3,"file":"static/js/9529.834dcd1d.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/features/branch-quick-links/branch-quick-links.js"],"sourcesContent":["import { getMetadata, loadStyle, getConfig, createTag } from '../../utils/utils.js';\n\nfunction addLoader(a) {\n  const { base } = getConfig();\n  loadStyle(`${base}/features/branch-quick-links/branch-quick-links.css`);\n  const label = createTag('div', { class: 'pbar-label' });\n  label.textContent = getMetadata('quick-link-loader-text') || '';\n  const tr = createTag('div', { class: 'pbar-value' });\n  tr.style.display = 'block';\n  const progressBar = createTag('div', { class: 'pbar' }, tr);\n  Object.assign(progressBar.style, {\n    width: '100%',\n    height: '10px',\n    borderRadius: '5px',\n    backgroundColor: '#D5D5D5',\n    marginTop: '10px',\n    overflow: 'hidden',\n  });\n  const container = createTag('div', { class: 'pbar-container' }, [label, progressBar]);\n  a.replaceWith(container);\n  return container;\n}\n\nfunction getLocale(loc) {\n  const ietf = loc?.ietf?.toLowerCase();\n  const region = loc?.region?.toLowerCase();\n  if (ietf && ietf.includes('-')) return ietf;\n  if (ietf && region) return `${ietf}-${region}`;\n  return ietf;\n}\n\nasync function decorateQuickLink(a, hasConsent, isNewTab) {\n  const { locale } = getConfig();\n  let ecid = null;\n  const urlObj = new URL(a.href, window.location.origin);\n  try {\n    const data = await window.alloy_getIdentity;\n    ecid = data?.identity?.ECID;\n  } catch (e) {\n    window.lana.log(`Error fetching ECID: ${e}`, { tags: 'branch-quick-links' });\n  }\n  if (ecid && hasConsent && !a.href.includes('ecid')) {\n    urlObj.searchParams.set('ecid', ecid);\n  }\n  const loc = getLocale(locale);\n  if (loc) urlObj.searchParams.set('locale', loc);\n  const blockName = a.closest('[data-block-status=\"loaded\"]')?.classList[0];\n  if (blockName) urlObj.searchParams.set('placement', blockName);\n  a.href = urlObj.href;\n  if (isNewTab) window.open(a.href, '_blank', 'noopener');\n  else window.location.href = a.href;\n}\n\nexport default function processQuickLink(a) {\n  a.classList.add('quick-link');\n  const getConsentStatus = () => {\n    const cookieGrp = window.adobePrivacy?.activeCookieGroups();\n    return cookieGrp?.includes('C0002') && cookieGrp?.includes('C0004');\n  };\n\n  function waitForConsent() {\n    return new Promise((resolve) => {\n      const fallbackTimeout = setTimeout(() => resolve(false), 30000);\n      if (window.adobePrivacy) {\n        clearTimeout(fallbackTimeout);\n        resolve(getConsentStatus());\n      }\n      window.addEventListener('adobePrivacy:PrivacyConsent', () => {\n        clearTimeout(fallbackTimeout);\n        resolve(true);\n      });\n      window.addEventListener('adobePrivacy:PrivacyReject', () => {\n        clearTimeout(fallbackTimeout);\n        resolve(false);\n      });\n      window.addEventListener('adobePrivacy:PrivacyCustom', () => {\n        clearTimeout(fallbackTimeout);\n        resolve(getConsentStatus());\n      });\n    });\n  }\n\n  a.addEventListener('click', async (e) => {\n    e.preventDefault();\n    let loader;\n    if (getMetadata('quick-link-loader') === 'on') loader = addLoader(a);\n    const hasConsent = await waitForConsent();\n    if (loader) loader.replaceWith(a);\n    const isNewTab = (e.metaKey || e.ctrlKey);\n    decorateQuickLink(a, hasConsent, isNewTab);\n  });\n}\n"],"names":["processQuickLink","a","classList","add","getConsentStatus","_window$adobePrivacy","cookieGrp","window","adobePrivacy","activeCookieGroups","includes","addEventListener","async","loader","e","preventDefault","getMetadata","base","getConfig","loadStyle","concat","label","createTag","class","textContent","tr","style","display","progressBar","Object","assign","width","height","borderRadius","backgroundColor","marginTop","overflow","container","replaceWith","addLoader","hasConsent","Promise","resolve","fallbackTimeout","setTimeout","clearTimeout","isNewTab","metaKey","ctrlKey","_a$closest","locale","ecid","urlObj","URL","href","location","origin","_data$identity","data","alloy_getIdentity","identity","ECID","lana","log","tags","searchParams","set","loc","_loc$ietf","_loc$region","ietf","toLowerCase","region","getLocale","blockName","closest","open","decorateQuickLink"],"sourceRoot":""}