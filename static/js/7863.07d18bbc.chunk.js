(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[7863],{1625:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=1625,e.exports=t},7863:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>L,getAkamaiCode:()=>m,getCookie:()=>f});var n,a,i,c,l,r,s=o(212),d=(o(6850),"oldgeorouting"),u=e=>{const t=a("ol");e.forEach((e=>{const o=a("li",null,e);t.appendChild(o)}));const o=a("div",null,t),n=a("div",null,o),i=a("div",{class:"tabs quiet"},n);return a("div",{class:"section tabs-background-transparent"},i)},g=(e,t)=>{const o=a("div",null,"tab"),n=a("div",null,t),i=a("div");i.appendChild(o),i.appendChild(n);const c=a("div",{class:"section-metadata"},i),l=a("div",{class:"section"});return l.append(e),l.append(c),l},[p,h]=(()=>{let e=null,t=null;const o=()=>{if(!e)return;const t=e.scrollHeight>e.clientHeight;e.style.overflow=t?"auto":"visible"};return[n=>{n&&(e=n,requestAnimationFrame((()=>{o()})),t=new ResizeObserver((()=>{o()})),t.observe(e),window.addEventListener("milo:modal:closed",h))},()=>{e&&(e.removeAttribute("style"),t&&t.disconnect(),e=null,window.removeEventListener("milo:modal:closed",h))}]})(),f=e=>{var t;return null===(t=document.cookie.split("; ").find((t=>t.startsWith("".concat(e,"=")))))||void 0===t?void 0:t.split("=")[1]},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((t,o)=>{let n=null;if(!e){n=new URLSearchParams(window.location.search).get("akamaiLocale")||sessionStorage.getItem("akamai")}null!==n?t(n.toLowerCase()):fetch("https://geo2.adobe.com/json/",{cache:"no-cache"}).then((e=>{e.ok?e.json().then((e=>{const o=e.country.toLowerCase();sessionStorage.setItem("akamai",o),t(o)})):o(new Error("Something went wrong getting the akamai Code. Response status text: ".concat(e.statusText)))})).catch((e=>{o(new Error("Something went wrong getting the akamai Code. ".concat(e.message)))}))}))};function v(e,t,o){const n=o||"us",a=t||"us",i="".concat(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Switch",":").concat(a.split("_")[0],"-").concat(n.split("_")[0],"|Geo_Routing_Modal");e.setAttribute("daa-ll",i),e.addEventListener("click",(()=>{const t="adobe.com"===window.location.host||window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"";document.cookie="international=".concat(a,";path=/;").concat(t),e.closest(".dialog-modal").dispatchEvent(new Event("closeModal")),h()}))}function w(e){return e.akamaiCodes.split(",").map((e=>e.toLowerCase().trim()))}function b(e,t,o,i,c,l){if(document.querySelector(".locale-modal-v2 .picker"))return;const r=a("ul",{class:"picker",dir:c});t.forEach((e=>{var t,i;const c=null!==(t=null===(i=n.locales[e.prefix])||void 0===i?void 0:i.ietf)&&void 0!==t?t:"",s=a("a",{lang:c,href:e.url},"".concat(o," - ").concat(e.language));v(s,e.prefix,l.prefix);const d=a("li",{},s);r.appendChild(d)})),e.parentNode.insertBefore(r,e.nextSibling);const s=e.getBoundingClientRect();window.innerHeight-s.bottom<=r.offsetHeight&&r.classList.add("top"),e.setAttribute("aria-expanded",!0),function(e,t,o){const n=a=>{if(t===a)return;let i=a.target;for(;i;){if(i===e)return;i=i.parentNode}e.remove(),o.setAttribute("aria-expanded",!1),document.removeEventListener("click",n)};document.addEventListener("click",n)}(r,i,e)}function k(e,t,o,i){var c,l,r,s,d;const u=new DocumentFragment,g=null!==(c=null===(l=n.locales[t.prefix])||void 0===l?void 0:l.ietf)&&void 0!==c?c:"",p=null!==(r=null===(s=n.locales[t.prefix])||void 0===s?void 0:s.dir)&&void 0!==r?r:"ltr",h=o.filter((e=>e.prefix===t.prefix)),f=h.length?h[0][e.geo]:"",m=a("h3",{lang:g,dir:p},t.title.replace("{{geo}}",f)),w=a("p",{class:"locale-text",lang:g,dir:p},t.text),k="on"===(null===(d=t.globeGrid)||void 0===d?void 0:d.toLowerCase().trim())?"globe-grid.png":"flag-".concat(t.geo.replace("_","-"),".svg"),x=a("img",{class:"icon-milo",width:15,height:15,alt:t.button});x.addEventListener("error",(()=>x.src="".concat(n.miloLibs||n.codeRoot,"/features/georoutingv2/img/globe-grid.png")),{once:!0}),x.src="".concat(n.miloLibs||n.codeRoot,"/img/georouting/").concat(k);const C=a("span",{class:"icon margin-inline-end"},x),L=a("a",{class:"con-button blue button-l",lang:g,role:"button","aria-haspopup":!!i,"aria-expanded":!1,href:"#"},C);if(L.append(t.button),i){const o=a("img",{class:"icon-milo down-arrow",src:"".concat(n.miloLibs||n.codeRoot,"/ui/img/chevron.svg"),role:"presentation",width:15,height:15});C.appendChild(o),L.addEventListener("click",(o=>{o.preventDefault(),b(L,i,t.button,o,p,e)}))}else L.href=t.url,v(L,t.prefix,e.prefix);const E=a("a",{lang:g,href:e.url},e.button);v(E,e.prefix,t.prefix,"Stay");const R=a("div",{class:"link-wrapper"},L);return R.appendChild(E),u.append(m,w,R),u}async function x(e,t,o){const c=await async function(e){const t=i("fallbackrouting")||n.fallbackRouting,{prefix:o}=n.locale;let a=window.location.href.replace("".concat(window.location.origin),"");a.startsWith(o)&&(a=a.replace(o,""));const c=[],l=[];return e.forEach(((e,o)=>{const n=e.prefix?"/".concat(e.prefix):"",i="".concat(n).concat(a),r=fetch(i,{method:"HEAD"}).then((a=>{a.ok?(e.url=i,c[o]=e):"off"!==t&&(e.url="".concat(n),c[o]=e)}));l.push(r)})),l.length>0&&await Promise.all(l),c.filter((e=>!!e))}(t);if(!c.length)return null;const l=a("div",{class:"georouting-wrapper fragment"});if(e.url=window.location.hash?document.location.href:"#",1===c.length){const t=k(e,c[0],o);return l.appendChild(t),l}const r=c.sort(((e,t)=>e.languageOrder-t.languageOrder)),s=u(r.map((e=>e.language)));return l.appendChild(s),r.forEach((t=>{const n=k(e,t,o,r),a=g(n,t.language);l.appendChild(a)})),l}async function C(e){const{miloLibs:t,codeRoot:a}=n,i=e.querySelector(".tabs"),s="".concat(t||a,"/blocks/section-metadata/section-metadata.css"),d="".concat(t||a,"/features/georoutingv2/georoutingv2.css"),u=[i?c(i):null,i?new Promise((e=>{l(s,e)})):null,new Promise((e=>{l(d,e)})),o.e(2565).then(o.bind(o,2565))],g=await Promise.all(u),{getModal:p,sendAnalytics:h}=g[3];return r=h,p(null,{class:"locale-modal-v2",id:"locale-modal-v2",content:e,closeEvent:"closeModal"})}async function L(e,t,u,g,h){var v,b,k;let L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(function(){const e=new URLSearchParams(window.location.search).get("georouting"),t=e||f("georouting");if("off"===e){const e=window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"",o=new Date;o.setTime(o.getTime()+31536e6);const n="expires=".concat(o.toUTCString());document.cookie="georouting=".concat(t,";").concat(n,";path=/;").concat(e)}else"on"===e&&(document.cookie="georouting=; expires= Thu, 01 Jan 1970 00:00:00 GMT");return"off"===t}())return;n=e,a=t,i=u,c=g,l=h;const E=(null!==L&&void 0!==L?L:o(1625)("".concat(null!==(v=e.contentRoot)&&void 0!==v?v:"","/georoutingv2.json"))).then((e=>e.json())).catch((()=>null)),R=async e=>{const{default:t}=await o.e(8575).then(o.bind(o,8575));return await t(n,a,i,e),d},_=null!==(b=null!==(k=await E)&&void 0!==k?k:await(()=>{var e;return fetch("".concat(null!==(e=n.contentRoot)&&void 0!==e?e:"","/georouting.json")).then((e=>e.json())).then(R).catch((()=>null))})())&&void 0!==b?b:await fetch("".concat((0,s.getFederatedContentRoot)(),"/federal/georouting/georoutingv2.json")).then((e=>e.json())).catch((()=>null));if(_===d)return;const{locale:y}=n,S=y.prefix.replace("/",""),j=f("international"),A="us"===j?"":j,M=_.georouting.data.find((e=>e.prefix===S));if(M)if(A||""===A){const e=S.split("_")[0],t=A.split("_")[0];if(e!==t){const o=_.georouting.data.filter((e=>e.prefix===A)),n=await x(M,o,_.geos.data);n&&(p(await C(n)),r(new Event("Load:".concat(t||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}}else{try{let e=await m();if(e&&!w(M).includes(e)){const t=(T=_.georouting.data,D=e,T.reduce(((e,t)=>(w(t).some((e=>e===D))&&e.push(t),e)),[])),o=await x(M,t,_.geos.data);o&&(p(await C(o)),"gb"===e&&(e="uk"),r(new Event("Load:".concat(S||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}}catch(O){var P;null===(P=window.lana)||void 0===P||P.log(O.message)}var T,D}}}}]);
//# sourceMappingURL=7863.07d18bbc.chunk.js.map