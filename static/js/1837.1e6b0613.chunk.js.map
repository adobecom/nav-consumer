{"version":3,"file":"static/js/1837.1e6b0613.chunk.js","mappings":"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","sources":["../../milo/libs/blocks/global-navigation/utilities/keyboard/utils.js","../../milo/libs/blocks/global-navigation/utilities/keyboard/popup.js","../../milo/libs/blocks/global-navigation/utilities/keyboard/mobilePopup.js","../../milo/libs/blocks/global-navigation/utilities/keyboard/mainNav.js","../../milo/libs/blocks/global-navigation/utilities/keyboard/mobileGnav.js","../../milo/libs/blocks/global-navigation/utilities/keyboard/index.js"],"sourcesContent":["import { selectors as baseSelectors } from '../utilities.js';\n\nconst selectors = {\n  ...baseSelectors,\n  globalFooterTag: 'footer',\n  globalFooter: '.global-footer',\n  mainNavItems:\n    '.feds-navItem > a, .feds-navItem > button, .feds-navItem > .feds-cta-wrapper > .feds-cta',\n  brand: '.feds-brand',\n  mainNavToggle: '.feds-toggle',\n  searchTrigger: '.feds-search-trigger',\n  navWrapper: '.feds-nav-wrapper',\n  navWrapperExpanded: '.feds-nav-wrapper--expanded',\n  searchField: '.feds-search-input',\n  signIn: '.feds-signIn',\n  signInDropdown: '.feds-signIn-dropdown',\n  profileButton: '.feds-profile-button, .feds-signIn',\n  logo: '.feds-logo',\n  profileMenu: '.feds-profile-menu',\n  profile: '.feds-profile',\n  breadCrumbItems: '.feds-breadcrumbs li:not(:nth-last-child(n+3):not(:first-child)) > a',\n  expandedPopupTrigger: '.feds-navLink[aria-expanded = \"true\"]',\n  promoLink: '.feds-promo-link',\n  imagePromo: 'a.feds-promo-image',\n  fedsNav: '.feds-nav',\n  popup: '.feds-popup',\n  headline: '.feds-menu-headline',\n  section: '.feds-menu-section',\n  column: '.feds-menu-column:not(.feds-menu-column--group)',\n  cta: '.feds-cta',\n  openSearch: '.feds-search-trigger[aria-expanded = \"true\"]',\n  featuredProducts: '.feds-featuredProducts',\n  regionPicker: '.feds-regionPicker',\n  languagePicker: '.language-dropdown',\n  socialLink: '.feds-social-link',\n  privacyLink: '.feds-footer-privacyLink',\n  menuContent: '.feds-menu-content',\n  /* mobile redesign popup selectors */\n  mainMenuItems: 'header.new-nav section.feds-navItem > button',\n  mainMenuLinks: 'header.new-nav .feds-navItem > a[href], header.new-nav .feds-navItem > .feds-cta-wrapper > .feds-cta',\n  activePopup: 'header.new-nav section.feds-dropdown--active > .feds-popup',\n  tab: 'button[role=\"tab\"]',\n  activeTabpanel: '.tab-content [role=\"tabpanel\"]',\n  activeLinks: '.tab-content [role=\"tabpanel\"]:not([hidden=\"true\"]) a',\n  stickyCta: 'header.new-nav .feds-popup .sticky-cta a',\n  topBarLinks: 'header.new-nav .feds-popup .top-bar a, header.new-nav .feds-popup .top-bar button',\n  closeLink: 'header.new-nav .feds-popup .close-icon',\n  localNav: '.feds-localnav',\n  localNavActive: '.feds-localnav--active',\n  localNavTitle: '.feds-localnav-title',\n  localNavExit: '.feds-localnav-exit',\n  localNavItem: '.feds-localnav-items .feds-navItem',\n  localNavItems: '.feds-navItem .feds-menu-column > a, .feds-navItem > a, .feds-navItem > button, .feds-navItem > .feds-cta-wrapper > .feds-cta',\n};\n\nselectors.profileDropdown = `\n  ${selectors.signInDropdown} a[href],\n  ${selectors.signInDropdown} button:not([disabled]),\n  ${selectors.profileMenu} a[href],\n  ${selectors.profileMenu} button:not([disabled])\n`;\n\nselectors.popupItems = `\n  ${selectors.navLink}:not(.feds-navLink--header),\n  ${selectors.promoLink},\n  ${selectors.imagePromo},\n  ${selectors.cta},\n  ${selectors.regionPicker},\n  ${selectors.socialLink},\n  ${selectors.privacyLink}\n`;\n\n// This method covers focusable elements only, so we arenâ€™t interested in SVGs for example.\nconst isElementVisible = (elem) => !!(\n  elem\n    && elem instanceof HTMLElement\n    && (elem.offsetWidth && elem.offsetHeight)\n    && window.getComputedStyle(elem).getPropertyValue('visibility') !== 'hidden'\n);\n\nconst getNextVisibleItemPosition = (position, items) => {\n  for (let newPosition = position + 1; newPosition < items.length; newPosition += 1) {\n    if (isElementVisible(items[newPosition])) return newPosition;\n  }\n  return -1;\n};\n\nconst getPreviousVisibleItemPosition = (position, items) => {\n  for (let newPosition = position - 1; newPosition >= 0; newPosition -= 1) {\n    if (isElementVisible(items[newPosition])) return newPosition;\n  }\n  return -1;\n};\n\nconst getOpenPopup = () => document.querySelector(selectors.expandedPopupTrigger)\n  ?.parentElement.querySelector(selectors.popup);\n\nexport {\n  isElementVisible,\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  selectors,\n  getOpenPopup,\n};\n","/* eslint-disable class-methods-use-this */\nimport {\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  getOpenPopup,\n  selectors,\n} from './utils.js';\nimport { closeAllDropdowns, logErrorFor } from '../utilities.js';\n\nconst getState = ({ e, element } = {}) => {\n  if (!element) return {};\n  const popupItems = [...element.querySelectorAll(selectors.popupItems)];\n  const curr = popupItems.findIndex((el) => el === e.target);\n  const column = document.activeElement.closest(selectors.column);\n  const visibleColumns = [...element.querySelectorAll(selectors.column)];\n  const currentColumn = visibleColumns.findIndex((node) => node.isEqualNode(column));\n\n  return {\n    popupItems,\n    curr,\n    prev: getPreviousVisibleItemPosition(curr, popupItems),\n    next: getNextVisibleItemPosition(curr, popupItems),\n    prevColumn: visibleColumns[currentColumn - 1],\n    nextColumn: visibleColumns[currentColumn + 1],\n  };\n};\n\nclass Popup {\n  constructor({ mainNav }) {\n    this.mainNav = mainNav;\n    this.addEventListeners();\n    this.desktop = window.matchMedia('(min-width: 900px)');\n  }\n\n  open({ focus } = {}) {\n    const popupItems = [...(getOpenPopup()?.querySelectorAll(selectors.popupItems) || [])];\n    if (!popupItems.length) return;\n    const first = getNextVisibleItemPosition(-1, popupItems);\n    const last = getPreviousVisibleItemPosition(popupItems.length, popupItems);\n    if (focus === 'first') popupItems[first].focus();\n    if (focus === 'last') popupItems[last].focus();\n  }\n\n  focusMainNav = (isFooter) => {\n    if (isFooter) return; // There is no main nav for the footer, so we can ignore this\n    this.mainNav.focusCurr();\n  };\n\n  focusMainNavNext = (isFooter) => {\n    if (isFooter) return;\n    const { next } = this.mainNav.getState();\n    if (next >= 0) {\n      this.mainNav.focusNext();\n      this.mainNav.open();\n      return;\n    }\n\n    // On the last main nav item, close all dropdowns and focus current main nav item\n    closeAllDropdowns();\n    this.mainNav.focusCurr();\n  };\n\n  handleKeyDown = ({ e, element, isFooter }) => {\n    const { popupItems, prev, next, prevColumn, nextColumn } = getState({ e, element });\n\n    const shiftTabOutOfFooter = isFooter && e.code === 'Tab' && e.shiftKey && prev === -1;\n    const tabOutOfFooter = isFooter && e.code === 'Tab' && !e.shiftKey && next === -1;\n\n    if (tabOutOfFooter || shiftTabOutOfFooter) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (e.code) {\n      case 'Tab': {\n        if (e.shiftKey) {\n          if (prev === -1) {\n            this.focusMainNav(isFooter);\n            break;\n          }\n          popupItems[prev].focus();\n        } else {\n          if (next === -1) {\n            this.focusMainNavNext(isFooter);\n            break;\n          }\n          popupItems[next].focus();\n        }\n\n        break;\n      }\n      case 'Escape': {\n        closeAllDropdowns();\n        this.focusMainNav(isFooter);\n        break;\n      }\n      case 'ArrowLeft': {\n        const noPrev = document.dir !== 'rtl' && !prevColumn?.querySelector(selectors.popupItems);\n        const noNext = document.dir === 'rtl' && !nextColumn?.querySelector(selectors.popupItems);\n        if (noPrev || noNext) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        if (document.dir !== 'rtl') {\n          prevColumn.querySelector(selectors.popupItems).focus();\n        } else {\n          nextColumn.querySelector(selectors.popupItems).focus();\n        }\n        break;\n      }\n      case 'ArrowUp': {\n        if (prev === -1) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        popupItems[prev].focus();\n        break;\n      }\n      case 'ArrowRight': {\n        const noNext = document.dir !== 'rtl' && !nextColumn?.querySelector(selectors.popupItems);\n        const noPrev = document.dir === 'rtl' && !prevColumn?.querySelector(selectors.popupItems);\n        if (noNext || noPrev) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        if (document.dir !== 'rtl') {\n          nextColumn.querySelector(selectors.popupItems).focus();\n        } else {\n          prevColumn.querySelector(selectors.popupItems).focus();\n        }\n        break;\n      }\n      case 'ArrowDown': {\n        if (next === -1) {\n          this.focusMainNavNext(isFooter);\n          break;\n        }\n        popupItems[next].focus();\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  addEventListeners = () => {\n    document.querySelector(selectors.globalNavTag)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.globalNav)) return;\n        const element = getOpenPopup();\n        if (!e.target.closest(selectors.popup) || !element || !this.desktop.matches) return;\n        this.handleKeyDown({ e, element, isFooter: false });\n      }, `popup key failed ${e.code}`, 'gnav-keyboard', 'e'));\n\n    document.querySelector(selectors.globalFooterTag)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.globalFooter)) return;\n        if (!this.desktop.matches || e.target.closest(selectors.languagePicker)) return;\n        const element = e.target.closest(selectors.globalFooter);\n        this.handleKeyDown({ e, element, isFooter: true });\n      }, `footer key failed ${e.code}`, 'gnav-keyboard', 'e'));\n  };\n}\n\nexport default Popup;\n","/* eslint-disable class-methods-use-this */\nimport {\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  isElementVisible,\n  getOpenPopup,\n  selectors,\n} from './utils.js';\nimport {\n  closeAllDropdowns,\n  removeA11YMobileDropdowns,\n  dropWhile,\n  logErrorFor,\n  setActiveDropdown,\n  takeWhile,\n} from '../utilities.js';\n\nconst closeHeadlines = () => {\n  const open = [...document.querySelectorAll(`${selectors.headline}[aria-expanded=\"true\"]`)];\n  open.forEach((el) => el.setAttribute('aria-expanded', 'false'));\n  // Shift active class back to the parent of the first closed headline\n  setActiveDropdown(open[0]);\n};\n\nconst openHeadline = ({ headline, focus } = {}) => {\n  closeHeadlines();\n  if (headline.getAttribute('aria-haspopup') === 'true') {\n    headline.setAttribute('aria-expanded', 'true');\n    setActiveDropdown(headline);\n    const section = headline.closest(selectors.section)\n      || headline.closest(selectors.column) || headline.closest(selectors.featuredProducts);\n    const items = [...section.querySelectorAll(selectors.popupItems)]\n      .filter((el) => isElementVisible(el));\n    if (focus === 'first') items[0].focus();\n    if (focus === 'last') items[items.length - 1].focus();\n  }\n};\n\nconst getState = (element = getOpenPopup()) => {\n  if (!element) return { popupItems: [] };\n  const popupItems = [...element.querySelectorAll(selectors.popupItems)];\n  // In the markup either a section OR column can contain a expandable headline\n  // which is what we are interested in - so we can treat them both as sections.\n  const section = document.activeElement.closest(selectors.section)\n    || document.activeElement.closest(selectors.column);\n  let allSections = [...element.querySelectorAll(selectors.section)];\n  if (!allSections.length) allSections = [...element.querySelectorAll(selectors.column)];\n  const visibleSections = allSections.filter((el) => isElementVisible(el));\n  const currentSection = visibleSections.findIndex((node) => node.isEqualNode(section));\n  const firstHeadline = visibleSections[0]?.querySelector(selectors.headline);\n  const lastHeadline = visibleSections[visibleSections.length - 1]\n    ?.querySelector(selectors.headline);\n  const prevHeadline = visibleSections[currentSection - 1]\n    ?.querySelector(selectors.headline);\n  const nextHeadline = visibleSections[currentSection + 1]\n    ?.querySelector(selectors.headline);\n  return {\n    visibleSections,\n    currentSection,\n    firstHeadline,\n    lastHeadline,\n    prevHeadline,\n    nextHeadline,\n    popupItems,\n  };\n};\n\nclass Popup {\n  constructor({ mainNav }) {\n    this.mainNav = mainNav;\n    this.addEventListeners();\n    this.desktop = window.matchMedia('(min-width: 900px)');\n  }\n\n  open({ focus } = {}) {\n    const { firstHeadline, lastHeadline, popupItems } = getState();\n    if (!popupItems.length) return;\n\n    const headline = focus === 'last' ? lastHeadline : firstHeadline;\n\n    if (headline && headline.getAttribute('aria-haspopup') === 'true') {\n      closeHeadlines();\n      headline.setAttribute('aria-expanded', 'true');\n    }\n\n    const first = getNextVisibleItemPosition(-1, popupItems);\n    const last = getPreviousVisibleItemPosition(popupItems.length, popupItems);\n    if (focus === 'first') popupItems[first].focus();\n    if (focus === 'last') popupItems[last].focus();\n    setActiveDropdown(focus === 'first' ? popupItems[first] : popupItems[last]);\n  }\n\n  mobileArrowUp = ({ prev, curr, element, isFooter, newNav }) => {\n    // Case 1:  Move focus to the previous item\n    const state = getState(element);\n    const { currentSection } = state;\n    const popupItems = newNav && !isFooter ? this.popupItems() : state.popupItems;\n    if (prev !== -1 && curr - 1 === prev) {\n      popupItems[prev].focus();\n      if (currentSection !== getState(element).currentSection) closeHeadlines();\n      return;\n    }\n\n    // Case 2: No headline + no previous item, move to the main nav\n    const { prevHeadline } = getState(element);\n    if (!prevHeadline && !newNav && !isFooter) {\n      this.focusMainNav(isFooter);\n      return;\n    }\n\n    if (!prevHeadline && isFooter) {\n      const prevElement = element?.previousElementSibling;\n      const allHeadlines = [...prevElement.querySelectorAll(selectors.headline)];\n      if (allHeadlines.length && allHeadlines[allHeadlines.length - 1]) {\n        closeHeadlines();\n        openHeadline({ headline: allHeadlines[allHeadlines.length - 1], focus: 'last' });\n      }\n      return;\n    }\n\n    // Case 3: Open the previous headline\n    if (newNav && !isFooter) popupItems?.[popupItems.length - 1]?.focus();\n    else openHeadline({ headline: prevHeadline, focus: 'last' });\n  };\n\n  mobileArrowDown = ({ next, element, isFooter, newNav }) => {\n    // Case 1: Move focus to the next item\n    const state = getState(element);\n    const { currentSection } = state;\n    const popupItems = newNav && !isFooter ? this.popupItems() : state.popupItems;\n    if (next !== -1) {\n      popupItems[next].focus();\n      if (currentSection !== getState(element).currentSection) closeHeadlines();\n      return;\n    }\n    // Case 2: No headline + no next item, move to the main nav\n    const { nextHeadline } = getState(element);\n    if (!nextHeadline && !newNav && !isFooter) {\n      closeHeadlines();\n      this.focusMainNavNext(isFooter);\n      return;\n    }\n\n    if (!nextHeadline && isFooter) {\n      const nextElement = element?.nextElementSibling;\n      const headline = nextElement && nextElement.querySelector('.feds-menu-headline');\n      closeHeadlines();\n      if (headline) {\n        openHeadline({ headline, focus: 'first' });\n      } else {\n        nextElement?.querySelector('a')?.focus();\n      }\n      return;\n    }\n\n    // Case 3: Open the next headline\n    if (newNav && !isFooter) popupItems?.[0]?.focus();\n    else openHeadline({ headline: nextHeadline, focus: 'first' });\n  };\n\n  focusMainNav = (isFooter) => {\n    if (isFooter) return;\n    this.mainNav.focusCurr();\n  };\n\n  focusMainNavNext = (isFooter) => {\n    if (isFooter) return;\n    this.mainNav.focusNext();\n    this.mainNav.open();\n  };\n\n  popupItems = () => {\n    const activePopup = document.querySelector(selectors.activePopup);\n    if (!activePopup) return [];\n    const tabs = [...activePopup.querySelectorAll(selectors.tab)];\n    const activeTab = tabs.find((tab) => tab.getAttribute('aria-selected') === 'true');\n    const anteActiveTab = takeWhile(tabs, (tab) => tab !== activeTab);\n    const postActiveTab = dropWhile(tabs, (tab) => tab !== activeTab).slice(1);\n    const activeLinks = [...activePopup.querySelectorAll(selectors.activeLinks)];\n    const stickyCTA = activePopup.querySelector(selectors.stickyCta);\n    const topBarLinks = activePopup.querySelectorAll(selectors.topBarLinks);\n    const closeIcon = activePopup.querySelector(selectors.closeLink);\n    const breadcrumbLinks = activePopup.querySelectorAll(selectors.breadCrumbItems);\n    return [\n      ...anteActiveTab,\n      activeTab,\n      ...activeLinks,\n      stickyCTA,\n      ...postActiveTab,\n      ...topBarLinks,\n      closeIcon,\n      ...breadcrumbLinks,\n    ].filter(Boolean);\n  };\n\n  handleKeyDown = ({ e, element, isFooter }) => {\n    const newNav = !!document.querySelector('header.new-nav');\n    const isLocalNav = !!document.querySelector('header.local-nav');\n    const popupItems = newNav && !isFooter\n      ? this.popupItems()\n      : [...element.querySelectorAll(selectors.popupItems)];\n    const curr = popupItems.findIndex((el) => el === e.target);\n    const prev = getPreviousVisibleItemPosition(curr, popupItems);\n    const next = getNextVisibleItemPosition(curr, popupItems);\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (e.code) {\n      case 'Tab': {\n        if (e.shiftKey) {\n          this.mobileArrowUp({ prev, curr, element, isFooter, newNav });\n        } else {\n          this.mobileArrowDown({ curr, next, element, isFooter, newNav });\n        }\n        break;\n      }\n      case 'Escape': {\n        closeAllDropdowns();\n        this.focusMainNav(isFooter);\n        if (newNav && isLocalNav && !isFooter) {\n          removeA11YMobileDropdowns();\n          const toggle = document.querySelector('header.new-nav .feds-toggle');\n          toggle?.click();\n          toggle?.focus();\n        }\n        break;\n      }\n      case 'ArrowLeft': {\n        if (newNav) break;\n        const { prevHeadline, nextHeadline } = getState(element);\n        const headline = document.dir !== 'rtl' ? prevHeadline : nextHeadline;\n        if (!headline) {\n          if (!isFooter) closeHeadlines();\n          if (document.dir !== 'rtl') {\n            this.focusMainNav(isFooter);\n          } else {\n            this.focusMainNavNext(isFooter);\n          }\n          break;\n        }\n        openHeadline({ headline, focus: 'first' });\n        break;\n      }\n      case 'ArrowUp': {\n        if (newNav) break;\n        this.mobileArrowUp({ prev, curr, element, isFooter });\n        break;\n      }\n      case 'ArrowRight': {\n        if (newNav) break;\n        const { prevHeadline, nextHeadline } = getState(element);\n        const headline = document.dir !== 'rtl' ? nextHeadline : prevHeadline;\n        if (!headline) {\n          if (!isFooter) closeHeadlines();\n          if (document.dir !== 'rtl') {\n            this.focusMainNavNext(isFooter);\n          } else {\n            this.focusMainNav(isFooter);\n          }\n          break;\n        }\n        openHeadline({ headline, focus: 'first' });\n        break;\n      }\n      case 'ArrowDown': {\n        if (newNav) break;\n        this.mobileArrowDown({ next, element, isFooter });\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  addEventListeners = () => {\n    document.querySelector(selectors.globalNavTag)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.globalNav)) return;\n        const element = getOpenPopup();\n        if (!e.target.closest(selectors.popup) || !element || this.desktop.matches) return;\n        this.handleKeyDown({ e, element, popupEl: element, isFooter: false });\n      }, `popup key failed ${e.code}`, 'gnav-keyboard', 'e'));\n\n    document.querySelector(selectors.globalFooterTag)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.globalFooter)) return;\n\n        const element = e.target.closest(selectors.menuContent)\n          || e.target.closest(selectors.featuredProducts);\n        if (!element || this.desktop.matches) return;\n\n        const firstNavLink = element.querySelector(selectors.popupItems);\n        const firstHeadline = element.querySelector(selectors.headline);\n        const isFirstNavlink = e.target === firstNavLink;\n        const isFirstHeadline = e.target === firstHeadline;\n        const shiftTabOutOfFooter = e.shiftKey\n          && (isFirstNavlink || isFirstHeadline)\n          && !e.target.closest(selectors.featuredProducts);\n        if (shiftTabOutOfFooter) return;\n\n        // special case, the first dropdown needs some special logic to allow opening.\n        if (e.target.closest(selectors.headline)) {\n          openHeadline({ headline: e.target.closest(selectors.headline), focus: 'first' });\n          e.preventDefault();\n          e.stopPropagation();\n          return;\n        }\n\n        this.handleKeyDown({\n          e,\n          element,\n          isFooter: true,\n        });\n      }, `footer key failed ${e.code}`, 'gnav-keyboard', 'e'));\n  };\n}\n\nexport default Popup;\n","/* eslint-disable class-methods-use-this */\nimport { selectors, getNextVisibleItemPosition, getPreviousVisibleItemPosition } from './utils.js';\nimport Popup from './popup.js';\nimport MobilePopup from './mobilePopup.js';\nimport { closeAllDropdowns, trigger, logErrorFor } from '../utilities.js';\n\nclass MainNavItem {\n  constructor() {\n    this.desktop = window.matchMedia('(min-width: 900px)');\n    this.popup = new Popup({ mainNav: this });\n    this.mobilePopup = new MobilePopup({ mainNav: this });\n    this.addEventListeners();\n  }\n\n  addEventListeners() {\n    document.querySelector(selectors.globalNavTag)\n      .addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.globalNav)) return;\n\n        if (!e.target.closest(selectors.fedsNav) || e.target.closest(selectors.popup)) {\n          return;\n        }\n\n        const newNav = !!document.querySelector('header.new-nav');\n\n        switch (e.code) {\n          case 'Tab': {\n            if (newNav) {\n              const activePopup = document.querySelector(selectors.activePopup);\n              if (!activePopup) e.preventDefault();\n              const items = [...document.querySelectorAll(`${selectors.mainMenuItems}, ${selectors.mainMenuLinks}, ${selectors.mainNavToggle}`)];\n              const current = items.findIndex((x) => x === e.target);\n              if (current > -1) {\n                const next = current < items.length - 1 ? current + 1 : 0;\n                const prev = current > 0 ? current - 1 : items.length - 1;\n                if (e.shiftKey) items[prev].focus();\n                else items[next].focus();\n              } else items?.[0]?.focus();\n              break;\n            }\n\n            if (e.shiftKey) {\n              const { prev, openTrigger } = this.getState();\n              if (openTrigger) {\n                if (prev === -1) {\n                  closeAllDropdowns();\n                } else {\n                  e.preventDefault();\n                  this.focusPrev({ focus: 'last' });\n                }\n              }\n            }\n            break;\n          }\n          case 'Escape': {\n            closeAllDropdowns();\n            const activePopup = document.querySelector(selectors.activePopup);\n            if (newNav && !activePopup) {\n              const toggle = document.querySelector('header.new-nav .feds-toggle');\n              toggle?.click();\n              toggle?.focus();\n            }\n            break;\n          }\n          case 'ArrowLeft': {\n            if (newNav) break;\n            const { next, prev } = this.getState();\n            if (document.dir !== 'rtl') {\n              if (prev === -1) break;\n              this.focusPrev({ focus: null });\n            } else {\n              if (next === -1) break;\n              this.focusNext({ focus: null });\n            }\n            break;\n          }\n          case 'ArrowUp': {\n            if (newNav) break;\n            e.preventDefault();\n            e.stopPropagation();\n            this.focusPrev({ focus: 'last' });\n            break;\n          }\n          case 'ArrowRight': {\n            if (newNav) break;\n            const { next, prev, openTrigger } = this.getState();\n            if (document.dir !== 'rtl') {\n              if (next === -1) break;\n              this.focusNext();\n            } else {\n              if (prev === -1) break;\n              this.focusPrev({ focus: null });\n            }\n            if (openTrigger) {\n              this.open();\n            }\n            break;\n          }\n          case 'ArrowDown': {\n            if (newNav) break;\n            e.stopPropagation();\n            e.preventDefault();\n            const { items, curr } = this.getState();\n            if (items[curr] && items[curr].hasAttribute('aria-haspopup')) {\n              this.open({ focus: 'first' });\n              return;\n            }\n            this.focusNext();\n            break;\n          }\n          default:\n            break;\n        }\n      }, `mainNav key failed ${e.code}`, 'gnav-keyboard', 'e'));\n  }\n\n  getState = () => {\n    const items = [...document.querySelectorAll(selectors.mainNavItems)];\n    const openTrigger = document.querySelector(selectors.expandedPopupTrigger);\n    const currentEl = document.activeElement\n      .closest(selectors.navItem)\n      ?.querySelector(selectors.mainNavItems);\n    const curr = items.findIndex((el) => el === currentEl);\n    return {\n      items,\n      curr,\n      prev: getPreviousVisibleItemPosition(curr, items),\n      next: getNextVisibleItemPosition(curr, items),\n      openTrigger,\n    };\n  };\n\n  focusCurr = () => {\n    const { items, curr } = this.getState();\n    items[curr].focus();\n  };\n\n  focusPrev = ({ focus } = {}) => {\n    const { items, prev } = this.getState();\n    const open = document.querySelector(selectors.expandedPopupTrigger);\n    closeAllDropdowns();\n    if (prev === -1) return;\n    items[prev].focus();\n    if (open) {\n      this.open({ focus });\n    }\n  };\n\n  focusNext = () => {\n    const { items, next } = this.getState();\n    if (next === -1) return;\n    closeAllDropdowns();\n    items[next].focus();\n  };\n\n  open = ({ focus, triggerEl, e } = {}) => {\n    const { items, curr } = this.getState();\n    const triggerElement = triggerEl || items[curr];\n    if (!triggerElement || !triggerElement.hasAttribute('aria-haspopup')) return;\n    if (e) e.preventDefault();\n    if (triggerElement.getAttribute('aria-expanded') === 'false') {\n      trigger({ element: triggerElement });\n    }\n    const navItem = triggerElement.parentElement;\n    const popupEl = navItem.querySelector(selectors.popup);\n    if (popupEl) {\n      if (this.desktop.matches) {\n        this.popup.open({ focus });\n      } else {\n        this.mobilePopup.open({ focus });\n      }\n      return;\n    }\n\n    // We need to wait for the popup to be added to the DOM before we can open it.\n    const observer = new MutationObserver(() => {\n      observer.disconnect();\n      if (this.desktop.matches) {\n        this.popup.open({ focus });\n      } else {\n        this.mobilePopup.open({ focus });\n      }\n    });\n    observer.observe(navItem, { childList: true });\n  };\n}\n\nexport default MainNavItem;\n","import { isDesktop } from '../utilities.js';\n\nconst MobileGnav = {\n  init() {\n    const isNewNav = document.querySelector('.new-nav');\n    if (!isNewNav) return;\n    this.isMobile = !isDesktop.matches;\n    this.toggleButton = document.querySelector('.feds-toggle');\n    this.menuItemLinks = document.querySelectorAll(\n      '.feds-nav > .feds-navItem > .feds-navLink[href], .feds-nav > .feds-navItem > button.feds-navLink, .feds-nav > .feds-navItem > .feds-cta-wrapper > .feds-cta',\n    );\n    this.eventInitialized = false;\n    this.addEventListeners();\n  },\n  addEventListeners() {\n    this.toggleButton.addEventListener('keydown', ({ code }) => {\n      if (!this.isMobile) return;\n      const gnavWrapper = document.querySelector('.feds-nav-wrapper');\n      if (code === 'ArrowDown' && gnavWrapper?.classList.contains('feds-nav-wrapper--expanded')) {\n        const firstNavLink = gnavWrapper.querySelector('.feds-nav .feds-navLink[href], .feds-nav button.feds-navLink');\n        firstNavLink.focus();\n      }\n    });\n    this.toggleButton.addEventListener('click', () => {\n      if (!this.isMobile) return;\n      const gnavWrapper = document.querySelector('.feds-nav-wrapper');\n      if (gnavWrapper?.classList.contains('feds-nav-wrapper--expanded')) {\n        if (!this.eventInitialized) {\n          this.eventInitialized = true;\n          const popupTabs = document.querySelectorAll('.feds-nav-wrapper .feds-popup .tabs .tab');\n          const popupTabContents = document.querySelectorAll('.feds-nav-wrapper .feds-popup .tab-content');\n          const popupLinks = document.querySelectorAll('.feds-nav-wrapper .feds-popup .tab-content a.feds-navLink, .feds-promo a');\n          popupTabs.forEach((tab) => {\n            tab.addEventListener('keydown', ({ code }) => {\n              switch (code) {\n                case 'ArrowUp': {\n                  const prevTab = tab.previousElementSibling;\n                  if (prevTab) prevTab.focus();\n                  break;\n                }\n                case 'ArrowDown': {\n                  const nextTab = tab.nextElementSibling;\n                  if (nextTab) nextTab.focus();\n                  break;\n                }\n                case (document.dir !== 'rtl' ? 'ArrowRight' : 'ArrowLeft'): {\n                  const currentTabs = [...popupTabs].filter((currentTab) => currentTab.closest('.feds-dropdown--active'));\n                  const activeTab = currentTabs.find((currentTab) => currentTab.getAttribute('aria-selected') === 'true');\n                  const activeTabIndex = activeTab.getAttribute('aria-controls');\n                  const currentTabContent = [...popupTabContents].find((currentTab) => currentTab.closest('.feds-dropdown--active'));\n                  if (currentTabContent && currentTabContent.children[activeTabIndex]) {\n                    currentTabContent.children[activeTabIndex].querySelector('a.feds-navLink, .feds-promo a').focus();\n                  }\n                  break;\n                }\n                default:\n                  break;\n              }\n            });\n          });\n          popupLinks.forEach((link) => {\n            link.addEventListener('keydown', ({ code }) => {\n              switch (code) {\n                case 'ArrowUp': {\n                  let prevLink = link.previousElementSibling;\n                  if (prevLink?.classList.contains('feds-promo-wrapper')) {\n                    prevLink = prevLink.querySelector('a.feds-cta');\n                  }\n                  if (prevLink?.tagName === 'DIV' && prevLink.classList.contains('feds-navLink')) {\n                    prevLink = prevLink.previousElementSibling;\n                  }\n                  if (prevLink) {\n                    prevLink.focus();\n                  } else if (link.classList.contains('feds-cta')) {\n                    link.closest('.feds-promo-content').previousElementSibling.focus();\n                  } else {\n                    link.closest('.feds-promo-wrapper').previousElementSibling.focus();\n                  }\n                  break;\n                }\n                case 'ArrowDown': {\n                  let nextLink = link.nextElementSibling;\n                  if (nextLink?.classList.contains('feds-promo-content')) {\n                    nextLink = nextLink.querySelector('a');\n                  }\n                  if (nextLink?.classList.contains('feds-promo-wrapper')) {\n                    nextLink = nextLink.querySelector('a');\n                  }\n                  if (nextLink?.tagName === 'DIV' && nextLink.classList.contains('feds-navLink')) {\n                    nextLink = nextLink.nextElementSibling;\n                  }\n                  if (nextLink) {\n                    nextLink.focus();\n                  } else {\n                    link.closest('.feds-promo-wrapper').nextElementSibling.focus();\n                  }\n                  break;\n                }\n                case (document.dir === 'rtl' ? 'ArrowRight' : 'ArrowLeft'): {\n                  const currentTabs = [...popupTabs].filter((currentTab) => currentTab.closest('.feds-dropdown--active'));\n                  const activeTab = currentTabs.find((currentTab) => currentTab.getAttribute('aria-selected') === 'true');\n                  if (activeTab) activeTab.focus();\n                  break;\n                }\n                default:\n                  break;\n              }\n            });\n          });\n        }\n      }\n    });\n\n    this.menuItemLinks.forEach((menulink, index) => {\n      menulink.addEventListener('keydown', ({ code }) => {\n        if (!this.isMobile) return;\n        if (code === 'ArrowUp') {\n          const prevLink = this.menuItemLinks[index - 1];\n          if (prevLink) prevLink.focus();\n          else this.toggleButton.focus();\n        } else if (code === 'ArrowDown') {\n          const nextLink = this.menuItemLinks[index + 1];\n          if (nextLink) nextLink.focus();\n        }\n      });\n    });\n  },\n};\n\nexport default MobileGnav;\n","/* eslint-disable class-methods-use-this */\nimport { getNextVisibleItemPosition, getPreviousVisibleItemPosition, selectors } from './utils.js';\nimport MainNav from './mainNav.js';\nimport { closeAllDropdowns, lanaLog, logErrorFor } from '../utilities.js';\nimport MobileGnav from './mobileGnav.js';\n\nconst cycleOnOpenSearch = ({ e, isDesktop }) => {\n  const withoutBreadcrumbs = [\n    ...document.querySelectorAll(`\n      ${selectors.brand},\n      ${selectors.mainNavToggle},\n      ${selectors.mainNavItems},\n      ${selectors.searchTrigger},\n      ${selectors.searchField},\n      ${selectors.signIn},\n      ${selectors.profileButton},\n      ${selectors.logo}\n  `),\n  ];\n  const first = getNextVisibleItemPosition(-1, withoutBreadcrumbs);\n  const last = getPreviousVisibleItemPosition(withoutBreadcrumbs.length, withoutBreadcrumbs);\n  const openSearch = isDesktop && document.querySelector(selectors.openSearch);\n  if (openSearch && document.activeElement === withoutBreadcrumbs[e.shiftKey ? first : last]) {\n    e.preventDefault();\n    withoutBreadcrumbs[e.shiftKey ? last : first].focus();\n  }\n};\n\nconst openProfile = ({ e, el }) => {\n  const button = e.target.closest(`${selectors.signIn}, ${selectors.profileButton}`);\n  if (button?.getAttribute('aria-expanded') === 'false') {\n    e.target.click();\n    el.querySelector(selectors.profileDropdown)?.focus();\n    return true;\n  }\n  return false;\n};\n\nconst getProfileItems = ({ e }) => {\n  const profileDropdownLinks = document.querySelectorAll(selectors.profileDropdown);\n  if (!profileDropdownLinks.length) return { next: -1, prev: -1, items: [] };\n  const items = [...profileDropdownLinks];\n  const curr = items.findIndex((element) => element === e.target);\n  return { next: curr + 1, prev: curr - 1, curr, items };\n};\n\nconst closeProfile = () => {\n  closeAllDropdowns();\n  document.querySelector(`${selectors.profileButton}, ${selectors.signIn}`)?.focus();\n};\n\nconst focusNextProfileItem = ({ e }) => {\n  const { items, next } = getProfileItems({ e });\n  if (items[next]) {\n    items[next].focus();\n    return;\n  }\n\n  e.preventDefault();\n  e.stopPropagation();\n  closeProfile();\n};\n\nconst focusPrevProfileItem = ({ e }) => {\n  const { items, prev } = getProfileItems({ e });\n  if (items[prev]) {\n    items[prev].focus();\n    return;\n  }\n\n  e.preventDefault();\n  e.stopPropagation();\n  closeProfile();\n};\n\nclass KeyboardNavigation {\n  constructor(newNavWithLnav) {\n    try {\n      this.addEventListeners();\n      this.mainNav = new MainNav();\n      this.mobileGnav = MobileGnav.init();\n      if (newNavWithLnav) {\n        this.loadLnavNavigation();\n      }\n      this.desktop = window.matchMedia('(min-width: 900px)');\n    } catch (e) {\n      lanaLog({ message: 'Keyboard Navigation failed to load', e, tags: 'gnav-keyboard', errorType: 'e' });\n    }\n  }\n\n  loadLnavNavigation = async () => {\n    if (!this.localNav) {\n      this.localNav = (async () => {\n        try {\n          const { default: LnavNavigation } = await import('./localNav.js');\n          return new LnavNavigation();\n        } catch (e) {\n          lanaLog({ message: 'Keyboard Navigation failed to load for LNAV', e, tags: 'gnav-keyboard', errorType: 'i' });\n          return null;\n        }\n      })();\n    }\n    return this.localNav;\n  };\n\n  addEventListeners = () => {\n    [...document.querySelectorAll(`${selectors.globalNavTag}, ${selectors.globalFooterTag}`)]\n      .forEach((el) => {\n        el.addEventListener('keydown', (e) => logErrorFor(() => {\n          if (!e.target.closest(`${selectors.globalNav}, ${selectors.globalFooter}`)) return;\n          switch (e.code) {\n            case 'Tab': {\n              const isNewNav = !!document.querySelector('header.new-nav');\n              const isOpen = document\n                .querySelector(selectors.navWrapper)\n                .classList.contains(selectors.navWrapperExpanded.slice(1));\n              if (isNewNav && isOpen) {\n                if (e.target.classList.contains(selectors.mainNavToggle.slice(1))) {\n                  e.preventDefault();\n                  if (e.shiftKey) {\n                    const menuItems = [...document.querySelectorAll(`${selectors.mainMenuItems}, ${selectors.mainMenuLinks}`)];\n                    menuItems.at(-1)?.focus();\n                  } else {\n                    document.querySelector(`${selectors.mainMenuItems}, ${selectors.mainMenuLinks}`)?.focus();\n                  }\n                }\n              } else {\n                cycleOnOpenSearch({ e, isDesktop: this.desktop.matches });\n                const { items } = getProfileItems({ e });\n                const profileBtn = e.target.closest(`${selectors.signIn}, ${selectors.profileButton}`);\n                if (e.shiftKey && e.target === profileBtn) closeProfile();\n                if (items[items.length - 1] === e.target) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  closeProfile();\n                }\n              }\n              break;\n            }\n            case 'Escape': {\n              const toggle = document.querySelector('header.new-nav .feds-toggle');\n              if (toggle && toggle === e.target && toggle.getAttribute('aria-expanded') === 'true') {\n                toggle.click();\n                toggle.focus();\n              }\n              break;\n            }\n            case 'Enter':\n            case 'Space': {\n              if (e.target.closest(selectors.searchField) || e.target.closest('.feds-client-search')) return;\n              e.stopPropagation();\n              e.preventDefault();\n              e.target.click();\n              break;\n            }\n            case 'ArrowDown': {\n              if (e.target.closest(selectors.profile)) {\n                if (openProfile({ e, el })) break;\n                focusNextProfileItem({ e });\n              }\n              break;\n            }\n            case 'ArrowUp': {\n              if (e.target.closest(selectors.profile)) {\n                focusPrevProfileItem({ e });\n              }\n              break;\n            }\n            default:\n              break;\n          }\n        }, `KeyboardNavigation index failed. ${e.code}`, 'gnav-keyboard', 'e'));\n      });\n  };\n}\n\nexport default KeyboardNavigation;\n"],"names":["e","t","globalFooterTag","globalFooter","mainNavItems","brand","mainNavToggle","searchTrigger","navWrapper","navWrapperExpanded","searchField","signIn","signInDropdown","profileButton","logo","profileMenu","profile","breadCrumbItems","expandedPopupTrigger","promoLink","imagePromo","fedsNav","popup","headline","section","column","cta","openSearch","featuredProducts","regionPicker","languagePicker","socialLink","privacyLink","menuContent","mainMenuItems","mainMenuLinks","activePopup","tab","activeTabpanel","activeLinks","stickyCta","topBarLinks","closeLink","localNav","localNavActive","localNavTitle","localNavExit","localNavItem","localNavItems","profileDropdown","concat","popupItems","navLink","r","n","HTMLElement","offsetWidth","offsetHeight","window","getComputedStyle","getPropertyValue","d","getNextVisibleItemPosition","o","a","length","i","getPreviousVisibleItemPosition","p","getOpenPopup","_document$querySelect","document","querySelector","parentElement","H","constructor","_ref","mainNav","_defineProperty","this","focusCurr","next","getState","focusNext","open","_ref2","element","isFooter","s","prev","prevColumn","c","nextColumn","l","arguments","undefined","querySelectorAll","findIndex","target","activeElement","closest","isEqualNode","curr","h","v","V","f","code","shiftKey","preventDefault","stopPropagation","focusMainNav","focus","focusMainNavNext","dir","g","_document$querySelect2","globalNavTag","addEventListener","m","globalNav","w","desktop","matches","handleKeyDown","addEventListeners","matchMedia","_w","k","closeHeadlines","forEach","setAttribute","S","y","getAttribute","filter","q","b","_r$","_r","_r2","_r3","u","visibleSections","currentSection","firstHeadline","lastHeadline","prevHeadline","nextHeadline","C","_ref3","_ref4","_l","newNav","previousElementSibling","_ref5","_c$","_f$querySelector","nextElementSibling","find","$","K","slice","Boolean","_ref6","mobileArrowUp","mobileArrowDown","T","click","_document$querySelect3","_document$querySelect4","popupEl","O","_this","_document$activeEleme","navItem","items","openTrigger","triggerEl","hasAttribute","M","mobilePopup","MutationObserver","disconnect","observe","childList","_r$2","focusPrev","B","init","isMobile","D","toggleButton","menuItemLinks","eventInitialized","_ref7","classList","contains","_document$querySelect5","_ref8","children","_ref9","_n","_n2","tagName","_n3","_n4","_n5","_ref10","P","_ref13","N","closeProfile","_document$querySelect6","le","async","default","A","message","tags","errorType","_at","_document$querySelect7","at","_ref11","isDesktop","W","_ref12","_a$target$closest","_e$querySelector","el","R","_ref14","z","_ref15","G","mobileGnav","loadLnavNavigation"],"sourceRoot":""}