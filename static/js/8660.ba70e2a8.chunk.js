"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8660],{4705:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t,o){return(t=r(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{A:()=>s})},8660:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var n,r,s,a,i,l,c,d,u,h,f,m,g,p=o(7528),b=o(4705),y=o(1021),v=o(5886),k=(o(2313),o(731)),w=o(4941),{miloLibs:A,codeRoot:P,locale:L,mep:S}=(o(5769),(0,w.getConfig)()),M=A||P,E={socialPlatforms:["facebook","instagram","twitter","linkedin","pinterest","discord","behance","youtube","weibo","social-media"],delays:{decoration:3e3}},F=class{constructor(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,b.A)(this,"init",(()=>(0,y.logErrorFor)((async()=>{let e;const t=new window.IntersectionObserver((o=>{o.find((e=>!0===e.isIntersecting))&&(clearTimeout(e),t.disconnect(),this.decorateContent())}),{rootMargin:"300px 0px"});t.observe(this.block),e=setTimeout((()=>{t.disconnect(),this.decorateContent()}),E.delays.decoration)}),"Error in global footer init","errorType=error,module=global-footer"))),(0,b.A)(this,"decorateContent",(()=>(0,y.logErrorFor)((async()=>{const e=(0,w.getMetadata)("footer-source")||"".concat(L.contentRoot,"/footer");if(this.body=await(0,y.fetchAndProcessPlainHtml)({url:e,shouldDecorateLinks:!1}),!this.body)return;const[t,o]=[".region-selector",".social"].map((e=>this.body.querySelector(e))),[n,r]=[null===t||void 0===t?void 0:t.parentElement,null===o||void 0===o?void 0:o.parentElement];[n,r].forEach((e=>null===e||void 0===e?void 0:e.replaceChildren())),(0,w.decorateLinks)(this.body),null===n||void 0===n||n.appendChild(t),null===r||void 0===r||r.appendChild(o);const s=(0,k.getFederatedUrl)(e);(0,y.federatePictureSources)({section:this.body,forceFederate:s.includes("/federal/")});const a=[y.loadBaseStyles,this.decorateGrid,this.decorateProducts,this.loadIcons,this.decorateRegionPicker,this.decorateSocial,this.decoratePrivacy,this.decorateFooter];for await(const l of a)await(0,y.yieldToMain)(),await l();const i=(null===S||void 0===S?void 0:S.martech)||"";this.block.setAttribute("daa-lh","gnav|".concat((0,y.getExperienceName)(),"|footer").concat(i)),this.block.append(this.elements.footer)}),"Failed to decorate footer content","errorType=error,module=global-footer"))),(0,b.A)(this,"loadMenuLogic",(async()=>(this.menuLogic=this.menuLogic||new Promise((async e=>{const t=await(0,y.loadDecorateMenu)();this.decorateMenu=t.decorateMenu,this.decorateLinkGroup=t.decorateLinkGroup,e()})),this.menuLogic))),(0,b.A)(this,"decorateGrid",(async()=>{this.elements.footerMenu="";const e=this.body.querySelectorAll(":scope > div > h2:first-child");return e&&e.length?(this.elements.footerMenu=(0,y.toFragment)(n||(n=(0,p.A)(['<div class="feds-menu-content"></div>']))),e.forEach((e=>this.elements.footerMenu.appendChild(e.parentElement))),await this.loadMenuLogic(),await this.decorateMenu({item:this.elements.footerMenu,type:"footerMenu"}),this.elements.headlines=this.elements.footerMenu.querySelectorAll(".feds-menu-headline"),this.elements.footerMenu):this.elements.footerMenu})),(0,b.A)(this,"loadIcons",(async()=>{const e=await fetch("".concat(M,"/blocks/global-footer/icons.svg"));e.ok||(0,y.lanaLog)({message:"Issue with loadIcons",e:"".concat(e.statusText," url: ").concat(e.url),tags:"errorType=info,module=global-footer"});const t=await e.text(),o=(0,y.toFragment)(r||(r=(0,p.A)(['<div class="feds-footer-icons">',"</div>"])),t);this.block.append(o)})),(0,b.A)(this,"decorateProducts",(async()=>{this.elements.featuredProducts="";const e=this.body.querySelector(".link-group");if(!e)return this.elements.featuredProducts;const t=e.parentElement;this.elements.featuredProducts=(0,y.toFragment)(s||(s=(0,p.A)(['<div class="feds-featuredProducts"></div>'])));const[o]=await Promise.all([(0,v.replaceKey)("featured-products",(0,y.getFedsPlaceholderConfig)()),this.loadMenuLogic()]);return o&&o.length&&this.elements.featuredProducts.append((0,y.toFragment)(a||(a=(0,p.A)(['<span class="feds-featuredProducts-label">',"</span>"])),o)),t.querySelectorAll(".link-group").forEach((e=>{this.elements.featuredProducts.append(this.decorateLinkGroup(e))})),this.elements.featuredProducts})),(0,b.A)(this,"decorateRegionPicker",(async()=>{this.elements.regionPicker="";const e=this.body.querySelector(".region-selector a");if(!e)return this.elements.regionPicker;let t;try{t=new URL(e.href)}catch(d){return(0,y.lanaLog)({message:"Could not create URL for region picker; href: ".concat(e.href),tags:"errorType=error,module=global-footer"}),this.elements.regionPicker}const n=(0,y.toFragment)(i||(i=(0,p.A)(['<span class="feds-regionPicker-text">',"</span>"])),e.textContent),r=(0,y.toFragment)(l||(l=(0,p.A)(['\n      <a\n        href="','"\n        class="','"\n        aria-expanded="false"\n        aria-haspopup="true"\n        role="button">\n        <svg xmlns="http://www.w3.org/2000/svg" class="feds-regionPicker-globe" focusable="false">\n          <use href="#footer-icon-globe" />\n        </svg>\n        ',"\n      </a>"])),e.href,"feds-regionPicker",n);r.dataset.modalPath="".concat(t.pathname,"#_inline"),r.dataset.modalHash=t.hash;const s="feds-regionPicker-wrapper";this.elements.regionPicker=(0,y.toFragment)(c||(c=(0,p.A)(['<div class="','">\n        ',"\n      </div>"])),s,r);const a=()=>"true"===r.getAttribute("aria-expanded");if(""!==t.hash){(0,w.decorateAutoBlock)(r),r.href=t.hash,"modal"!==r.classList[0]&&(0,y.lanaLog)({message:"Modal block class missing from region picker pre loading the block; locale: ".concat(L,"; regionPickerElem: ").concat(r.outerHTML),tags:"errorType=warn,module=global-footer"}),(0,w.loadStyle)("".concat(M,"/blocks/modal/modal.css"));const{default:e}=await o.e(333).then(o.bind(o,2714)),n=await e(r),s=async()=>{const e=document.querySelector(".region-nav");if(e&&(0,w.getConfig)().standaloneGnav){if("true"!==e.getAttribute("data-failed"))return;e.classList.add("hide"),(0,w.loadStyle)("".concat(M,"/blocks/region-nav/region-nav.css"));const{default:t}=await o.e(4742).then(o.bind(o,4742));t(e),e.classList.remove("hide")}};n&&await s(),"modal"!==r.classList[0]&&(0,y.lanaLog)({message:"Modal block class missing from region picker post loading the block; locale: ".concat(L,"; regionPickerElem: ").concat(r.outerHTML),tags:"errorType=warn,module=global-footer"}),r.addEventListener("click",(()=>{a()||(r.setAttribute("aria-expanded","true"),window.addEventListener("milo:modal:loaded",s,{once:!0}))})),window.addEventListener("milo:modal:closed",(()=>{a()&&r.setAttribute("aria-expanded","false")}))}else{r.href="#",e.href=(0,w.localizeLink)(e.href),(0,w.decorateAutoBlock)(e),this.elements.regionPicker.append(e);const{default:t}=await o.e(6385).then(o.bind(o,6385));await t(e),r.addEventListener("click",(e=>{e.preventDefault();const t="true"===r.getAttribute("aria-expanded");r.setAttribute("aria-expanded",!t)})),document.addEventListener("click",(e=>{e.preventDefault(),a()&&!e.target.closest(".".concat(s))&&r.setAttribute("aria-expanded",!1)}))}return this.elements.regionPicker})),(0,b.A)(this,"decorateSocial",(()=>{this.elements.social="";const e=this.body.querySelector(".social");if(!e)return this.elements.social;const t=(0,y.toFragment)(d||(d=(0,p.A)(['<ul class="feds-social" daa-lh="Social"></ul>'])));return E.socialPlatforms.forEach(((o,n)=>{const r=e.querySelector('a[href*="'.concat(o,'"]'));if(!r)return;const s=(0,y.toFragment)(u||(u=(0,p.A)(['<li class="feds-social-item">\n          <a\n            href="','"\n            class="feds-social-link"\n            aria-label="','"\n            daa-ll="','"\n            target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" class="feds-social-icon" alt="',' logo">\n              <use href="#footer-icon-','" />\n            </svg>\n          </a>\n        </li>'])),(e=>e.replace("#_blank","").replace("#_dnb",""))(r.href),o,(0,y.getAnalyticsValue)(o,n+1),o,o);t.append(s)})),this.elements.social=0!==t.childElementCount?t:"",this.elements.social})),(0,b.A)(this,"decoratePrivacy",(()=>{this.elements.legal="";const e=this.body.querySelector("div > p > em");if(!e)return this.elements.legal;const t=e.closest("div"),o=(new Date).getFullYear();e.replaceWith((0,y.toFragment)(h||(h=(0,p.A)(['<span class="feds-footer-copyright">\n        Copyright \xa9 '," ","\n      </span>"])),o,e.textContent));const n=t.querySelector('a[href*="#interest-based-ads"]');for(null===n||void 0===n||n.prepend((0,y.toFragment)(f||(f=(0,p.A)(['<svg xmlns="http://www.w3.org/2000/svg" class="feds-adChoices-icon" focusable="false">\n        <use href="#footer-icon-adchoices" />\n      </svg>'])))),this.elements.legal=(0,y.toFragment)(m||(m=(0,p.A)(['<div class="feds-footer-legalWrapper" daa-lh="Legal"></div>'])));t.children.length;){const e=t.firstElementChild;e.classList.add("feds-footer-privacySection"),e.querySelectorAll("a").forEach(((e,t)=>{e.classList.add("feds-footer-privacyLink"),e.setAttribute("daa-ll",(0,y.getAnalyticsValue)(e.textContent,t+1))})),this.elements.legal.append(e)}return this.elements.legal})),(0,b.A)(this,"decorateFooter",(()=>(this.elements.footer=(0,y.toFragment)(g||(g=(0,p.A)(['<div class="feds-footer-wrapper">\n        ',"\n        ",'\n        <div class="feds-footer-options">\n          <div class="feds-footer-miscLinks">\n            ',"\n            ","\n          </div>\n          ","\n        </div>\n      </div>"])),this.elements.footerMenu,this.elements.featuredProducts,this.elements.regionPicker,this.elements.social,this.elements.legal),this.elements.footer))),this.block=e,this.elements={},this.init()}};function C(e){try{const t=new F({block:e});return(0,y.isDarkMode)()&&e.classList.add("feds--dark"),t}catch(t){return(0,y.lanaLog)({message:"Could not create footer",e:t}),null}}}}]);
//# sourceMappingURL=8660.ba70e2a8.chunk.js.map