(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[4935],{1625:e=>{function o(e){return Promise.resolve().then((()=>{var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}))}o.keys=()=>[],o.resolve=o,o.id=1625,e.exports=o},4935:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>y,getAkamaiCode:()=>v,getCookie:()=>p});var n,a,i,c,l,r,s=t(1608),d=(t(3658),"oldgeorouting"),u=e=>{const o=a("ol");e.forEach((e=>{const t=a("li",null,e);o.appendChild(t)}));const t=a("div",null,o),n=a("div",null,t),i=a("div",{class:"tabs quiet"},n);return a("div",{class:"section tabs-background-transparent"},i)},g=(e,o)=>{const t=a("div",null,"tab"),n=a("div",null,o),i=a("div");i.appendChild(t),i.appendChild(n);const c=a("div",{class:"section-metadata"},i),l=a("div",{class:"section"});return l.append(e),l.append(c),l},[h,f]=(()=>{let e=null,o=null;const t=()=>{if(!e)return;const o=e.scrollHeight>e.clientHeight;e.style.overflow=o?"auto":"visible"};return[n=>{n&&(e=n,requestAnimationFrame((()=>{t()})),o=new ResizeObserver((()=>{t()})),o.observe(e),window.addEventListener("milo:modal:closed",f))},()=>{e&&(e.removeAttribute("style"),o&&o.disconnect(),e=null,window.removeEventListener("milo:modal:closed",f))}]})(),p=e=>{var o;return null===(o=document.cookie.split("; ").find((o=>o.startsWith("".concat(e,"=")))))||void 0===o?void 0:o.split("=")[1]},v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((o,t)=>{let n=null;if(!e){n=new URLSearchParams(window.location.search).get("akamaiLocale")||sessionStorage.getItem("akamai")}null!==n?o(n.toLowerCase()):fetch("https://geo2.adobe.com/json/",{cache:"no-cache"}).then((e=>{e.ok?e.json().then((e=>{const t=e.country.toLowerCase();sessionStorage.setItem("akamai",t),o(t)})):t(new Error("Something went wrong getting the akamai Code. Response status text: ".concat(e.statusText)))})).catch((e=>{t(new Error("Something went wrong getting the akamai Code. ".concat(e.message)))}))}))};function m(e,o,t){const n=t||"us",a=o||"us",i="".concat(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Switch",":").concat(a.split("_")[0],"-").concat(n.split("_")[0],"|Geo_Routing_Modal");e.setAttribute("daa-ll",i),e.addEventListener("click",(()=>{const o="adobe.com"===window.location.host||window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"";document.cookie="international=".concat(a,";path=/;").concat(o),e.closest(".dialog-modal").dispatchEvent(new Event("closeModal")),f()}))}function w(e){return e.akamaiCodes.split(",").map((e=>e.toLowerCase().trim()))}var[b,k,x]=(()=>{let e=null,o=null,t=null,n=null;const a=o=>{if(n===o)return;let t=o.target;for(;t;){if(t===e)return;t=t.parentNode}k(),document.removeEventListener("click",a)},i=e=>{const o=Array.from(t).indexOf(e.target);if(-1!==o)switch(e.code){case"ArrowDown":{const e=t[o+1];null===e||void 0===e||e.focus();break}case"ArrowUp":{const e=t[o-1];null===e||void 0===e||e.focus();break}case"Tab":if(e.preventDefault(),e.shiftKey){const e=t[t.length-1];(t[o-1]||e).focus()}else{(t[o+1]||t[0]).focus()}break;case"Escape":e.stopPropagation(),document.removeEventListener("click",a),k()}};return[(n,a)=>{e=n,o=a,t=n.querySelectorAll("a"),t.length>0&&(t[0].focus(),e.addEventListener("keydown",i))},()=>{var t,n,a,c;null===(t=e)||void 0===t||t.removeEventListener("keydown",i),null===(n=e)||void 0===n||n.remove(),null===(a=o)||void 0===a||a.focus(),null===(c=o)||void 0===c||c.setAttribute("aria-expanded",!1)},e=>{n=e,document.addEventListener("click",a)}]})();function E(e,o,t,i){var c,l,r,s,d;const u=new DocumentFragment,g=null!==(c=null===(l=n.locales[o.prefix])||void 0===l?void 0:l.ietf)&&void 0!==c?c:"",h=null!==(r=null===(s=n.locales[o.prefix])||void 0===s?void 0:s.dir)&&void 0!==r?r:"ltr",f=t.filter((e=>e.prefix===o.prefix)),p=f.length?f[0][e.geo]:"",v=a("h3",{lang:g,dir:h},o.title.replace("{{geo}}",p)),w=a("p",{class:"locale-text",lang:g,dir:h},o.text),k="on"===(null===(d=o.globeGrid)||void 0===d?void 0:d.toLowerCase().trim())?"globe-grid.png":"flag-".concat(o.geo.replace("_","-"),".svg"),E=a("img",{class:"icon-milo",width:15,height:15,alt:o.button});E.addEventListener("error",(()=>E.src="".concat(n.miloLibs||n.codeRoot,"/features/georoutingv2/img/globe-grid.png")),{once:!0}),E.src="".concat(n.miloLibs||n.codeRoot,"/img/georouting/").concat(k);const L=a("span",{class:"icon margin-inline-end"},E),C=a("a",{class:"con-button blue button-l",lang:g,role:"button","aria-haspopup":!!i,"aria-expanded":!1,href:"#"},L);if(C.append(o.button),i){const t=a("img",{class:"icon-milo down-arrow",src:"".concat(n.miloLibs||n.codeRoot,"/ui/img/chevron.svg"),role:"presentation",width:15,height:15});L.appendChild(t);const c=t=>{t.preventDefault(),function(e,o,t,i,c,l){if(document.querySelector(".locale-modal-v2 .picker"))return;const r=a("ul",{class:"picker",dir:c});o.forEach((e=>{var o,i;const c=null!==(o=null===(i=n.locales[e.prefix])||void 0===i?void 0:i.ietf)&&void 0!==o?o:"",s=a("a",{lang:c,href:e.url||"/"},"".concat(t," - ").concat(e.language));s.hash&&!window.location.hash&&(s.hash="",s.setAttribute("href",s.href)),m(s,e.prefix,l.prefix);const d=a("li",{},s);r.appendChild(d)})),e.parentNode.insertBefore(r,e.nextSibling);const s=e.getBoundingClientRect();window.innerHeight-s.bottom<=r.offsetHeight&&r.classList.add("top"),b(r,e),e.setAttribute("aria-expanded",!0),x(i)}(C,i,o.button,t,h,e)};C.addEventListener("keydown",(e=>{"Space"===e.code&&c(e)})),C.addEventListener("click",c)}else C.href=o.url||"/",m(C,o.prefix,e.prefix);const y=a("a",{lang:g,href:e.url},e.button);m(y,e.prefix,o.prefix,"Stay");const R=a("div",{class:"link-wrapper"},C);return R.appendChild(y),u.append(v,w,R),u}async function L(e,o,t){const c=await async function(e){const o=i("fallbackrouting")||n.fallbackRouting,{prefix:t}=n.locale;let a=window.location.href.replace("".concat(window.location.origin),"");a.startsWith(t)&&(a=a.replace(t,""));const c=[],l=[];return e.forEach(((e,t)=>{const n=e.prefix?"/".concat(e.prefix):"",i="".concat(n).concat(a),r=fetch(i,{method:"HEAD"}).then((a=>{a.ok?(e.url=i,c[t]=e):"off"!==o&&(e.url="".concat(n),c[t]=e)}));l.push(r)})),l.length>0&&await Promise.all(l),c.filter((e=>!!e))}(o);if(!c.length)return null;const l=a("div",{class:"georouting-wrapper fragment"});if(window.location.hash&&window.addEventListener("milo:modal:closed",(()=>{if(!document.querySelector(".dialog-modal:not(#locale-modal-v2)"))return;l.querySelectorAll('a[href$="'.concat(window.location.hash,'"]')).forEach((e=>{e.hash="",e.setAttribute("href",e.href)}))}),{once:!0}),e.url=window.location.hash?document.location.href:"#",1===c.length){const o=E(e,c[0],t);return l.appendChild(o),l}const r=c.sort(((e,o)=>e.languageOrder-o.languageOrder)),s=u(r.map((e=>e.language)));return l.appendChild(s),r.forEach((o=>{const n=E(e,o,t,r),a=g(n,o.language);l.appendChild(a)})),l}async function C(e){const{miloLibs:o,codeRoot:a}=n,i=e.querySelector(".tabs"),s="".concat(o||a,"/blocks/section-metadata/section-metadata.css"),d="".concat(o||a,"/features/georoutingv2/georoutingv2.css"),u="".concat(o||a,"/blocks/modal/modal.css"),g=[i?c(i):null,i?new Promise((e=>{l(s,e)})):null,new Promise((e=>{l(d,e)})),new Promise((e=>{l(u,e)})),t.e(1474).then(t.bind(t,1474))],h=await Promise.all(g),{getModal:f,sendAnalytics:p}=h[4];return r=p,f(null,{class:"locale-modal-v2",id:"locale-modal-v2",content:e,closeEvent:"closeModal"})}async function y(e,o,u,g,f){var m,b,k;let x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(function(){const e=new URLSearchParams(window.location.search).get("georouting"),o=e||p("georouting");if("off"===e){const e=window.location.host.endsWith(".adobe.com")?"domain=adobe.com":"",t=new Date;t.setTime(t.getTime()+31536e6);const n="expires=".concat(t.toUTCString());document.cookie="georouting=".concat(o,";").concat(n,";path=/;").concat(e)}else"on"===e&&(document.cookie="georouting=; expires= Thu, 01 Jan 1970 00:00:00 GMT");return"off"===o}())return;n=e,a=o,i=u,c=g,l=f;const E=(null!==x&&void 0!==x?x:t(1625)("".concat(null!==(m=e.contentRoot)&&void 0!==m?m:"","/georoutingv2.json"))).then((e=>e.json())).catch((()=>null)),y=async e=>{const{default:o}=await t.e(741).then(t.bind(t,3122));return await o(n,a,i,e),d},R=null!==(b=null!==(k=await E)&&void 0!==k?k:await(()=>{var e;return fetch("".concat(null!==(e=n.contentRoot)&&void 0!==e?e:"","/georouting.json")).then((e=>e.json())).then(y).catch((()=>null))})())&&void 0!==b?b:await fetch("".concat((0,s.getFederatedContentRoot)(),"/federal/georouting/georoutingv2.json")).then((e=>e.json())).catch((()=>null));if(R===d)return;const{locale:S}=n,A=S.prefix.replace("/",""),_=p("international"),P="us"===_?"":_,j=R.georouting.data.find((e=>e.prefix===A));if(j)if(P||""===P){const e=A.split("_")[0],o=P.split("_")[0];if(e!==o){const t=R.georouting.data.filter((e=>e.prefix===P)),n=await L(j,t,R.geos.data);n&&(h(await C(n)),r(new Event("Load:".concat(o||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}}else{try{let e=await v();if(e&&!w(j).includes(e)){const o=(M=R.georouting.data,T=e,M.reduce(((e,o)=>(w(o).some((e=>e===T))&&e.push(o),e)),[])),t=await L(j,o,R.geos.data);t&&(h(await C(t)),"gb"===e&&(e="uk"),r(new Event("Load:".concat(A||"us","-").concat(e||"us","|Geo_Routing_Modal"))))}}catch(q){var D;null===(D=window.lana)||void 0===D||D.log(q.message)}var M,T}}}}]);
//# sourceMappingURL=4935.2e8efc62.chunk.js.map