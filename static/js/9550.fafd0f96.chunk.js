"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[9550],{9550:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w,getTargetPersonalization:()=>c});var a=n(4941),o=(n(5769),"alloy_sendEvent"),i=(e,t,n)=>{const a=t.split(".");let o=e;for(const i of a.slice(0,-1))o[i]&&"object"===typeof o[i]||(o[i]={}),o=o[i];o[a[a.length-1]]=n},r=(e,t,n)=>new Promise((a=>{const o=e=>{clearTimeout(i),a(e.detail)},i=setTimeout((()=>{window.removeEventListener(e,o),a(void 0!==n?n:{timeout:!0})}),t);window.addEventListener(e,o,{once:!0}),window.addEventListener("alloy_sendEvent_error",(()=>{clearTimeout(i),a({error:!0})}),{once:!0})}));function l(e){return Math.ceil(e/250)/4}function s(e){return l(Date.now()-e)}function d(e,t,n,a){var o,i;const r=s(t),d=l(n);let c="target response time ".concat(r,":timed out ").concat(e,":timeout ").concat(d);a&&(c+=":".concat(a)),null===(o=window._satellite)||void 0===o||null===(i=o.track)||void 0===i||i.call(o,"event",{documentUnloading:!0,xdm:{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{linkClicks:{value:1},type:"other",name:c}}},data:{_adobe_corpnew:{digitalData:{primaryEvent:{eventInfo:{eventName:c}}}}}})}var c=async()=>{const e=new URL(window.location.href).searchParams,t=parseInt(e.get("target-timeout"),10)||parseInt((0,a.getMetadata)("target-timeout"),10)||4e3,n=Date.now();window.addEventListener(o,(()=>{const e=s(n);try{window.lana.log("target response time: ".concat(e),{tags:"martech",errorType:"i"})}catch(t){console.error("Error logging target response time:",t)}}),{once:!0});let i=[],l=[];const c=await r(o,t);if(c.error){try{window.lana.log("target response time: ad blocker",{tags:"martech",errorType:"i"})}catch(g){console.error("Error logging target response time for ad blocker:",g)}return{targetManifests:i,targetPropositions:l}}var m;c.timeout?r(o,5100-t).then((()=>d(!0,n,t))):(d(!1,n,t),i=(e=>{var t,n;const a=((null===(t=e.propositions)||void 0===t?void 0:t.length)&&e.propositions||(null===(n=e.decisions)||void 0===n?void 0:n.length)&&e.decisions||[]).map((e=>e.items)).flat();return null!==a&&void 0!==a&&a.length?a.map((e=>{var t,n,a,o,i;const r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content;return r&&(r.manifestLocation||r.manifestContent)?{manifestPath:r.manifestLocation||r.manifestPath,manifestUrl:r.manifestLocation,manifestData:(null===(n=r.manifestContent)||void 0===n||null===(n=n.experiences)||void 0===n?void 0:n.data)||(null===(a=r.manifestContent)||void 0===a?void 0:a.data),manifestPlaceholders:null===(o=r.manifestContent)||void 0===o||null===(o=o.placeholders)||void 0===o?void 0:o.data,manifestInfo:null===(i=r.manifestContent)||void 0===i?void 0:i.info.data,name:e.meta["activity.name"],variantLabel:e.meta["experience.name"]&&"target-".concat(e.meta["experience.name"]),meta:e.meta}:null})).filter(Boolean):[]})(c.result),l=(null===(m=c.result)||void 0===m?void 0:m.propositions)||[]);return{targetManifests:i,targetPropositions:l}},m=()=>{const{miloLibs:e,codeRoot:t,entitlements:i}=(0,a.getConfig)();var l;l=i,r(o,3e3,[]).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&null!==(t=t.destinations)&&void 0!==t&&t.length?l((async e=>{const{getEntitlements:t}=await Promise.all([n.e(2226),n.e(9943)]).then(n.bind(n,9943));return t(e)})(e.result.destinations)):l([])})).catch((()=>l([]))),(0,a.loadLink)("".concat(e||t,"/features/personalization/personalization.js"),{as:"script",rel:"modulepreload"})};function g(){return/^(www|milo|business|blog)(\.stage)?\.adobe\.com$/.test(window.location.hostname)}var u=!1,v=async e=>u||(u=async()=>{var t,n;"loggedout"===(0,a.getMepEnablement)("xlg")?m():(0,a.loadIms)().then((()=>{window.adobeIMS.isSignedInUser()&&m()})).catch((()=>{})),i(window,"alloy_all.data._adobe_corpnew.digitalData.page.pageInfo.language",{locale:e.locale.prefix.replace("/",""),langCode:e.locale.ietf}),i(window,"digitalData.diagnostic.franklin.implementation","milo");const o=(null===(t=e.env.consumer)||void 0===t?void 0:t.marTechUrl)||(g()?"/marketingtech":"https://assets.adobedtm.com")+("prod"===e.env.name?"/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.min.js":"/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js");(0,a.loadLink)(o,{as:"script",rel:"preload"}),window.marketingtech={adobe:{launch:{url:o,controlPageLoad:!0},alloy:{edgeConfigId:(null===(n=e.env.consumer)||void 0===n?void 0:n.edgeConfigId)||e.env.edgeConfigId,edgeDomain:g()?window.location.hostname:"sstats.adobe.com",edgeBasePath:g()?"experienceedge":"ee"},target:!1},milo:!0},window.edgeConfigId=e.env.edgeConfigId,await(0,a.loadScript)((g()?"":"https://www.adobe.com")+("prod"===e.env.name?"/marketingtech/main.standard.min.js":"/marketingtech/main.standard.qa.min.js")),window._satellite.track("pageload")},await u(),u);async function w(){const e=(0,a.getConfig)();return v(e)}}}]);
//# sourceMappingURL=9550.fafd0f96.chunk.js.map