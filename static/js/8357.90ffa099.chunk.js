"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8357,731,3112],{731:(e,t,n)=>{n.r(t),n.d(t,{getFederatedContentRoot:()=>c,getFederatedUrl:()=>i});var a,o=n(4941),c=()=>{const{allowedOrigins:e=[],origin:t}=(0,o.getConfig)();if(a)return a;const n=t||window.location.origin;return a=[...e,"https://www.adobe.com","https://business.adobe.com","https://blog.adobe.com","https://milo.adobe.com","https://news.adobe.com"].some((e=>n.replace(".stage","")===e))?n:"https://www.adobe.com",(n.includes("localhost")||n.includes(".".concat(o.SLD,".")))&&(a="https://main--federal--adobecom.aem.".concat(n.endsWith(".live")?"live":"page")),a},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e||!e.includes("/federal/"))return e;if(e.startsWith("/"))return"".concat(c()).concat(e);try{const{pathname:t,search:n,hash:a}=new URL(e);return"".concat(c()).concat(t).concat(n).concat(a)}catch(n){var t;null===(t=window.lana)||void 0===t||t.log("getFederatedUrl errored parsing the URL: ".concat(e,": ").concat(n.toString()))}return e}},8357:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(2226),o=(n(731),n(4941));n(5769);function c(){const e=document.querySelectorAll('.mep-popup input[type="radio"]:checked, .mep-popup input[type="text"]'),t=[];e.forEach((e=>{let{value:n}=e;if("new-manifest"===e.getAttribute("id")){if(""!==e.value){try{const e=new URL(n);e&&(n=e.pathname)}catch(a){}t.push(n)}}else n="".concat(e.getAttribute("name"),"--").concat(n),t.push(n)}));const n=new URL(window.location.href);n.searchParams.set("mep",t.join("---"));const a=document.querySelector('.mep-popup input[type="checkbox"]#mepHighlightCheckbox');document.body.dataset.mepHighlight=a.checked,a.checked?n.searchParams.set("mepHighlight",!0):n.searchParams.delete("mepHighlight");document.querySelector('.mep-popup input[type="checkbox"]#mepPreviewButtonCheckbox').checked?n.searchParams.set("mepButton","off"):n.searchParams.delete("mepButton"),document.querySelector(".mep-popup a.con-button").setAttribute("href",n.href)}async function i(e,t){var n;const a=function(){const[,e]=new URL(window.location.href).hostname.split("--");if(e)return e;try{const e=document.querySelector("aem-sidekick, helix-sidekick");if(e){var t;const[,n]=new URL(null===(t=JSON.parse(e.getAttribute("status")))||void 0===t?void 0:t.live.url).hostname.split("--");return n}}catch(n){console.log("Error getting repo from sidekick",n)}return!1}();if(!a)return t.location=e.dataset.manifestPath,!1;const o=await fetch("https://admin.hlx.page/status/adobecom/".concat(a,"/main").concat(e.dataset.manifestPath,"?editUrl=auto")),c=await o.json(),i=null===c||void 0===c||null===(n=c.edit)||void 0===n?void 0:n.url;return i?(t.location=i,e.href=i,!0):(t.location=e.dataset.manifestUrl,!1)}function s(e){var t;const n=(0,o.createTag)("div",{class:"mep-preview-overlay static-links",style:"display: none;"});document.body.append(n);const s=document.createElement("div");s.classList.add("mep-hidden");let l="";const d=[];null===e||void 0===e||e.forEach((e=>{var t,n,o;const{variantNames:c,manifestPath:i=e.manifest,selectedVariantName:s,name:r,manifestType:p,manifestUrl:m,manifestOverrideName:u}=e,v=m||i;let f="";c.forEach((e=>{const t={attribute:"",class:""};e===s&&(t.attribute='checked="checked"',t.class='class="mep-manifest-selected-variant"',d.push("".concat(i,"--").concat(e))),f+='<div>\n        <input type="radio" name="'.concat(i,'" value="').concat(e,'" id="').concat(i,"--").concat(e,'" ').concat(t.attribute,'>\n        <label for="').concat(i,"--").concat(e,'" ').concat(t.class,">").concat(e,"</label>\n      </div>")}));const h={attribute:"",class:""};c.includes(s)||(h.attribute='checked="checked"',h.class='class="mep-manifest-selected-variant"',d.push("".concat(i,"--default"))),f+='<div>\n      <input type="radio" name="'.concat(i,'" value="default" id="').concat(i,'--default" ').concat(h.attribute,'>\n      <label for="').concat(i,'--default" ').concat(h.class,">Default (control)</label>\n    </div>");const g=(0,a.getFileName)(i),b=r?"".concat(r,"<br><i>").concat(g,"</i>"):g,w=e.event?"<p>Scheduled - ".concat(e.disabled?"inactive":"active","</p>\n         <p>On: ").concat(null===(t=e.event.start)||void 0===t?void 0:t.toLocaleString(),' - <a target= "_blank" href="?instant=').concat(null===(n=e.event.start)||void 0===n?void 0:n.toISOString(),'">instant</a></p>\n         <p>Off: ').concat(null===(o=e.event.end)||void 0===o?void 0:o.toLocaleString(),"</p>"):"";let k="";k=p!==a.TRACKED_MANIFEST_TYPE?"N/A for this manifest type":u||g.replace(".json","").slice(0,20),l+='<div class="mep-manifest-info" title="Manifest location: '.concat(v,"&#013;Analytics manifest name: ").concat(k,'">\n      <div class="mep-manifest-title">\n        ').concat(b,'\n        <i></i>\n        <a class="mep-edit-manifest" data-manifest-url="').concat(v,'" data-manifest-path="').concat(v,'" target="_blank" title="Open manifest">\n          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="16px" height="16px" fill-rule="nonzero"><g transform=""><g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M22.82813,3c-0.51175,0 -1.02356,0.19544 -1.41406,0.58594l-2.41406,2.41406l5,5l2.41406,-2.41406c0.781,-0.781 0.781,-2.04713 0,-2.82812l-2.17187,-2.17187c-0.3905,-0.3905 -0.90231,-0.58594 -1.41406,-0.58594zM17,8l-11.74023,11.74023c0,0 0.91777,-0.08223 1.25977,0.25977c0.342,0.342 0.06047,2.58 0.48047,3c0.42,0.42 2.64389,0.12436 2.96289,0.44336c0.319,0.319 0.29688,1.29688 0.29688,1.29688l11.74023,-11.74023zM4,23l-0.94336,2.67188c-0.03709,0.10544 -0.05623,0.21635 -0.05664,0.32813c0,0.55228 0.44772,1 1,1c0.11177,-0.00041 0.22268,-0.01956 0.32813,-0.05664c0.00326,-0.00128 0.00652,-0.00259 0.00977,-0.00391l0.02539,-0.00781c0.00196,-0.0013 0.00391,-0.0026 0.00586,-0.00391l2.63086,-0.92773l-1.5,-1.5z"></path></g></g></g></svg>\n        </a>\n        ').concat(w,'\n      </div>\n      <div class="mep-manifest-variants">').concat(f,"</div>\n    </div>")}));const r=(0,o.getConfig)();let p=r.mep.targetEnabled?"on":"off";"postlcp"===r.mep.targetEnabled&&(p="on post LCP");const m=(0,o.getMetadata)("personalization"),u=m&&""!==m?"on":"off",v=new URL(window.location.href);v.searchParams.set("mep",d.join("---"));let f="";null!==(t=r.mep)&&void 0!==t&&t.highlight&&(f='checked="checked"',document.body.dataset.mepHighlight=!0);const h="preview-button";s.innerHTML='\n    <div class="mep-manifest mep-badge">\n      <span class="mep-open"></span>\n      <div class="mep-manifest-count">'.concat((null===e||void 0===e?void 0:e.length)||0,' Manifest(s) served</div>\n    </div>\n    <div class="mep-popup">\n      <div class="mep-popup-header">\n        <div>\n          <h4>').concat((null===e||void 0===e?void 0:e.length)||0,' Manifest(s) served</h4>\n          <span class="mep-close"></span>\n          <div class="mep-manifest-page-info-title">Page Info:</div>\n          <div>Target integration feature is ').concat(p,"</div>\n          <div>Personalization feature is ").concat(u,"</div>\n          <div>Page's Prefix/Region/Locale are ").concat(r.mep.geoPrefix," / ").concat(r.locale.region," / ").concat(r.locale.ietf,'</div>\n        </div>\n      </div>\n      <div class="mep-manifest-list">\n        <div class="mep-manifest-info">\n          <div class="mep-manifest-variants">\n            <input type="checkbox" name="mepHighlight" id="mepHighlightCheckbox" ').concat(f,' value="true"> <label for="mepHighlightCheckbox">Highlight changes</label>\n          </div>\n        </div>\n        ').concat(l,'\n        <div class="mep-advanced-container">\n          <div class="mep-toggle-advanced">Advanced options</div>\n          <div class="mep-manifest-info mep-advanced-options">\n            <div>\n              Optional: new manifest location or path\n            </div>\n            <div class="mep-manifest-variants">\n              <div>\n                <input type="text" name="new-manifest" id="new-manifest">\n              </div>\n            </div>\n          </div>\n          <div class="mep-manifest-info">\n            <div class="mep-manifest-variants mep-advanced-options">\n              <input type="checkbox" name="mepPreviewButtonCheckbox" id="mepPreviewButtonCheckbox" value="off"> <label for="mepPreviewButtonCheckbox">add mepButton=off to preview link</label>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="dark">\n        <a class="con-button outline button-l" data-id="').concat(h,'" title="Preview above choices">Preview</a>\n      </div>\n    </div>');const g=s.querySelector('a[data-id="'.concat(h,'"]'));g&&(g.href=v.href),n.append(s),function(e){e.querySelectorAll('.mep-popup input[type="radio"], .mep-popup input[type="checkbox"]').forEach((e=>{e.addEventListener("change",c)})),e.querySelectorAll('.mep-popup input[type="text"]').forEach((e=>{e.addEventListener("keyup",c)})),e.querySelector(".mep-manifest.mep-badge").addEventListener("click",(()=>{e.classList.toggle("mep-hidden")})),e.querySelector(".mep-close").addEventListener("click",(()=>{document.body.removeChild(document.querySelector(".mep-preview-overlay"))})),e.querySelector(".mep-toggle-advanced").addEventListener("click",(()=>{document.querySelector(".mep-advanced-container").classList.toggle("mep-advanced-open")})),e.querySelectorAll("a[data-manifest-path]").forEach((e=>{e.addEventListener("click",(()=>{if(e.getAttribute("href"))return!1;const t=window.open("","_blank");return t.document.write("<html><head></head><body>\n        Please wait while we redirect you. \n        If you are not redirected, please check that you are signed into the AEM sidekick\n        and try again.\n        </body></html>"),t.document.close(),t.focus(),i(e,t),!0}))}))}(s)}async function l(){const{miloLibs:e,codeRoot:t,mep:n}=(0,o.getConfig)();(0,o.loadStyle)("".concat(e||t,"/features/personalization/preview.css")),s(null===n||void 0===n?void 0:n.experiments),null!==n&&void 0!==n&&n.experiments&&n.experiments.forEach((e=>{var t,n,o;let{selectedVariant:c,manifest:i}=e;const s=(0,a.getFileName)(i),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manifestId";document.querySelectorAll(e).forEach((e=>e.dataset[t]=s))};null===c||void 0===c||null===(t=c.replacefragment)||void 0===t||t.forEach((e=>{let{val:t}=e;return l('[data-path*="'.concat(t,'"]'))})),null===c||void 0===c||null===(n=c.useblockcode)||void 0===n||n.forEach((e=>{let{selector:t}=e;t&&l(".".concat(t),"codeManifestId")})),null===c||void 0===c||null===(o=c.updatemetadata)||void 0===o||o.forEach((e=>{let{selector:t}=e;"gnav-source"===t&&l("header, footer")})),document.querySelectorAll('.section[class*="merch-cards"] .fragment[data-manifest-id="'.concat(s,'"] merch-card')).forEach((e=>e.dataset.manifestId=s))}))}}}]);
//# sourceMappingURL=8357.90ffa099.chunk.js.map