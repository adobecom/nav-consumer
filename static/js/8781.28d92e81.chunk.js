"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8781],{8781:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a(4705),r=a(5926),n=a(2342),i=(a(3458),a(3815),a(5379),a(2560),e=>[...e.querySelectorAll("a[href],button:not([disabled])")]),o=e=>[...e.querySelectorAll("a, button, .feds-menu-headline")].filter((e=>{let t=e.closest(".feds-menu-items"),a=null===t||void 0===t?void 0:t.previousElementSibling;return!t||"true"===(null===a||void 0===a?void 0:a.getAttribute("aria-expanded"))}));function s(){let{triggerEl:e,e:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{items:a,curr:l}=function(){var e;let t=[...document.querySelectorAll(r.a.localNavItems)],a=document.querySelector(r.a.expandedPopupTrigger),l=null===(e=document.activeElement.closest(r.a.localNavItem))||void 0===e?void 0:e.querySelector(r.a.localNavItems),n=t.indexOf(l);return{items:t,curr:n,prev:(0,r.d)(n,t),next:(0,r.c)(n,t),openTrigger:a}}(),i=e||a[l];if(null!==i&&void 0!==i&&i.hasAttribute("aria-haspopup")&&(t&&t.preventDefault(),"false"===i.getAttribute("aria-expanded"))){let e=i.classList.contains("feds-localnav-title")||i.classList.contains("feds-menu-headline");e&&document.querySelector(r.a.localNav).classList.add("feds-localnav--active"),(0,n.I)({element:i,type:e?"headline":"localNavItem"})}}function c(e,t){let a=[...document.querySelector(".feds-localnav-items").children].flatMap((e=>{let t=e.querySelector("a, button, .feds-menu-headline");if(!t||!t.matches('[aria-haspopup="true"][aria-expanded="true"]'))return t?[t]:[];let a=e.querySelector(".feds-popup");return a?[t,...e.querySelector(".feds-menu-items")?o(a):i(a)]:[t]})),l=a.indexOf(e),n=e.classList.contains("feds-localnav-title"),c=document.querySelector("".concat(r.a.localNav," > button"));if(-1===l&&!n)return;if(n&&1===t&&s({triggerEl:e}),1===t&&e===a.at(-1)||-1===t&&e===a.at(0))return void(null===c||void 0===c||c.focus());var u;if(-1===t&&n)return void(null===(u=a.at(-1))||void 0===u||u.focus());let d=a[(l+t+a.length)%a.length];if(d.focus(),d.matches('[aria-haspopup="true"]')){var v;let e=d.matches('[aria-expanded="false"]');s({triggerEl:d}),-1===t&&e&&(null===(v=(d.parentElement.querySelector(".feds-menu-items")?o(d.parentElement):i(d.parentElement.querySelector(".feds-popup"))).at(-1))||void 0===v||v.focus())}}var u=class{constructor(){var e,t;(0,l.A)(this,"handleKeyDown",(e=>{var t,a;let{code:l,target:i}=e,o=i.classList.contains(r.a.headline.slice(1));switch(l){case"Space":case"Enter":e.stopPropagation(),e.preventDefault(),o?(0,n.I)({element:i,event:e,type:"headline"}):e.target.click();break;case"Escape":e.preventDefault(),this.localNav.classList.contains(r.a.localNavActive.slice(1))&&(null!==(t=this.localNavTrigger)&&void 0!==t&&t.click(),null===(a=this.localNavTrigger)||void 0===a||a.focus());break;case"ArrowDown":case"ArrowUp":e.stopPropagation(),e.preventDefault(),c(i,"ArrowDown"===l?1:-1)}})),(0,l.A)(this,"addEventListeners",(()=>{var e,t;null!==(e=this.localNav)&&void 0!==e&&e.addEventListener("keydown",this.handleKeyDown),null===(t=this.exitLink)||void 0===t||t.addEventListener("focus",(e=>{var t;e.preventDefault(),null===(t=this.localNavTrigger)||void 0===t||t.focus()}))})),this.localNav=document.querySelector(r.a.localNav),this.localNavTrigger=null===(e=this.localNav)||void 0===e?void 0:e.querySelector(r.a.localNavTitle),this.exitLink=null===(t=this.localNav)||void 0===t?void 0:t.querySelector(r.a.localNavExit),this.addEventListeners()}}}}]);
//# sourceMappingURL=8781.28d92e81.chunk.js.map