"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[7996],{7996:(e,t,o)=>{o.r(t),o.d(t,{PROD_BASE_URL:()=>a,REGEX_ADOBETV:()=>r,REGEX_YOUTUBE:()=>n,VIDEO_OBJECT_PROVIDERS:()=>c,appendScriptTag:()=>h,default:()=>v,getRepoByImsClientId:()=>l,getStructuredData:()=>p,getVideoObject:()=>d,logError:()=>i,parseVideoUrl:()=>s,sha256:()=>u});o(5769);var a="https://www.adobe.com/seotech/api",r=/(?:https?:\/\/)?(?:stage-)?video.tv.adobe.com\/v\/([\d]+)/,n=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?([a-zA-Z0-9_-]+)/,c=[{provider:"adobe",regex:r},{provider:"youtube",regex:n}];function i(e){var t;null===(t=window.lana)||void 0===t||t.log("SEOTECH: ".concat(e),{debug:!1,implicitSampleRate:100,sampleRate:100,tags:"errorType=seotech"})}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;for(const{regex:o,provider:a}of t){const t=e.match(o);if(t)return{provider:a,id:t[1]}}return null}async function d(e){let{baseUrl:t=a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s(e);if(!o)throw new Error("Invalid video url: ".concat(e));const{provider:r,id:n}=o,c="".concat(t,"/json-ld/types/video-object/providers/").concat(r,"/").concat(n),i=await fetch(c,{headers:{"Content-Type":"application/json"}}),d=await(null===i||void 0===i?void 0:i.json());if(!i.ok)throw new Error("Failed to fetch video: ".concat(null===d||void 0===d?void 0:d.error));return d.videoObject}function l(e){return{"adobedotcom-cc":"cc",acrobatmilo:"dc",bacom:"bacom",homepage_milo:"homepage",milo:"milo"}[e]}async function u(e){const t=(new TextEncoder).encode(e),o=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(o)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async function p(e,t){let{baseUrl:o=a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)throw new Error("bucket and id are required");const r="".concat(o,"/structured-data/").concat(e,"/").concat(t),n=await fetch(r);if(!n||!n.ok)return null;return await n.json()}async function h(e){let{locationUrl:t,getMetadata:o,createTag:a,getConfig:r}=e;const n=new URL(t),c=new URLSearchParams(n.search).get("seotech-api-base-url")||void 0,s=(e,t)=>{if(!e)return;const o={type:"application/ld+json"};t&&(o.class=t);const r=a("script",o,JSON.stringify(e));document.head.append(r)},h=[];if("on"===o("seotech-structured-data")){var v,m;const e=l(null===(v=r())||void 0===v?void 0:v.imsClientId),t=await u(null===(m=n.pathname)||void 0===m?void 0:m.replace(".html",""));h.push(p(e,t,{baseUrl:c}).then((e=>s(e,"seotech-structured-data"))).catch((e=>i(e.message))))}const w=o("seotech-video-url");return w&&h.push(d(w,{baseUrl:c}).then((e=>s(e,"seotech-video-url"))).catch((e=>i(e.message)))),Promise.all(h)}var v=h}}]);
//# sourceMappingURL=7996.0040b035.chunk.js.map