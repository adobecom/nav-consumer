"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[7230],{7230:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h,getTargetAjoPersonalization:()=>g});var n=o(4112),a=(o(6483),"alloy_propositionFetch"),r="alloy_sendEvent",i=new URL(window.location.href).searchParams,l=parseInt(i.get("target-timeout"),10)||parseInt((0,n.f)("target-timeout"),10)||4e3,s=(e,t,o)=>{let n=t.split("."),a=e;for(let r of n.slice(0,-1))(!a[r]||"object"!=typeof a[r])&&(a[r]={}),a=a[r];a[n[n.length-1]]=o},d=(e,t,o)=>new Promise((n=>{let i=e=>{clearTimeout(l),n(e.detail)},l=setTimeout((()=>{window.removeEventListener(e,i),n(void 0!==o?o:{timeout:!0})}),t),s=e===r?"alloy_sendEvent_error":a;window.addEventListener(e,i,{once:!0}),window.addEventListener(s,(()=>{clearTimeout(l),n({error:!0})}),{once:!0})}));function c(e){return function(e){return Math.ceil(e/250)/4}(Date.now()-e)}var g=async e=>{var t;let{handleAlloyResponse:o,config:n,sendTargetResponseAnalytics:i}=e,s=Date.now(),g=n.mep.ajoEnabled,m=g?a:r,w=g?"ajo":"target";window.addEventListener(m,(()=>{let e=c(s);try{window.lana.log("target response time: ".concat(e),{tags:"martech",errorType:"e",sampleRate:.5})}catch(t){console.error("Error logging target response time:",t)}}),{once:!0});let u=[],p=[],h=await d(m,l);if(h.error){try{window.lana.log("".concat(w," response time: ad blocker"),{tags:"martech",errorType:"e",sampleRate:.5})}catch(v){console.error("Error logging ".concat(w," response time for ad blocker:"),v)}return{targetAjoManifests:u,targetAjoPropositions:p}}return h.timeout?d(m,5100-l).then((()=>i(!0,s,l))):(i(!1,s,l),u=o(h.result),p=(null===(t=h.result)||void 0===t?void 0:t.propositions)||[]),{targetAjoManifests:u,targetAjoPropositions:p}},m=()=>{let{miloLibs:e,codeRoot:t,entitlements:a}=(0,n.i)();var i;i=a,d(r,3e3,[]).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&null!==(t=t.destinations)&&void 0!==t&&t.length?i((async e=>{let{getEntitlements:t}=await Promise.all([o.e(3269),o.e(1154)]).then(o.bind(o,1154));return t(e)})(e.result.destinations)):i([])})).catch((()=>i([]))),(0,n.t)("".concat(e||t,"/features/personalization/personalization.js"),{as:"script",rel:"modulepreload"})};function w(){return/^(www|milo|business|blog|news)(\.stage)?\.adobe\.com$/.test(window.location.hostname)}var u=!1,p=async e=>u||(u=async()=>{var t,o;"loggedout"===(0,n.O)("xlg")?m():(0,n.P)().then((()=>{window.adobeIMS.isSignedInUser()&&m()})).catch((()=>{})),s(window,"alloy_all.data._adobe_corpnew.digitalData.page.pageInfo.language",{locale:e.locale.prefix.replace("/",""),langCode:e.locale.ietf}),s(window,"digitalData.diagnostic.franklin.implementation","milo");let a=(null===(t=e.env.consumer)||void 0===t?void 0:t.marTechUrl)||(w()?"/marketingtech":"https://assets.adobedtm.com")+("prod"===e.env.name?"/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.min.js":"/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js");(0,n.t)(a,{as:"script",rel:"preload"}),window.marketingtech={adobe:{launch:{url:a,controlPageLoad:!0},alloy:{edgeConfigId:(null===(o=e.env.consumer)||void 0===o?void 0:o.edgeConfigId)||e.env.edgeConfigId,edgeDomain:w()?window.location.hostname:"sstats.adobe.com",edgeBasePath:w()?"experienceedge":"ee"},target:!1},milo:!0},window.edgeConfigId=e.env.edgeConfigId,await(0,n.y)((w()?"":"https://www.adobe.com")+("prod"===e.env.name?"/marketingtech/main.standard.min.js":"/marketingtech/main.standard.qa.min.js")),window._satellite.track("pageload")},await u(),u);async function h(){let e=(0,n.i)();return p(e)}}}]);
//# sourceMappingURL=7230.172719fb.chunk.js.map