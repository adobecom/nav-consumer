"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[9644],{9644:(e,t,n)=>{n.r(t),n.d(t,{DATA_TYPE:()=>P,PERSONALIZATION_TAGS:()=>s,TRACKED_MANIFEST_TYPE:()=>b,US_GEO:()=>l,addMepAnalytics:()=>ce,addSectionAnchors:()=>X,applyPers:()=>we,buildVariantInfo:()=>ie,categorizeActions:()=>me,cleanAndSortManifestList:()=>ve,combineMepSources:()=>be,createContent:()=>N,createMartechMetadata:()=>ee,deleteMarkedEls:()=>$,fetchData:()=>_,getEntitlementMap:()=>re,getEntitlements:()=>le,getFileName:()=>C,getManifestConfig:()=>de,handleCommands:()=>Y,handleFragmentCommand:()=>ge,init:()=>Me,matchGlob:()=>W,modifyNonFragmentSelector:()=>J,normalizePath:()=>L,parseManifestVariants:()=>Q,parseNestedPlaceholders:()=>he,parsePlaceholders:()=>te,replaceInner:()=>F,replacePlaceholders:()=>j,updateFragDataProps:()=>Z});var a=n(2861),i=window.screen.width<550||window.screen.height<550,o=navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints>1,r=navigator.userAgent.includes("Linux")&&navigator.maxTouchPoints>1,l="en-us",s={all:()=>!0,chrome:()=>navigator.userAgent.includes("Chrome")&&!navigator.userAgent.includes("Edg"),firefox:()=>navigator.userAgent.includes("Firefox"),safari:()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),edge:()=>navigator.userAgent.includes("Edg"),android:()=>navigator.userAgent.includes("Android")||r,ios:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||o,windows:()=>navigator.userAgent.includes("Windows"),mac:()=>navigator.userAgent.includes("Macintosh")&&!o,"mobile-device":()=>o||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i.test(navigator.userAgent)||r,phone:()=>s["mobile-device"]()&&i,tablet:()=>s["mobile-device"]()&&!i,desktop:()=>!s["mobile-device"](),loggedout:()=>{var e;return!(null!==(e=window.adobeIMS)&&void 0!==e&&e.isSignedInUser())},loggedin:()=>{var e;return!(null===(e=window.adobeIMS)||void 0===e||!e.isSignedInUser())}},c=Object.keys(s),d="p13n-deleted",u="p13n-replaced",m="not ",f="target-",p="_inline",v="martechReturned",g=new URL(window.location.href),h={all:"all",includeFragments:"include-fragments"},w=!1,b="personalization",y=/[^a-z0-9\- _,&=:]/g,E=["action","selector","pagefilter","page filter","page filter optional"],P={JSON:"json",TEXT:"text"},A="in-block:",L=function(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e;if((e=>null===e||void 0===e?void 0:e.includes("/content/dam/"))(i)||null===(t=i)||void 0===t||!t.includes("/"))return i;if(i.includes("/federal/"))return(0,a.getFederatedUrl)(i);const o=(0,a.getConfig)();i.startsWith(o.codeRoot)||i.startsWith("http")||i.startsWith("/")||(i="/".concat(i));try{const e=new URL(i),{hash:t,pathname:a}=e,r=a.split("/")[1],l="#_dnt";return(i.startsWith(o.codeRoot)||i.includes(".hlx.")||i.includes(".aem.")||i.includes(".adobe."))&&(i=!n||"en-US"===o.locale.ietf||t.includes(l)||r in o.locales||i.includes(".json")?a:"".concat(o.locale.prefix).concat(a)),"".concat(i).concat(t.replace(l,""))}catch(r){return i}},C=e=>null===e||void 0===e?void 0:e.split("/").pop(),M=["insertscript","replacepage","updatemetadata","useblockcode"],T={insertafter:"afterend",insertbefore:"beforebegin",prepend:"afterbegin",append:"beforeend"},k={remove:"remove",replace:"replace",updateAttribute:"updateattribute"};function I(e,t,n){t&&(e.dataset.manifestId=t),n&&(e.dataset.adobeTargetTestid=n)}function x(e){const t=e.toLowerCase().trim();return t.startsWith("/")||t.startsWith("http")?"fragment":"other"}function j(e,t){const n=t||(0,a.getConfig)().placeholders;if(!n)return e;let i=e;const o=i.match(/{{(.*?)}}/g);return o?(o.forEach((e=>{const t=e.replace(/{{|}}/g,"").trim();n[t]&&(i=i.replace(e,n[t]))})),i):i}var S=(e,t,n,i,o)=>{"replace"===t&&e.classList.add(d,u);let r=n;try{const{pathname:e,search:t,hash:a}=new URL(n);r="".concat(e).concat(t).concat(a)}catch{}const l=(0,a.createTag)("a",{href:r},n);I(l,i,o);const s=(0,a.createTag)("p",void 0,l);return/#.*delay=/.test(r)&&s.classList.add("hide-block"),(e=>{const t=document.querySelector("body > main > div");return t===e||(null===t||void 0===t?void 0:t.contains(e))})(e)&&(0,a.loadLink)("".concat((0,a.localizeLink)(l.href),".plain.html"),{as:"fetch",crossorigin:"anonymous",rel:"preload"}),s},N=(e,t)=>{let{content:n,manifestId:i,targetManifestId:o,action:r,modifiers:l}=t;if("replace"===r&&I(e,i,o),"A"===(null===e||void 0===e?void 0:e.nodeName)&&null!==l&&void 0!==l&&l.includes("href"))return e.setAttribute("href",((e,t,n)=>{const a=e.getAttribute("href"),i=j(t);return"insertafter"===n||"append"===n?"".concat(a).concat(i):"insertbefore"===n||"prepend"===n?"".concat(i).concat(a):i})(e,n,r)),I(e,i,o),e;if("fragment"!==x(n)){const t=j(n);if("replace"===r)return e.innerHTML=t,e;const l=(0,a.createTag)("div",{},t);return I(l,i,o),l}const s=S(e,r,n,i,o);return I(s,i,o),"MAIN"!==(null===e||void 0===e?void 0:e.parentElement.nodeName)?s:(0,a.createTag)("div",void 0,s)},O={[k.remove]:(e,t)=>{let{content:n}=t;"false"!==n&&e.classList.add(d)},[k.replace]:(e,t)=>{e&&!e.classList.contains(u)&&e.insertAdjacentElement("beforebegin",N(e,t))},[k.updateAttribute]:(e,t)=>{const{manifestId:n,targetManifestId:a}=t;if(!t.attribute||!t.content)return;const[i,o]=t.attribute.split("_");let r;if("href"===i&&o){const n=e.getAttribute("href");try{const e=new URL(n),a=new URLSearchParams(e.search);a.set(o,t.content),e.search=a.toString(),r=e.toString()}catch(l){console.log("Invalid updateAttribute URL: ".concat(n),l.message||l)}}else r=t.content;r&&(e.setAttribute(i,r),I(e,n,a))}},V=function(){var e;null!==(e=(0,a.getConfig)().mep)&&void 0!==e&&e.preview&&console.log(...arguments)},_=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.JSON,n=arguments.length>2?arguments[2]:void 0;try{const a=await fetch(L(e),n);if(!a.ok){if(404===a.status)throw new Error("File not found");throw new Error("Invalid response: ".concat(a.status," ").concat(a.statusText))}return await a[t]()}catch(a){V("Error loading content: ".concat(e),a.message||a)}return null},U=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce(((e,n)=>[...e,...n[t]||[]]),n)},R=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(((e,a)=>{var i;return null===(i=a[t])||void 0===i||i.forEach((n=>{const{selector:i,val:o}=n;if("blocks"===t)return void(e[i]=o);if(i in e)return;const r={action:n.action,fragment:o,selector:i,manifestPath:a.manifestPath,manifestId:n.manifestId,targetManifestId:n.targetManifestId};for(const t in e)e[t].fragment===i&&(e[t]=r);e[i]=r})),{...n,...e}}),{})},W=(e,t)=>{const n=e.replace(/\*\*/g,".*");return new RegExp("^".concat(n,"(\\.html)?$"),"i").test(t)};async function F(e,t){if(!e||!t)return!1;let n=e.endsWith("/")?"".concat(e,"index"):e;n=n.endsWith(".plain.html")?n:"".concat(n,".plain.html");const i=await _(n,P.TEXT);if(!i)return!1;t.innerHTML=i;const{decorateArea:o}=(0,a.getConfig)();return o&&o(t),!0}var z=e=>{const{selector:t,val:n}=e;if(!t||!n)return;const i=t.startsWith("og:")?"property":"name";let o=document.querySelector("meta[".concat(i,'="').concat(t,'"]'));o||(o=(0,a.createTag)("meta",{[i]:t}),document.head.append(o)),o.setAttribute("content",n)};function D(e){return Object.keys(e).reduce(((t,n)=>{var a;return t[(a=n,a.toLowerCase().replace(y,""))]=e[n],t}),{})}var q=(e,t)=>e?t.replace(e,":nth-child(".concat(e,")")):t;function B(e){let t=e;const n={section:"main > div","primary-cta":"strong a","secondary-cta":"em a","action-area":"*:has(> em a, > strong a)","any-marquee-section":'main > div:has([class*="marquee"])',"any-marquee":'[class*="marquee"]',"any-header":":is(h1, h2, h3, h4, h5, h6)"},a=t.match(/^[a-zA-Z/./-]*/),i=a?a[0].toLowerCase():"",o=i.split(/\.|:/)[0],r=t.match(/[0-9]*$/),l=r&&i.match(/^[a-zA-Z]/)?r[0]:"";return!i||["html","body","header","footer","main","div","a","p","strong","em","picture","source","img","h","ul","ol","li"].includes(i)?t:["row","col"].includes(i)?(t=t.replace(i,"> div"),t=q(l,t),t):Object.keys(n).includes(o)?(t=t.replace(o,n[o]),t=q(l,t),t):(i.startsWith(".")||(t=".".concat(t)),l&&(t=t.replace(l,""),t="".concat(t,":nth-child(").concat(l," of ").concat(t,")")),t)}function J(e,t){const{sel:n,modifiers:a}=function(e){let t=e;const n=[],a=t.split(/\s+#_/);return a.length&&(t=a.shift(),a.forEach((e=>{e.split(/_|#_/).forEach((e=>n.push(e.toLowerCase().trim())))}))),{sel:t,modifiers:n}}(e);let i,o=n.split(">").join(" > ").split(",").join(" , ").replaceAll(/main\s*>?\s*(section\d*)/gi,"$1").split(/\s+/).map(B).join(" ").trim();if(t===k.updateAttribute){const e=o.split(" ").pop();i=e.replace(".",""),o=o.replace(e,"").trim()}return{modifiedSelector:o,modifiers:a,attribute:i}}var G=(e,t)=>{if(!t)return e;try{const{origin:n,pathname:a,search:i}=new URL(e);return"".concat(n).concat(a).concat(i,"#").concat(t)}catch(n){return"".concat(e,"#").concat(t)}},H=(e,t,n)=>{[...e[0].children].forEach((e=>e.dataset[t]=n))},Z=(e,t,n,a)=>{const{manifestId:i,adobeTargetTestid:o}=e.dataset;t?(i&&H(n,"manifestId",i),o&&H(n,"adobeTargetTestid",o)):I(a,i,o)},$=function(){[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".".concat(d))].forEach((e=>e.remove()))};function X(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".section-metadata").forEach((e=>{[...e.children].forEach((t=>{var n,a;const i=null===(n=t.children[0])||void 0===n?void 0:n.textContent.toLowerCase().trim(),o=null===(a=t.children[1])||void 0===a?void 0:a.textContent.toLowerCase().trim().replaceAll(/\s+/g,"-");i&&o&&"anchor"===i&&e.parentElement.setAttribute("id",o)}))}))}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=document.querySelector("main > div");return X(t),e.forEach((e=>{const{action:r,content:l,selector:s}=e;if(e.content=n&&"fragment"===x(l)?G(l,p):l,s.startsWith(A))return function(e){var t,n,i,o,r,l;const s=e.selector.substring(A.length).trim().split(/\s+/),[c]=s,d=(0,a.getConfig)();let u;if(null!==(n=(t=d.mep).inBlock)&&void 0!==n||(t.inBlock={}),null!==(o=(i=d.mep.inBlock)[c])&&void 0!==o||(i[c]={}),1===s.length&&delete e.selector,s.length>1&&(u=s.slice(1).join(" "),e.selector=u,"fragment"===x(u))){var m,f;u.includes("/federal/")&&(u=(0,a.getFederatedUrl)(u)),e.content.includes("/federal/")&&(e.content=(0,a.getFederatedUrl)(e.content)),null!==(f=(m=d.mep.inBlock[c]).fragments)&&void 0!==f||(m.fragments={});const{fragments:t}=d.mep.inBlock[c];if(delete e.selector,u in t)return;for(const n in t)t[n].content===u&&(t[n]=e);t[u]=e,u=L(u);for(const n in t)t[n].content===u&&(t[n]=e);t[u]=e}else null!==(l=(r=d.mep.inBlock[c]).commands)&&void 0!==l||(r.commands=[]),d.mep.inBlock[c].commands.push(e)}(e),void(e.selectorType=A);const{els:c,modifiers:d,attribute:u}=function(e,t,n,a){const i=n?t:document,o=e.trim();if(!o)return{};if("fragment"===x(o))try{return{els:i.querySelectorAll('a[href*="'.concat(L(o,!1),'"], a[href*="').concat(L(o,!0),'"]')),modifiers:[h.all,h.includeFragments]}}catch(d){return{els:[],modifiers:[]}}const{modifiedSelector:r,modifiers:l,attribute:s}=J(o,a);let c;try{c=i.querySelectorAll(r)}catch(d){return V("Invalid selector: ",o),null}return l.includes(h.all)||!c.length||(c=[c[0]]),{els:c,modifiers:l,attribute:s}}(s,t,i,r);Object.assign(e,{modifiers:d,attribute:u}),null===c||void 0===c||c.forEach((n=>{if(!n||!(r in O)&&!(r in T)||t&&!t.contains(n)||w&&null!==o&&void 0!==o&&o.contains(n))return;if(r in O)return void O[r](n,e);const a="fragment"===x(s)?n.parentElement:n;null===a||void 0===a||a.insertAdjacentElement(T[r],N(n,e))})),(c.length&&!e.modifiers.includes(h.all)||!e.modifiers.includes(h.includeFragments))&&(e.completed=!0)})),$(t),e.filter((e=>!e.completed&&e.selectorType!==A))}var K=(e,t,n,i,o)=>{var r,l,s;const c=(0,a.getConfig)();let d=C(i),u=d.replace(".json","");o&&(u=o),null!==(r=c.mep)&&void 0!==r&&r.preview||(d=!1);const m=null===(l=e.action)||void 0===l?void 0:l.toLowerCase().replace("content","").replace("fragment","").replace("tosection","");if(!m)return void V("Row found with empty action field: ",e);const p=e["page filter"]||e["page filter optional"],{selector:v}=e;if(p&&!W(p,new URL(window.location).pathname))return;null!==(s=c.mep)&&void 0!==s&&s.preview||(d=!1);const{origin:h}=g;t.forEach((t=>{const a=!!t.includes(f)&&u;if(!e[t]||"false"===e[t].toLowerCase())return;const i={action:m,selector:v,pageFilter:p,content:e[t],selectorType:x(v),manifestId:d,targetManifestId:a};if(m in O&&"fragment"===i.selectorType)n[t].fragments.push({selector:L(i.selector.split(" #_")[0]),val:L(e[t]),action:m,manifestId:d,targetManifestId:a});else if(M.includes(m))if(n[t][m]=n[t][m]||[],"useblockcode"===m){const{blockSelector:i,blockTarget:o}=((e,t,n)=>{var a,i,o,r;let l=e;null!==(a=l)&&void 0!==a&&a.includes("\\")&&(l=null===(i=l)||void 0===i?void 0:i.split("\\").join("/")),null!==(o=l)&&void 0!==o&&o.startsWith("/")||(l="/".concat(l));const s=null===(r=l)||void 0===r?void 0:r.split("/").pop();return l=l.startsWith("/libs/")?"".concat(t.miloLibs||t.codeRoot).concat(l.replace("/libs","")):"".concat(n).concat(l),{blockSelector:s,blockTarget:l}})(e[t],c,h);n[t][m].push({selector:i,val:o,pageFilter:p,manifestId:d,targetManifestId:a})}else n[t][m].push({selector:L(v),val:L(e[t]),pageFilter:p,manifestId:d,targetManifestId:a});else(m in O||m in T)&&n[t].commands.push(i)}))};function Q(e,t,n){if(null===e||void 0===e||!e.length)return null;const i={},o=e.map((e=>D(e)));try{var r;const e={},l=Object.keys(o[0]).filter((e=>!E.includes(e)));l.forEach((t=>{e[t]={commands:[],fragments:[]}})),o.forEach((a=>{K(a,l,e,t,n)})),i.variants=e,i.variantNames=l;return null!==(r=(0,a.getConfig)().mep)&&void 0!==r&&r.preview||(i.manifestId=!1),i}catch(l){V("error parsing personalization manifestConfig:",l,o)}return null}async function ee(e,t,a){"en-US"!==t.locale.ietf&&await n.e(5119).then(n.bind(n,5119)).then((n=>{var i,o;let{processTrackingLabels:r}=n;null!==(o=(i=t.mep).analyticLocalization)&&void 0!==o||(i.analyticLocalization={}),e.forEach(((n,i)=>{const o=e[i];let s=o[l]||o.us||o.en||o.key;if(!s)return;s=r(s);const c=r(n[a]);t.mep.analyticLocalization[c]=s}))}))}function te(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null===e||void 0===e||!e.length||"default"===a)return t;const i=[a.toLowerCase(),null===(n=t.mep)||void 0===n?void 0:n.prefix,t.locale.region.toLowerCase(),t.locale.ietf.toLowerCase(),...t.locale.ietf.toLowerCase().split("-"),"value","other"],o=(null!==e&&void 0!==e&&e.length?Object.entries(e[0]):[]).find((e=>{let[t]=e;return i.includes(t.toLowerCase())})),r=null===o||void 0===o?void 0:o[0];if(r){const n=e.reduce(((e,t)=>(e[t.key]=t[r],e)),{});t.placeholders={...t.placeholders||{},...n}}return ee(e,t,r),t}var ne=e=>{const[t,n]=e.split("param-")[1].split("=");if(!t)return!1;const a=new URLSearchParams(Array.from(g.searchParams,(e=>{let[t,n]=e;return[t.toLowerCase(),null===n||void 0===n?void 0:n.toLowerCase()]}))).get(t.toLowerCase());return null!==a&&(!n||n===a)};function ae(e){return e.map((e=>e.trim())).filter(Boolean)}function ie(e){return e.reduce(((e,t)=>{let n=[t];return t.startsWith(f)||(n=t.split(",")),e[t]=ae(n),e.allNames=[...e.allNames,...ae(t.split(/[,&]|\bnot\b/))],e}),{allNames:[]})}var oe=e=>{var t;const n="prod"===(null===(t=e.env)||void 0===t?void 0:t.name)?"prod":"stage";return"https://www.adobe.com/federal/assets/data/mep-xlg-tags.json?sheet=".concat(n)},re=async()=>{var e,t,n;const i=(0,a.getConfig)();if(null!==(e=i.mep)&&void 0!==e&&e.entitlementMap)return i.mep.entitlementMap;const o=oe(i),r=await _(o,P.JSON);if(!r)return i.consumerEntitlements||{};const l={};return null===r||void 0===r||null===(t=r.data)||void 0===t||t.forEach((e=>{const{id:t,tagname:n}=e;l[t]=n})),null!==(n=i.mep)&&void 0!==n||(i.mep={}),i.mep.entitlementMap={...i.consumerEntitlements,...l},i.mep.entitlementMap},le=async e=>{const t=await re();return e.flatMap((e=>{var n;return(null===(n=e.segments)||void 0===n?void 0:n.flatMap((e=>{const n=t[e.id];return n?[n]:[]})))||[]}))};var se=e=>({disabled:e.disabled,event:e.event,manifest:e.manifestPath,executionOrder:"1-1",selectedVariant:{commands:[],fragments:[]},selectedVariantName:"default",variantNames:["all"],variants:{},source:["promo"]}),ce=(e,t)=>{var n;null===(n=e.mep)||void 0===n||null===(n=n.experiments)||void 0===n||n.forEach((e=>{var n,a;(null===e||void 0===e||null===(n=e.selectedVariant)||void 0===n||null===(n=n.useblockcode)||void 0===n||n.forEach((e=>{let{selector:t,targetManifestId:n}=e;t&&n&&document.querySelectorAll(".".concat(t)).forEach((e=>e.dataset.adobeTargetTestid=n))})),t)&&(null===e||void 0===e||null===(a=e.selectedVariant)||void 0===a||null===(a=a.updatemetadata)||void 0===a||a.forEach((e=>{"gnav-source"===(null===e||void 0===e?void 0:e.selector)&&e.targetManifestId&&(t.dataset.adobeTargetTestid=e.targetManifestId)})))}))};async function de(){var e,t,n,i,o;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{name:d,manifestData:u,manifestPath:p,manifestUrl:v,manifestPlaceholders:g,manifestInfo:h,variantLabel:w,disabled:y,event:E,source:A}=r;if(y&&(!l||!Object.keys(l).length))return se(r);let M=u;if(!M){const e=await _(p,P.JSON);_&&(M=e)}const T=(null===(e=M)||void 0===e||null===(e=e.experiences)||void 0===e?void 0:e.data)||(null===(t=M)||void 0===t?void 0:t.data)||M;if(!T)return null;const k=h||(null===(n=M)||void 0===n||null===(n=n.info)||void 0===n?void 0:n.data),I=null===k||void 0===k?void 0:k.reduce(((e,t)=>(e[t.key]=t.value,e)),{}),x=null===I||void 0===I||null===(i=I["manifest-override-name"])||void 0===i?void 0:i.toLowerCase(),j=Q(T,p,d||x);if(!j)return V("Error loading personalization manifestConfig: ",d||p),null;const S={"manifest-type":["Personalization","Promo","Test"],"manifest-execution-order":["First","Normal","Last"]};if(k){var N;if(j.manifestType=null===I||void 0===I||null===(N=I["manifest-type"])||void 0===N?void 0:N.toLowerCase(),j.manifestType===b){j.manifestOverrideName=x;const e=x||C(p).replace(".json","");j.analyticsTitle=e.trim().slice(0,15)}const e={"manifest-type":1,"manifest-execution-order":1};Object.keys(I).forEach((t=>{if(!S[t])return;const n=S[t].indexOf(I[t]);e[t]=n>-1?n:1})),j.executionOrder="".concat(e["manifest-execution-order"],"-").concat(e["manifest-type"])}else j.manifestType=S["manifest-type"][1],j.executionOrder="1-1";return j.manifestPath=L(p),j.selectedVariantName=await async function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=(0,a.getConfig)();if(null!==(t=o.mep)&&void 0!==t&&null!==(t=t.variantOverride)&&void 0!==t&&t[e])return o.mep.variantOverride[e];const r=ie(n),l=Object.values(await re()).some((e=>r.allNames.includes(e)));let d=[];var u;l&&(d=null!==o&&void 0!==o&&null!==(u=o.mep)&&void 0!==u&&u.enablePersV2?[]:await o.entitlements());const p=e=>{var t;return!e||e===(null===i||void 0===i?void 0:i.toLowerCase())||(e.startsWith("param-")?ne(e):!(null===(t=d)||void 0===t||!t.includes(e))||c.includes(e)&&s[e]())},v=e=>{const t=e.includes(":")?e.split(":")[1]:e;return t.startsWith(f)?p(t):!t.split("&").map((e=>{const t=e.trim().startsWith(m),n=p(e.replace(m,"").trim());return t?!n:n})).includes(!1)};return n.find((e=>r[e].some(v)))}(j.manifestPath,j.variantNames,w),j.placeholderData=g||(null===(o=M)||void 0===o||null===(o=o.placeholders)||void 0===o?void 0:o.data),j.name=d,j.manifest=p,j.manifestUrl=v,j.disabled=y,j.event=E,null!==A&&void 0!==A&&A.length&&(j.source=A),j}var ue=e=>{let{selector:t,val:n,action:a,manifestId:i,targetManifestId:o}=e;return{selector:L(t),val:L(n),action:a,manifestId:i,targetManifestId:o}};async function me(e,t){var n,i,o;if(!e)return null;const{manifestPath:r,selectedVariant:l}=e;if(!l||"default"===l)return{experiment:e};const{replacepage:s}=l;return null!==(n=l.replacepage)&&void 0!==n&&n.length&&(t.mep.replacepage=s[0]),null===(i=l.insertscript)||void 0===i||i.map((e=>(0,a.loadScript)(e.val))),null===(o=l.updatemetadata)||void 0===o||o.map((e=>z(e))),l.fragments&&(l.fragments=l.fragments.map(ue)),{manifestPath:r,experiment:e,blocks:l.useblockcode,fragments:l.fragments,commands:l.commands}}function fe(e){if(!e)return!1;const t=Object.create(null);return decodeURIComponent(e).split("---").forEach((e=>{const n=e.trim().split("--");if(n.length>1){const[e,a]=n;t[e]=a}})),t}function pe(e,t){return e.executionOrder===t.executionOrder?0:e.executionOrder>t.executionOrder?1:-1}function ve(e,t){var n;const i=null!==t&&void 0!==t?t:(0,a.getConfig)(),o={};let r=e,l=!1;return null!==(n=i.mep)&&void 0!==n&&n.experiments&&(r=[...e,...i.mep.experiments]),r.forEach((e=>{try{if(null===e||void 0===e||!e.manifest)return;if(e.manifestPath||(e.manifestPath=L(e.manifest)),e.manifestPath in o){var t;let n=o[e.manifestPath],a=e;e.name&&(n=e,a=o[e.manifestPath]),a.source=a.source.concat(n.source),a.name=n.name,a.selectedVariantName=n.selectedVariantName,l="prod"===(null===i||void 0===i||null===(t=i.env)||void 0===t?void 0:t.name)&&n.selectedVariantName.startsWith("target-"),a.variants=l?n.variants:a.variants,a.selectedVariant=a.variants[a.selectedVariantName],o[e.manifestPath]=a}else o[e.manifestPath]=e;const n=o[e.manifestPath],{selectedVariantName:r,variantNames:s,placeholderData:c}=n;r&&s.includes(r)?n.selectedVariant=n.variants[r]:(n.selectedVariantName="default",n.selectedVariant="default"),te(c,(0,a.getConfig)(),n.selectedVariantName)}catch(r){var n;V("MEP Error parsing manifests: ".concat(r.toString())),null===(n=window.lana)||void 0===n||n.log("MEP Error parsing manifests: ".concat(r.toString()))}})),Object.keys(o).forEach((e=>{delete o[e].variants})),Object.values(o).sort(pe)}function ge(e,t){const{action:n,fragment:a,manifestId:i,targetManifestId:o}=e;return n===k.replace?(t.href=a,I(t,i,o),a):(n===k.remove&&t.parentElement.remove(),!1)}function he(e){let{placeholders:t}=e;t&&Object.entries(t).forEach((e=>{let[n,a]=e;t[n]=j(a,t)}))}async function we(e){let{manifests:t}=e;if(null===t||void 0===t||!t.length)return;let n=t;const i=(0,a.getConfig)();for(let a=0;a<n.length;a+=1){var o;n[a]=await de(n[a],null===(o=i.mep)||void 0===o?void 0:o.variantOverride)}n=ve(n),he(i);let r=[];for(const a of n){const e=await me(a,i);e&&r.push(e)}r=r.filter(Boolean),i.mep.experiments=[...i.mep.experiments,...n],i.mep.blocks=R(r,"blocks",i.mep.blocks),i.mep.fragments=R(r,"fragments",i.mep.fragments),i.mep.commands=U(r,"commands",i.mep.commands);const l=document.querySelector("main");if(i.mep.replacepage&&!w&&l){await F(i.mep.replacepage.val,l);const{manifestId:e,targetManifestId:t}=i.mep.replacepage;I(l,e,t)}i.mep.commands=Y(i.mep.commands);const s=r.filter((e=>{var t;return(null===(t=e.experiment)||void 0===t?void 0:t.manifestType)===b}));if(!s.length)return;const c=s.map((e=>{var t,n;const a=e.experiment.selectedVariantName.replace(f,"").trim().slice(0,15),i=a.split(":");return(i.length>2||""===(null===(t=i[0])||void 0===t?void 0:t.trim())||""===(null===(n=i[1])||void 0===n?void 0:n.trim()))&&V('MEP Error: When using (optional) column nicknames, please use the following syntax: "<nickname>: <original audience>"'),!a.includes(":")||a.startsWith(":")?"default"===a?"nopzn":a:i[0].trim()})),d=s.map((e=>e.experiment.analyticsTitle));i.mep.martech="|".concat(c.join("--"),"|").concat(d.join("--"))}var be=async(e,t,a)=>{let i=[];if(e&&(i=e.toLowerCase().split(/,|(\s+)|(\\n)/g).filter((e=>null===e||void 0===e?void 0:e.trim())).map((e=>({manifestPath:e,source:["pzn"]})))),t){const{default:e}=await n.e(3982).then(n.bind(n,1601));i=i.concat(e(t,g.searchParams))}if(a&&"off"!==a){const e=i.map((e=>{const{manifestPath:t}=e;if(null!==t&&void 0!==t&&t.startsWith("/"))return t;try{return new URL(t).pathname}catch(n){return t}}));a.split("---").forEach((t=>{const n=t.trim().toLowerCase().split("--")[0];e.includes(n)||i.push({manifestPath:n,source:["mep param"]})}))}return i};async function ye(e){let{config:t,targetAjoManifests:n,targetAjoPropositions:a}=e;if(n.forEach((e=>{e.source=[t.mep.ajoEnabled?"ajo":"target"]})),t.mep.targetAjoManifests=n,t.mep.enablePersV2?t.mep.hybridPersEnabled||window.addEventListener("alloy_sendEvent",(()=>{null!==a&&void 0!==a&&a.length&&window._satellite&&window._satellite.track("propositionDisplay",a)}),{once:!0}):null!==a&&void 0!==a&&a.length&&window._satellite&&window._satellite.track("propositionDisplay",a),"postlcp"===t.mep.targetEnabled){const e=new CustomEvent(v,{detail:"Martech returned"});window.dispatchEvent(e)}return n}function Ee(e){return Math.ceil(e/250)/4}function Pe(e,t,n,a){const i=function(e){return Ee(Date.now()-e)}(t),o=Ee(n);let r="target response time ".concat(i,":timed out ").concat(e,":timeout ").concat(o);a&&(r+=":".concat(a)),window.addEventListener("alloy_sendEvent",(()=>{var e,t;null===(e=window._satellite)||void 0===e||null===(t=e.track)||void 0===t||t.call(e,"event",{documentUnloading:!0,xdm:{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{linkClicks:{value:1},type:"other",name:r}}},data:{_adobe_corpnew:{digitalData:{primaryEvent:{eventInfo:{eventName:r}}}}}})}),{once:!0})}var Ae=e=>{var t,n;return null!==(t=null===(n=e.propositions||e.decisions)||void 0===n||null===(n=n.map((e=>{const{id:t}=e;return e.items.map((e=>({...e,id:t})))})))||void 0===n||null===(n=n.flat())||void 0===n||null===(n=n.map((e=>{var t,n,a,i,o,r,l;const s=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content;return s&&(s.manifestLocation||s.manifestContent)?{manifestPath:s.manifestLocation||s.manifestPath,manifestUrl:s.manifestLocation,manifestData:(null===(n=s.manifestContent)||void 0===n||null===(n=n.experiences)||void 0===n?void 0:n.data)||(null===(a=s.manifestContent)||void 0===a?void 0:a.data),manifestPlaceholders:null===(i=s.manifestContent)||void 0===i||null===(i=i.placeholders)||void 0===i?void 0:i.data,manifestInfo:null===(o=s.manifestContent)||void 0===o?void 0:o.info.data,name:(null===(r=e.meta)||void 0===r?void 0:r["activity.name"])||e.id,variantLabel:(null===(l=e.meta)||void 0===l?void 0:l["experience.name"])&&"target-".concat(e.meta["experience.name"])||s.experienceName,meta:e.meta}:null})))||void 0===n?void 0:n.filter(Boolean))&&void 0!==t?t:[]};async function Le(e){const{getTargetAjoPersonalization:t}=await n.e(7154).then(n.bind(n,7154)),{targetAjoManifests:a,targetAjoPropositions:i}=await t({handleAlloyResponse:Ae,config:e,sendTargetResponseAnalytics:Pe});return ye({config:e,targetAjoManifests:a,targetAjoPropositions:i})}var Ce=()=>new Promise((e=>{window.addEventListener(v,(t=>e(t.detail)),{once:!0})}));async function Me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];const{mepParam:i,mepHighlight:o,mepButton:r,pzn:s,promo:c,enablePersV2:d,hybridPersEnabled:u,target:m,ajo:f,targetInteractionPromise:p,calculatedTimeout:v,postLCP:g}=e,h=(0,a.getConfig)();var b,y,E;g?w=!0:(h.mep={updateFragDataProps:Z,preview:"off"!==r&&("prod"!==(null===(b=h.env)||void 0===b?void 0:b.name)||i||""===i||r),variantOverride:fe(i),highlight:void 0!==o&&"false"!==o,targetEnabled:m,ajoEnabled:f,experiments:[],prefix:(null===(y=h.locale)||void 0===y||null===(y=y.prefix.split("/")[1])||void 0===y?void 0:y.toLowerCase())||l,enablePersV2:d,hybridPersEnabled:u},t=t.concat(await be(s,c,i)),null===(E=t)||void 0===E||E.forEach((e=>{if(e.disabled)return;const t=L(e.manifestPath);(0,a.loadLink)(t,{as:"fetch",crossorigin:"anonymous",rel:"preload"})})),s&&(0,a.loadLink)(oe(h),{as:"fetch",crossorigin:"anonymous",rel:"preload"}));d&&!0===m?t=t.concat(await async function(e){var t;let{config:n,targetInteractionPromise:a,calculatedTimeout:i}=e;const o=n.mep.ajoEnabled?"ajo":"target";let r=[],l=[];if(null!==n&&void 0!==n&&null!==(t=n.mep)&&void 0!==t&&t.enablePersV2&&a){const{targetInteractionData:e,respTime:t,respStartTime:n}=await a;if(Pe(!1,n,i),e.result){var s;const n=Ee(t);performance.clearMarks(),performance.clearMeasures();try{window.lana.log("".concat(o," response time: ").concat(n),{tags:"martech",errorType:"e",sampleRate:.5})}catch(c){console.error("Error logging ".concat(o," response time:"),c)}r=Ae(e.result),l=(null===(s=e.result)||void 0===s?void 0:s.propositions)||[]}}return ye({config:n,targetAjoManifests:r,targetAjoPropositions:l})}({config:h,targetInteractionPromise:p,calculatedTimeout:v})):(!0!==m&&!0!==f||(t=t.concat(await Le(h))),"postlcp"!==m&&"postlcp"!==f||Le(h)),g&&(h.mep.targetAjoManifests||await Ce(),t=h.mep.targetAjoManifests);try{var P,A;null!==(P=t)&&void 0!==P&&P.length&&await we({manifests:t}),null!==(A=h.mep)&&void 0!==A&&A.preview&&await n.e(7940).then(n.bind(n,7940)).then((e=>{let{saveToMmm:t}=e;return t()}))}catch(M){var C;V("MEP Error: ".concat(M.toString())),null===(C=window.lana)||void 0===C||C.log("MEP Error: ".concat(M.toString()))}}}}]);
//# sourceMappingURL=9644.e90f6f93.chunk.js.map