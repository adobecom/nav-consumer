"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[6387,8585,7528,8768],{4705:(e,t,s)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,s){return(t=i(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{A:()=>a})},7528:(e,t,s)=>{function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}s.d(t,{A:()=>r})},8585:(e,t,s)=>{function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if("function"!=typeof e)return;let s=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(s),s=setTimeout((()=>e(...i)),t)}}s.r(t),s.d(t,{a:()=>r,b:()=>i});var i={debounce:r}},6387:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r,i,a,n,l,c,o=s(7528),h=s(4705),u=s(8585),d=s(2342),p=(s(3458),s(3815)),f=s(5379),g=(s(2560),{scope:"adobecom",apiKey:"adobedotcom2"}),m={hasResults:"has-results",inputIsPopulated:"feds-search-input--isPopulated"},{locale:b}=(0,f.i)(),[,v="US"]=b.ietf.split("-"),y=class e{constructor(e){(0,h.A)(this,"onSearchInput",(0,u.a)((()=>{let e=this.getQuery();if(!e.length)return this.resultsList.replaceChildren(),void delete this.query;e!==this.query&&(this.query=e,this.getSuggestions().then((e=>{let t=null===e||void 0===e?void 0:e.suggested_completions;if(!Array.isArray(t)||!t.length)return this.resultsList.replaceChildren(this.getNoResultsTemplate()),void(this.parent instanceof HTMLElement&&this.parent.classList.remove(m.hasResults));this.resultsList.replaceChildren(this.getResultsTemplate(t)),this.parent instanceof HTMLElement&&this.parent.classList.add(m.hasResults)})).catch((()=>{this.resultsList.replaceChildren(this.getNoResultsTemplate()),this.parent instanceof HTMLElement&&this.parent.classList.remove(m.hasResults)})))}),150)),this.icon=e.icon,this.trigger=e.trigger,this.parent=this.trigger.closest(".feds-nav-wrapper"),new MutationObserver((()=>{this.clearSearchForm()})).observe(this.trigger,{attributeFilter:["aria-expanded"]}),(0,d.f)(this.init.bind(this),"Search init has failed","errorType=e,module=gnav-search")}async init(){await this.getLabels(),this.decorate(),this.addEventListeners(),this.toggleDropdown()}async getLabels(){this.labels={},[this.labels.search,this.labels.clearResults,this.labels.tryAdvancedSearch]=await(0,p.b)(["search","clear-results","try-advanced-search"],(0,f.n)())}decorate(){this.input=(0,d.h)(r||(r=(0,o.A)(['<input placeholder="','" aria-label="','" class="feds-search-input" autocomplete="off" aria-autocomplete="list" aria-controls="feds-search-results" daa-ll="search-results:standard search" />'])),this.labels.search,this.labels.search),this.resultsList=(0,d.h)(i||(i=(0,o.A)(['<ul class="feds-search-results" id="feds-search-results" role="region" daa-ll="search-results:suggested-search:click"></ul>']))),this.clearButton=(0,d.h)(a||(a=(0,o.A)(['<button tabindex="0" class="feds-search-clear" aria-label="','"></button>'])),this.labels.clearResults),this.searchBar=(0,d.h)(n||(n=(0,o.A)(['\n      <aside class="feds-search-dropdown">\n        <div class="feds-search-bar">\n          <div class="feds-search-field">\n            ','\n            <div class="feds-search-icons">\n              ',"\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </aside>"])),this.input,this.icon,this.clearButton,this.resultsList),this.trigger.after(this.searchBar)}clearSearchForm(){this.input.value="",this.onSearchInput()}addEventListeners(){this.trigger.addEventListener("click",(()=>{this.toggleDropdown()})),this.input.addEventListener("input",(()=>{this.onSearchInput()})),this.input.addEventListener("keydown",(t=>{if("Escape"===t.code&&(this.input.value.length?this.clearSearchForm():d.q.matches&&((0,d.F)(),this.trigger.focus())),"Enter"===t.code){if(!this.query)return;window.location.href=e.getHelpxLink(this.query)}})),this.resultsList.addEventListener("keydown",(e=>{"Escape"===e.code&&this.input.focus()})),this.clearButton.addEventListener("click",(()=>{this.clearSearchForm(),this.input.focus()})),d.q.addEventListener("change",(()=>{(0,d.F)()}))}getSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,{env:t}=(0,f.i)(),s="https://".concat("prod"===t?"adobesearch":"adobesearch-stage",".adobe.io/autocomplete/completions?q[locale]=").concat(b.ietf,"&scope=").concat(g.scope,"&q[text]=").concat(encodeURIComponent(e));return fetch(s,{headers:{"x-api-key":g.apiKey}}).then((e=>e.json())).catch((()=>{}))}getQuery(){let e=this.input.value.trim();return e.length?(this.input.classList.add(m.inputIsPopulated),e):(this.input.classList.remove(m.inputIsPopulated),this.resultsList.replaceChildren(),this.parent instanceof HTMLElement&&this.parent.classList.remove(m.hasResults),"")}getResultsTemplate(t){let s=document.createDocumentFragment();return t.map((t=>{let r=t.name;if(!r.length)return;let i,a=(()=>{let e=0,t=this.query.length;for(;e<t&&this.query[e].toLowerCase()===r[e].toLowerCase();)e+=1;return this.query.substring(0,e).trim()})(),n=new RegExp("(".concat(a,")"),"i"),c=r.replace(n,(e=>(i=e,""))),h=(0,d.h)(l||(l=(0,o.A)(['<li>\n          <a href="','" class="feds-search-result" aria-label="','">\n            <span>',"</span>","\n          </a>\n        </li>"])),e.getHelpxLink(r),r,i,c);s.appendChild(h)})),s}getNoResultsTemplate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query;return(0,d.h)(c||(c=(0,o.A)(['<li>\n      <a href="','" class="feds-search-result"><span>',"</span></a>\n    </li>"])),e.getHelpxLink(t),this.labels.tryAdvancedSearch)}focusInput(){d.q.matches&&this.input.focus()}toggleDropdown(){d.q.matches&&((0,d.I)({element:this.trigger})?((0,d.p)(!0),this.focusInput()):this.clearSearchForm())}static getHelpxLink(e){return"https://helpx.adobe.com".concat(b.prefix,"/globalsearch.html?q=").concat(encodeURIComponent((e||"").trim()),"&start_index=0&country=").concat(v)}}}}]);
//# sourceMappingURL=6387.1d2b8139.chunk.js.map