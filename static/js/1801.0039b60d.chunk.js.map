{"version":3,"file":"static/js/1801.0039b60d.chunk.js","mappings":"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","sources":["../node_modules/@adobecom/features/icons/icons.js"],"sourcesContent":["import { getConfig, getFederatedContentRoot } from '../../utils/utils.js';\n\nconst iconCache = new Map();\nlet miloIconsPromise;\nconst LANA_CLIENT_ID = 'feds-milo';\n\nfunction decorateToolTip(icon, iconName) {\n  const hasTooltip = icon.closest('em')?.textContent.includes('|') && [...icon.classList].some((cls) => cls.includes('tooltip'));\n  if (!hasTooltip) return;\n\n  const wrapper = icon.closest('em');\n  wrapper.className = 'tooltip-wrapper';\n  const conf = wrapper.textContent.split('|');\n  const content = conf.pop()?.trim();\n  if (!content) return;\n\n  icon.dataset.tooltip = content;\n  const place = conf.pop()?.trim().toLowerCase() || 'right';\n  icon.className = `icon icon-${iconName} milo-tooltip ${place}`;\n\n  [['tabindex', '0'], ['aria-label', content], ['role', 'button']].forEach(([attr, value]) => {\n    icon.setAttribute(attr, value);\n  });\n\n  wrapper.parentElement.replaceChild(icon, wrapper);\n\n  import('../../scripts/tooltip.js').then(({ default: addTooltipListeners }) => {\n    addTooltipListeners(icon);\n  });\n}\n\nasync function getSVGsfromFile(path) {\n  if (!path) return null;\n  const resp = await fetch(path);\n  if (!resp.ok) return null;\n\n  const miloIcons = {};\n  const text = await resp.text();\n  const parser = new DOMParser();\n  const parsedText = parser.parseFromString(text, 'image/svg+xml');\n  const symbols = parsedText.querySelectorAll('symbol');\n\n  symbols.forEach((symbol) => {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    while (symbol.firstChild) svg.appendChild(symbol.firstChild);\n    [...symbol.attributes].forEach((attr) => svg.attributes.setNamedItem(attr.cloneNode()));\n    svg.classList.add('icon-milo', `icon-milo-${svg.id}`);\n    miloIcons[svg.id] = svg;\n  });\n\n  return miloIcons;\n}\n\nasync function fetchAndParseSVG(url, iconName) {\n  const response = await fetch(url);\n  if (!response.ok) throw new Error(`Failed to fetch SVG for ${iconName}: ${response.statusText}`);\n\n  const text = await response.text();\n  const parser = new DOMParser();\n  const svgElement = parser.parseFromString(text, 'image/svg+xml').querySelector('svg');\n\n  if (!svgElement) throw new Error(`No SVG element found in fetched content for ${iconName}`);\n\n  svgElement.classList.add('icon-milo', `icon-milo-${iconName}`);\n  return svgElement;\n}\n\nasync function fetchFederalIcon(iconName) {\n  const fedRoot = getFederatedContentRoot();\n  const url = `${fedRoot}/federal/assets/icons/svgs/${iconName}.svg`;\n\n  try {\n    const svgElement = await fetchAndParseSVG(url, iconName);\n    iconCache.set(iconName, svgElement);\n    return svgElement;\n  } catch (error) {\n    window?.lana.log(`Error fetching federal SVG for ${iconName}, falling back to Milo icon: ${error}`, { clientId: LANA_CLIENT_ID, tags: 'icons', errorType: 'i' });\n    return null;\n  }\n}\n\nasync function fetchMiloIcon(iconName) {\n  if (!miloIconsPromise) {\n    const { miloLibs, codeRoot } = getConfig();\n    const base = miloLibs || codeRoot;\n    miloIconsPromise = getSVGsfromFile(`${base}/img/icons/icons.svg`);\n  }\n\n  const miloIcons = await miloIconsPromise;\n  if (miloIcons?.[iconName]) {\n    const icon = miloIcons[iconName].cloneNode(true);\n    iconCache.set(iconName, icon);\n    return icon;\n  }\n\n  window?.lana.log(`No fallback Milo icon found for ${iconName}`, { clientId: LANA_CLIENT_ID, tags: 'icons', errorType: 'i' });\n  return null;\n}\n\nasync function getIcon(iconName) {\n  if (iconCache.has(iconName)) return iconCache.get(iconName);\n  const federalIcon = await fetchFederalIcon(iconName);\n  if (federalIcon) return federalIcon;\n  return fetchMiloIcon(iconName);\n}\n\nexport default async function loadIcons(icons) {\n  const iconPromises = [...icons].map(async (icon) => {\n    const iconNameInitial = icon.classList[1].replace('icon-', '');\n    let iconName = iconNameInitial === 'tooltip' ? 'info' : iconNameInitial;\n    if (iconNameInitial.includes('tooltip-')) iconName = iconNameInitial.replace(/tooltip-/, '');\n    decorateToolTip(icon, iconName);\n    if (icon.dataset.svgInjected || !iconName) return;\n\n    const svgElement = await getIcon(iconName);\n    if (svgElement && !icon.dataset.svgInjected) {\n      const svgClone = svgElement.cloneNode(true);\n      icon.appendChild(svgClone);\n      icon.dataset.svgInjected = 'true';\n\n      const parent = icon.parentElement;\n      if (parent?.childNodes.length > 1) {\n        if (parent.lastChild === icon) {\n          icon.classList.add('margin-inline-start');\n        } else if (parent.firstChild === icon) {\n          icon.classList.add('margin-inline-end');\n          if (parent.parentElement.tagName === 'LI') parent.parentElement.classList.add('icon-list-item');\n        } else {\n          icon.classList.add('margin-inline-start', 'margin-inline-end');\n        }\n      }\n    }\n  });\n\n  await Promise.allSettled(iconPromises);\n}\n\nexport const fetchIcons = (config) => {\n  const { miloLibs, codeRoot } = config;\n  const base = miloLibs || codeRoot;\n  return getSVGsfromFile(`${base}/img/icons/icons.svg`);\n};\n\nexport function fetchIconList(url) {\n  return fetch(url)\n    .then((resp) => resp.json())\n    .then((json) => json.data || json.content.data)\n    .catch((error) => {\n      window?.lana.log(`Failed to fetch iconList: ${error}`, { clientId: LANA_CLIENT_ID, tags: 'icons', errorType: 'i' });\n      return [];\n    });\n}\n"],"names":["miloIconsPromise","iconCache","Map","LANA_CLIENT_ID","async","getSVGsfromFile","path","resp","fetch","ok","miloIcons","text","DOMParser","parseFromString","querySelectorAll","forEach","symbol","svg","document","createElementNS","firstChild","appendChild","attributes","attr","setNamedItem","cloneNode","classList","add","concat","id","fetchFederalIcon","iconName","fedRoot","getFederatedContentRoot","url","svgElement","response","Error","statusText","querySelector","fetchAndParseSVG","set","error","_window","window","lana","log","clientId","tags","errorType","getIcon","has","get","federalIcon","_window2","miloLibs","codeRoot","getConfig","icon","fetchMiloIcon","loadIcons","icons","iconPromises","map","iconNameInitial","replace","includes","_icon$closest","_conf$pop","_conf$pop2","closest","textContent","some","cls","wrapper","className","conf","split","content","pop","trim","dataset","tooltip","place","toLowerCase","_ref","value","setAttribute","parentElement","replaceChild","then","_ref2","default","addTooltipListeners","decorateToolTip","svgInjected","svgClone","parent","childNodes","length","lastChild","tagName","Promise","allSettled","fetchIcons","config","fetchIconList","json","data","catch","_window3"],"sourceRoot":""}