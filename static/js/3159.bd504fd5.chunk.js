(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[3159],{7780:e=>{function r(e){return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}))}r.keys=()=>[],r.resolve=r,r.id=7780,e.exports=r},3904:e=>{function r(e){return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}))}r.keys=()=>[],r.resolve=r,r.id=3904,e.exports=r},3159:(e,r,t)=>{"use strict";t.r(r),t.d(r,{applyJapaneseLineBreaks:()=>u,default:()=>p,isBalancedWordWrapApplied:()=>i,isWordWrapApplied:()=>c});var n=t(5379),o=(t(2560),e=>[...e.childNodes].some((e=>{let{nodeType:r,textContent:t}=e;return r===Node.TEXT_NODE&&""!==t.trim()})));function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,r=e.tagName.toLowerCase();return"header"===r||"footer"===r||e.classList.contains("jpwordwrap-disabled")?[]:Array.from(e.children).reduce(((e,r)=>o(r)?[...e,r]:[...e,...a(r)]),[])}function l(e,r,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#",o=r.indexOf(n);if(-1===o)return void console.warn("No marker symbol found in the line break pattern string");o!==r.lastIndexOf("#")&&console.warn("Two or more marker symbols cannot be specified. Only the first marker is applied");let a=r.slice(Math.max(o-3,0),o),l=r.slice(o+1,Math.min(o+4,r.length));a.length<2||l.length<2?console.warn("At least two characters must be specified before and after the marker symbol"):(3===a.length?e.model.set("TW1:".concat(a),t):2===a.length&&e.model.set("BW1:".concat(a),t),3===l.length?e.model.set("TW4:".concat(l),t):2===l.length&&e.model.set("BW3:".concat(l),t))}function d(e){let r=getComputedStyle(e);return"flex"===r.display||"grid"===r.display}function s(){return navigator.userAgent.includes("Firefox")}function c(e){return!!e.querySelector("wbr")}function i(e){return!!e.querySelector("wbr[class^=jpn-balanced-wbr]")}async function u(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{miloLibs:n,codeRoot:o}=e,{scopeArea:u=document,budouxThres:p=2e3,bwEnabled:f=!1,budouxExcludeSelector:w=null,bwExcludeSelector:h="p",lineBreakOkPatterns:b=[],lineBreakNgPatterns:m=[]}=r,g=n||o,{loadDefaultJapaneseParser:x}=await t(7780)("".concat(g,"/deps/budoux-index-ja.min.js")),y=x(),k=a(u instanceof Document?u.body:u),E=new Set,v=new Set;w&&u.querySelectorAll(w).forEach((e=>{E.add(e)})),f&&h&&u.querySelectorAll(h).forEach((e=>{v.add(e)}));let j=Number.MAX_VALUE;if(b.forEach((e=>{l(y,e,j)})),m.forEach((e=>{l(y,e,-j)})),k.forEach((e=>{E.has(e)||c(e)||s()&&d(e)||e.lang&&"ja"!==e.lang||y.applyElement(e,{threshold:p})})),f){let e=new(0,(await t(3904)("".concat(g,"/deps/bw2.min.js"))).default);k.forEach((r=>{v.has(r)||i(r)||s()&&d(r)||e.applyElement(r)}))}}async function p(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,t="true"===(0,n.f)("jpwordwrap:disabled")||!1,o=Number((0,n.f)("jpwordwrap:budoux-thres"))||2e3,a=(0,n.f)("jpwordwrap:budoux-exclude-selector"),l="true"===(0,n.f)("jpwordwrap:bw-enabled")||!1,d=(0,n.f)("jpwordwrap:bw-exclude-selector")||"p",s=((0,n.f)("jpwordwrap:line-break-ok")||"").split(","),c=((0,n.f)("jpwordwrap:line-break-ng")||"").split(",");t||await u(e,{scopeArea:r,budouxThres:o,budouxExcludeSelector:a,bwEnabled:l,bwExcludeSelector:d,lineBreakOkPatterns:s,lineBreakNgPatterns:c})}}}]);
//# sourceMappingURL=3159.bd504fd5.chunk.js.map