"use strict";(self.webpackChunknav_consumer=self.webpackChunknav_consumer||[]).push([[8994,8956],{8956:(e,t,o)=>{o.r(t),o.d(t,{getNextVisibleItemPosition:()=>n,getOpenPopup:()=>a,getPreviousVisibleItemPosition:()=>i,isElementVisible:()=>r,selectors:()=>s});var s={...o(5566).selectors,globalFooter:".global-footer",mainNavItems:".feds-navItem > a, .feds-navItem > button, .feds-navItem > .feds-cta-wrapper > .feds-cta",brand:".feds-brand",mainNavToggle:".feds-toggle",searchTrigger:".feds-search-trigger",navWrapper:".feds-nav-wrapper",navWrapperExpanded:".feds-nav-wrapper--expanded",searchField:".feds-search-input",signIn:".feds-signIn",signInDropdown:".feds-signIn-dropdown",profileButton:".feds-profile-button, .feds-signIn",logo:".feds-logo",profileMenu:".feds-profile-menu",profile:".feds-profile",breadCrumbItems:".feds-breadcrumbs li > a",expandedPopupTrigger:'.feds-navLink[aria-expanded = "true"]',promoLink:".feds-promo-link",imagePromo:"a.feds-promo-image",fedsNav:".feds-nav",popup:".feds-popup",headline:".feds-menu-headline",section:".feds-menu-section",column:".feds-menu-column:not(.feds-menu-column--group)",cta:".feds-cta",openSearch:'.feds-search-trigger[aria-expanded = "true"]',regionPicker:".feds-regionPicker",socialLink:".feds-social-link",privacyLink:".feds-footer-privacyLink",menuContent:".feds-menu-content",mainMenuItems:"header.new-nav section.feds-navItem > button",mainMenuLinks:"header.new-nav .feds-navItem > a[href]",activePopup:"header.new-nav section.feds-dropdown--active > .feds-popup",tab:'button[role="tab"]',activeTabpanel:'.tab-content [role="tabpanel"]',activeLinks:'.tab-content [role="tabpanel"]:not([hidden="true"]) a',stickyCta:"header.new-nav .feds-popup .sticky-cta a",topBarLinks:"header.new-nav .feds-popup .top-bar a, header.new-nav .feds-popup .top-bar button",closeLink:"header.new-nav .feds-popup .top-bar .close-icon",localNav:".feds-localnav",localNavActive:".feds-localnav--active",localNavTitle:".feds-localnav-title",localNavExit:".feds-localnav-exit"};s.profileDropdown="\n  ".concat(s.signInDropdown," a[href],\n  ").concat(s.signInDropdown," button:not([disabled]),\n  ").concat(s.profileMenu," a[href],\n  ").concat(s.profileMenu," button:not([disabled])\n"),s.popupItems="\n  ".concat(s.navLink,",\n  ").concat(s.promoLink,",\n  ").concat(s.imagePromo,",\n  ").concat(s.cta,",\n  ").concat(s.regionPicker,",\n  ").concat(s.socialLink,",\n  ").concat(s.privacyLink,"\n");var r=e=>!!(e&&e instanceof HTMLElement&&e.offsetWidth&&e.offsetHeight&&"hidden"!==window.getComputedStyle(e).getPropertyValue("visibility")),n=(e,t)=>{for(let o=e+1;o<t.length;o+=1)if(r(t[o]))return o;return-1},i=(e,t)=>{for(let o=e-1;o>=0;o-=1)if(r(t[o]))return o;return-1},a=()=>{var e;return null===(e=document.querySelector(s.expandedPopupTrigger))||void 0===e?void 0:e.parentElement.querySelector(s.popup)}},6613:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var s=o(4705),r=o(8956),n=o(5566),i=(o(3016),o(2301),o(2773),o(8199),o(2899),o(5769),class{constructor(e){let{mainNav:t}=e;(0,s.A)(this,"focusMainNav",(e=>{e||this.mainNav.focusCurr()})),(0,s.A)(this,"focusMainNavNext",(e=>{if(e)return;const{next:t}=this.mainNav.getState();if(t>=0)return this.mainNav.focusNext(),void this.mainNav.open();(0,n.closeAllDropdowns)(),this.mainNav.focusCurr()})),(0,s.A)(this,"handleKeyDown",(e=>{let{e:t,element:o,isFooter:s}=e;const{popupItems:i,prev:a,next:c,prevColumn:l,nextColumn:u}=function(){let{e:e,element:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return{};const o=[...t.querySelectorAll(r.selectors.popupItems)],s=o.findIndex((t=>t===e.target)),n=document.activeElement.closest(r.selectors.column),i=[...t.querySelectorAll(r.selectors.column)],a=i.findIndex((e=>e.isEqualNode(n)));return{popupItems:o,curr:s,prev:(0,r.getPreviousVisibleItemPosition)(s,o),next:(0,r.getNextVisibleItemPosition)(s,o),prevColumn:i[a-1],nextColumn:i[a+1]}}({e:t,element:o}),d=s&&"Tab"===t.code&&t.shiftKey&&-1===a;if(!(s&&"Tab"===t.code&&!t.shiftKey&&-1===c)&&!d)switch(t.preventDefault(),t.stopPropagation(),t.code){case"Tab":if(t.shiftKey){if(-1===a){this.focusMainNav(s);break}i[a].focus()}else{if(-1===c){this.focusMainNavNext(s);break}i[c].focus()}break;case"Escape":(0,n.closeAllDropdowns)(),this.focusMainNav(s);break;case"ArrowLeft":{const e="rtl"!==document.dir&&!(null!==l&&void 0!==l&&l.querySelector(r.selectors.popupItems)),t="rtl"===document.dir&&!(null!==u&&void 0!==u&&u.querySelector(r.selectors.popupItems));if(e||t){this.focusMainNav(s);break}"rtl"!==document.dir?l.querySelector(r.selectors.popupItems).focus():u.querySelector(r.selectors.popupItems).focus();break}case"ArrowUp":if(-1===a){this.focusMainNav(s);break}i[a].focus();break;case"ArrowRight":{const e="rtl"!==document.dir&&!(null!==u&&void 0!==u&&u.querySelector(r.selectors.popupItems)),t="rtl"===document.dir&&!(null!==l&&void 0!==l&&l.querySelector(r.selectors.popupItems));if(e||t){this.focusMainNav(s);break}"rtl"!==document.dir?u.querySelector(r.selectors.popupItems).focus():l.querySelector(r.selectors.popupItems).focus();break}case"ArrowDown":if(-1===c){this.focusMainNavNext(s);break}i[c].focus()}})),(0,s.A)(this,"addEventListeners",(()=>{var e,t;null===(e=document.querySelector(r.selectors.globalNav))||void 0===e||e.addEventListener("keydown",(e=>(0,n.logErrorFor)((()=>{const t=(0,r.getOpenPopup)();e.target.closest(r.selectors.popup)&&t&&this.desktop.matches&&this.handleKeyDown({e:e,element:t,isFooter:!1})}),"popup key failed ".concat(e.code),"errorType=error,module=gnav-keyboard"))),null===(t=document.querySelector(r.selectors.globalFooter))||void 0===t||t.addEventListener("keydown",(e=>(0,n.logErrorFor)((()=>{if(!this.desktop.matches)return;const t=e.target.closest(r.selectors.globalFooter);this.handleKeyDown({e:e,element:t,isFooter:!0})}),"footer key failed ".concat(e.code),"errorType=error,module=gnav-keyboard")))})),this.mainNav=t,this.addEventListeners(),this.desktop=window.matchMedia("(min-width: 900px)")}open(){var e;let{focus:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=[...(null===(e=(0,r.getOpenPopup)())||void 0===e?void 0:e.querySelectorAll(r.selectors.popupItems))||[]];if(!o.length)return;const s=(0,r.getNextVisibleItemPosition)(-1,o),n=(0,r.getPreviousVisibleItemPosition)(o.length,o);"first"===t&&o[s].focus(),"last"===t&&o[n].focus()}}),a=()=>{const e=[...document.querySelectorAll("".concat(r.selectors.headline,'[aria-expanded="true"]'))];e.forEach((e=>e.setAttribute("aria-expanded","false"))),(0,n.setActiveDropdown)(e[0])},c=function(){let{headline:e,focus:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(),"true"===e.getAttribute("aria-haspopup")){e.setAttribute("aria-expanded","true"),(0,n.setActiveDropdown)(e);const o=[...(e.closest(r.selectors.section)||e.closest(r.selectors.column)).querySelectorAll(r.selectors.popupItems)].filter((e=>(0,r.isElementVisible)(e)));"first"===t&&o[0].focus(),"last"===t&&o[o.length-1].focus()}},l=function(){var e,t,o,s;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.getOpenPopup)();if(!n)return{popupItems:[]};const i=[...n.querySelectorAll(r.selectors.popupItems)],a=document.activeElement.closest(r.selectors.section)||document.activeElement.closest(r.selectors.column);let c=[...n.querySelectorAll(r.selectors.section)];c.length||(c=[...n.querySelectorAll(r.selectors.column)]);const l=c.filter((e=>(0,r.isElementVisible)(e))),u=l.findIndex((e=>e.isEqualNode(a)));return{visibleSections:l,currentSection:u,firstHeadline:null===(e=l[0])||void 0===e?void 0:e.querySelector(r.selectors.headline),lastHeadline:null===(t=l[l.length-1])||void 0===t?void 0:t.querySelector(r.selectors.headline),prevHeadline:null===(o=l[u-1])||void 0===o?void 0:o.querySelector(r.selectors.headline),nextHeadline:null===(s=l[u+1])||void 0===s?void 0:s.querySelector(r.selectors.headline),popupItems:i}},u=class{constructor(e){let{mainNav:t}=e;(0,s.A)(this,"mobileArrowUp",(e=>{var t;let{prev:o,curr:s,element:r,isFooter:n,newNav:i}=e;const u=l(r),{currentSection:d}=u,p=i&&!n?this.popupItems():u.popupItems;if(-1!==o&&s-1===o)return p[o].focus(),void(d!==l(r).currentSection&&a());const{prevHeadline:f}=l(r);f||i?i&&!n?null===p||void 0===p||null===(t=p[p.length-1])||void 0===t||t.focus():c({headline:f,focus:"last"}):this.focusMainNav(n)})),(0,s.A)(this,"mobileArrowDown",(e=>{var t;let{next:o,element:s,isFooter:r,newNav:n}=e;const i=l(s),{currentSection:u}=i,d=n&&!r?this.popupItems():i.popupItems;if(-1!==o)return d[o].focus(),void(u!==l(s).currentSection&&a());const{nextHeadline:p}=l(s);if(!p&&!n)return a(),void this.focusMainNavNext(r);n&&!r?null===d||void 0===d||null===(t=d[0])||void 0===t||t.focus():c({headline:p,focus:"first"})})),(0,s.A)(this,"focusMainNav",(e=>{e||this.mainNav.focusCurr()})),(0,s.A)(this,"focusMainNavNext",(e=>{e||(this.mainNav.focusNext(),this.mainNav.open())})),(0,s.A)(this,"popupItems",(()=>{const e=document.querySelector(r.selectors.activePopup);if(!e)return[];const t=[...e.querySelectorAll(r.selectors.tab)],o=t.find((e=>"true"===e.getAttribute("aria-selected"))),s=(0,n.takeWhile)(t,(e=>e!==o)),i=(0,n.dropWhile)(t,(e=>e!==o)).slice(1),a=[...e.querySelectorAll(r.selectors.activeLinks)],c=e.querySelector(r.selectors.stickyCta),l=e.querySelectorAll(r.selectors.topBarLinks),u=e.querySelectorAll(r.selectors.breadCrumbItems);return[...s,o,...a,c,...i,...l,...u].filter(Boolean)})),(0,s.A)(this,"handleKeyDown",(e=>{let{e:t,element:o,isFooter:s}=e;const i=!!document.querySelector("header.new-nav"),u=!!document.querySelector("header.local-nav"),d=i&&!s?this.popupItems():[...o.querySelectorAll(r.selectors.popupItems)],p=d.findIndex((e=>e===t.target)),f=(0,r.getPreviousVisibleItemPosition)(p,d),v=(0,r.getNextVisibleItemPosition)(p,d);switch(t.preventDefault(),t.stopPropagation(),t.code){case"Tab":t.shiftKey?this.mobileArrowUp({prev:f,curr:p,element:o,isFooter:s,newNav:i}):this.mobileArrowDown({curr:p,next:v,element:o,isFooter:s,newNav:i});break;case"Escape":if((0,n.closeAllDropdowns)(),this.focusMainNav(s),i&&u&&!s){const e=document.querySelector("header.new-nav .feds-toggle");null===e||void 0===e||e.click(),null===e||void 0===e||e.focus()}break;case"ArrowLeft":{if(i)break;const{prevHeadline:e,nextHeadline:t}=l(o),r="rtl"!==document.dir?e:t;if(!r){s||a(),"rtl"!==document.dir?this.focusMainNav(s):this.focusMainNavNext(s);break}c({headline:r,focus:"first"});break}case"ArrowUp":if(i)break;this.mobileArrowUp({prev:f,curr:p,element:o,isFooter:s});break;case"ArrowRight":{if(i)break;const{prevHeadline:e,nextHeadline:t}=l(o),r="rtl"!==document.dir?t:e;if(!r){s||a(),"rtl"!==document.dir?this.focusMainNavNext(s):this.focusMainNav(s);break}c({headline:r,focus:"first"});break}case"ArrowDown":if(i)break;this.mobileArrowDown({next:v,element:o,isFooter:s})}})),(0,s.A)(this,"addEventListeners",(()=>{var e,t;null===(e=document.querySelector(r.selectors.globalNav))||void 0===e||e.addEventListener("keydown",(e=>(0,n.logErrorFor)((()=>{const t=(0,r.getOpenPopup)();e.target.closest(r.selectors.popup)&&t&&!this.desktop.matches&&this.handleKeyDown({e:e,element:t,popupEl:t,isFooter:!1})}),"popup key failed ".concat(e.code),"errorType=error,module=gnav-keyboard"))),null===(t=document.querySelector(r.selectors.globalFooter))||void 0===t||t.addEventListener("keydown",(e=>(0,n.logErrorFor)((()=>{const t=e.target.closest(r.selectors.menuContent);if(!t||this.desktop.matches)return;const o=t.querySelector(r.selectors.popupItems),s=t.querySelector(r.selectors.headline),n=e.target===o,i=e.target===s;return e.shiftKey&&(n||i)?void 0:e.target.closest(r.selectors.headline)?(c({headline:e.target.closest(r.selectors.headline),focus:"first"}),e.preventDefault(),void e.stopPropagation()):void this.handleKeyDown({e:e,element:t,isFooter:!0})}),"footer key failed ".concat(e.code),"errorType=error,module=gnav-keyboard")))})),this.mainNav=t,this.addEventListeners(),this.desktop=window.matchMedia("(min-width: 900px)")}open(){let{focus:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{firstHeadline:t,lastHeadline:o,popupItems:s}=l();if(!s.length)return;const i="last"===e?o:t;i&&"true"===i.getAttribute("aria-haspopup")&&(a(),i.setAttribute("aria-expanded","true"));const c=(0,r.getNextVisibleItemPosition)(-1,s),u=(0,r.getPreviousVisibleItemPosition)(s.length,s);"first"===e&&s[c].focus(),"last"===e&&s[u].focus(),(0,n.setActiveDropdown)("first"===e?s[c]:s[u])}},d=class{constructor(){var e=this;(0,s.A)(this,"getState",(()=>{var e;const t=[...document.querySelectorAll(r.selectors.mainNavItems)],o=document.querySelector(r.selectors.expandedPopupTrigger),s=null===(e=document.activeElement.closest(r.selectors.navItem))||void 0===e?void 0:e.querySelector(r.selectors.mainNavItems),n=t.findIndex((e=>e===s));return{items:t,curr:n,prev:(0,r.getPreviousVisibleItemPosition)(n,t),next:(0,r.getNextVisibleItemPosition)(n,t),openTrigger:o}})),(0,s.A)(this,"focusCurr",(()=>{const{items:e,curr:t}=this.getState();e[t].focus()})),(0,s.A)(this,"focusPrev",(function(){let{focus:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:o,prev:s}=e.getState(),i=document.querySelector(r.selectors.expandedPopupTrigger);(0,n.closeAllDropdowns)(),-1!==s&&(o[s].focus(),i&&e.open({focus:t}))})),(0,s.A)(this,"focusNext",(()=>{const{items:e,next:t}=this.getState();-1!==t&&((0,n.closeAllDropdowns)(),e[t].focus())})),(0,s.A)(this,"open",(function(){let{focus:t,triggerEl:o,e:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:i,curr:a}=e.getState(),c=o||i[a];if(!c||!c.hasAttribute("aria-haspopup"))return;s&&s.preventDefault(),"false"===c.getAttribute("aria-expanded")&&(0,n.trigger)({element:c});const l=c.parentElement;if(l.querySelector(r.selectors.popup))return void(e.desktop.matches?e.popup.open({focus:t}):e.mobilePopup.open({focus:t}));const u=new MutationObserver((()=>{u.disconnect(),e.desktop.matches?e.popup.open({focus:t}):e.mobilePopup.open({focus:t})}));u.observe(l,{childList:!0})})),this.desktop=window.matchMedia("(min-width: 900px)"),this.popup=new i({mainNav:this}),this.mobilePopup=new u({mainNav:this}),this.addEventListeners()}addEventListeners(){document.querySelector(r.selectors.globalNav).addEventListener("keydown",(e=>(0,n.logErrorFor)((()=>{if(!e.target.closest(r.selectors.fedsNav)||e.target.closest(r.selectors.popup))return;const t=!!document.querySelector("header.new-nav");switch(e.code){case"Tab":if(t){var o;document.querySelector(r.selectors.activePopup)||e.preventDefault();const t=[...document.querySelectorAll("".concat(r.selectors.mainMenuItems,", ").concat(r.selectors.mainMenuLinks,", ").concat(r.selectors.mainNavToggle))],s=t.findIndex((t=>t===e.target));if(s>-1){const o=s<t.length-1?s+1:0,r=s>0?s-1:t.length-1;e.shiftKey?t[r].focus():t[o].focus()}else null===t||void 0===t||null===(o=t[0])||void 0===o||o.focus();break}if(e.shiftKey){const{prev:t,openTrigger:o}=this.getState();o&&(-1===t?(0,n.closeAllDropdowns)():(e.preventDefault(),this.focusPrev({focus:"last"})))}break;case"Escape":{(0,n.closeAllDropdowns)();const e=document.querySelector(r.selectors.activePopup);if(t&&!e){const e=document.querySelector("header.new-nav .feds-toggle");null===e||void 0===e||e.click(),null===e||void 0===e||e.focus()}break}case"ArrowLeft":{if(t)break;const{next:e,prev:o}=this.getState();if("rtl"!==document.dir){if(-1===o)break;this.focusPrev({focus:null})}else{if(-1===e)break;this.focusNext({focus:null})}break}case"ArrowUp":if(t)break;e.preventDefault(),e.stopPropagation(),this.focusPrev({focus:"last"});break;case"ArrowRight":{if(t)break;const{next:e,prev:o,openTrigger:s}=this.getState();if("rtl"!==document.dir){if(-1===e)break;this.focusNext()}else{if(-1===o)break;this.focusPrev({focus:null})}s&&this.open();break}case"ArrowDown":{if(t)break;e.stopPropagation(),e.preventDefault();const{items:o,curr:s}=this.getState();if(o[s]&&o[s].hasAttribute("aria-haspopup"))return void this.open({focus:"first"});this.focusNext();break}}}),"mainNav key failed ".concat(e.code),"errorType=error,module=gnav-keyboard")))}},p=e=>{let{e:t}=e;const o=document.querySelectorAll(r.selectors.profileDropdown);if(!o.length)return{next:-1,prev:-1,items:[]};const s=[...o],n=s.findIndex((e=>e===t.target));return{next:n+1,prev:n-1,curr:n,items:s}},f=()=>{var e;(0,n.closeAllDropdowns)(),null===(e=document.querySelector("".concat(r.selectors.profileButton,", ").concat(r.selectors.signIn)))||void 0===e||e.focus()},v=class{constructor(e){(0,s.A)(this,"loadLnavNavigation",(async()=>(this.localNav||(this.localNav=(async()=>{try{const{default:e}=await o.e(778).then(o.bind(o,778));return new e}catch(e){return(0,n.lanaLog)({message:"Keyboard Navigation failed to load for LNAV",e:e,tags:"errorType=info,module=gnav-keyboard"}),null}})()),this.localNav))),(0,s.A)(this,"addEventListeners",(()=>{[...document.querySelectorAll("".concat(r.selectors.globalNav,", ").concat(r.selectors.globalFooter))].forEach((e=>{e.addEventListener("keydown",(t=>(0,n.logErrorFor)((()=>{switch(t.code){case"Tab":{const e=!!document.querySelector("header.new-nav"),o=document.querySelector(r.selectors.navWrapper).classList.contains(r.selectors.navWrapperExpanded.slice(1));if(e&&o)t.target.classList.contains(r.selectors.mainNavToggle.slice(1))&&(t.preventDefault(),document.querySelector("".concat(r.selectors.mainMenuItems,", ").concat(r.selectors.mainMenuLinks)).focus());else{(e=>{let{e:t,isDesktop:o}=e;const s=[...document.querySelectorAll("\n      ".concat(r.selectors.brand,",\n      ").concat(r.selectors.mainNavToggle,",\n      ").concat(r.selectors.mainNavItems,",\n      ").concat(r.selectors.searchTrigger,",\n      ").concat(r.selectors.searchField,",\n      ").concat(r.selectors.signIn,",\n      ").concat(r.selectors.profileButton,",\n      ").concat(r.selectors.logo,"\n  "))],n=(0,r.getNextVisibleItemPosition)(-1,s),i=(0,r.getPreviousVisibleItemPosition)(s.length,s);o&&document.querySelector(r.selectors.openSearch)&&document.activeElement===s[t.shiftKey?n:i]&&(t.preventDefault(),s[t.shiftKey?i:n].focus())})({e:t,isDesktop:this.desktop.matches});const{items:e}=p({e:t}),o=t.target.closest("".concat(r.selectors.signIn,", ").concat(r.selectors.profileButton));t.shiftKey&&t.target===o&&f(),e[e.length-1]===t.target&&(t.preventDefault(),t.stopPropagation(),f())}break}case"Enter":case"Space":if(t.target.closest(r.selectors.searchField)||t.target.closest(".feds-client-search"))return;t.stopPropagation(),t.preventDefault(),t.target.click();break;case"ArrowDown":if(t.target.closest(r.selectors.profile)){if((e=>{let{e:t,el:o}=e;const s=t.target.closest("".concat(r.selectors.signIn,", ").concat(r.selectors.profileButton));var n;return"false"===(null===s||void 0===s?void 0:s.getAttribute("aria-expanded"))&&(t.target.click(),null===(n=o.querySelector(r.selectors.profileDropdown))||void 0===n||n.focus(),!0)})({e:t,el:e}))break;(e=>{let{e:t}=e;const{items:o,next:s}=p({e:t});o[s]?o[s].focus():(t.preventDefault(),t.stopPropagation(),f())})({e:t})}break;case"ArrowUp":t.target.closest(r.selectors.profile)&&(e=>{let{e:t}=e;const{items:o,prev:s}=p({e:t});o[s]?o[s].focus():(t.preventDefault(),t.stopPropagation(),f())})({e:t})}}),"KeyboardNavigation index failed. ".concat(t.code),"errorType=error,module=gnav-keyboard")))}))}));try{this.addEventListeners(),this.mainNav=new d,e&&this.loadLnavNavigation(),this.desktop=window.matchMedia("(min-width: 900px)")}catch(t){(0,n.lanaLog)({message:"Keyboard Navigation failed to load",e:t,tags:"errorType=error,module=gnav-keyboard"})}}}}}]);
//# sourceMappingURL=8994.a160bcde.chunk.js.map